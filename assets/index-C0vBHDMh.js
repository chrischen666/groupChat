(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var hd={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function BA(){if(s_)return sl;s_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return sl.Fragment=t,sl.jsx=n,sl.jsxs=n,sl}var a_;function qA(){return a_||(a_=1,hd.exports=BA()),hd.exports}var St=qA(),fd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function jA(){if(o_)return At;o_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,W={};function Z(D,$,nt){this.props=D,this.context=$,this.refs=W,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function rt(){}rt.prototype=Z.prototype;function ot(D,$,nt){this.props=D,this.context=$,this.refs=W,this.updater=nt||j}var ut=ot.prototype=new rt;ut.constructor=ot,q(ut,Z.prototype),ut.isPureReactComponent=!0;var bt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function V(D,$,nt,J,ft,It){return nt=It.ref,{$$typeof:r,type:D,key:$,ref:nt!==void 0?nt:null,props:It}}function S(D,$){return V(D.type,$,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return $[nt]})}var M=/\/+/g;function P(D,$){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):$.toString(36)}function C(){}function Ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,$,nt,J,ft){var It=typeof D;(It==="undefined"||It==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case A:return vt=D._init,re(vt(D._payload),$,nt,J,ft)}}if(vt)return ft=ft(D),vt=J===""?"."+P(D,0):J,bt(ft)?(nt="",vt!=null&&(nt=vt.replace(M,"$&/")+"/"),re(ft,$,nt,"",function(zn){return zn})):ft!=null&&(I(ft)&&(ft=S(ft,nt+(ft.key==null||D&&D.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+vt)),$.push(ft)),1;vt=0;var we=J===""?".":J+":";if(bt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],It=we+P(J,Zt),vt+=re(J,$,nt,It,ft);else if(Zt=w(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,It=we+P(J,Zt++),vt+=re(J,$,nt,It,ft);else if(It==="object"){if(typeof D.then=="function")return re(Ve(D),$,nt,J,ft);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(D,$,nt){if(D==null)return D;var J=[],ft=0;return re(D,J,"","",function(It){return $.call(nt,It,ft++)}),J}function et(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return At.Children={map:G,forEach:function(D,$,nt){G(D,function(){$.apply(this,arguments)},nt)},count:function(D){var $=0;return G(D,function(){$++}),$},toArray:function(D){return G(D,function($){return $})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=Z,At.Fragment=n,At.Profiler=l,At.PureComponent=ot,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,$,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=q({},D.props),ft=D.key,It=void 0;if($!=null)for(vt in $.ref!==void 0&&(It=void 0),$.key!==void 0&&(ft=""+$.key),$)!Dt.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(J[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)J.children=nt;else if(1<vt){for(var we=Array(vt),Zt=0;Zt<vt;Zt++)we[Zt]=arguments[Zt+2];J.children=we}return V(D.type,ft,void 0,void 0,It,J)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},At.createElement=function(D,$,nt){var J,ft={},It=null;if($!=null)for(J in $.key!==void 0&&(It=""+$.key),$)Dt.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=$[J]);var vt=arguments.length-2;if(vt===1)ft.children=nt;else if(1<vt){for(var we=Array(vt),Zt=0;Zt<vt;Zt++)we[Zt]=arguments[Zt+2];ft.children=we}if(D&&D.defaultProps)for(J in vt=D.defaultProps,vt)ft[J]===void 0&&(ft[J]=vt[J]);return V(D,It,void 0,void 0,null,ft)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=I,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},At.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},At.startTransition=function(D){var $=pt.T,nt={};pt.T=nt;try{var J=D(),ft=pt.S;ft!==null&&ft(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ct)}catch(It){ct(It)}finally{pt.T=$}},At.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},At.use=function(D){return pt.H.use(D)},At.useActionState=function(D,$,nt){return pt.H.useActionState(D,$,nt)},At.useCallback=function(D,$){return pt.H.useCallback(D,$)},At.useContext=function(D){return pt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,$){return pt.H.useDeferredValue(D,$)},At.useEffect=function(D,$,nt){var J=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,$)},At.useId=function(){return pt.H.useId()},At.useImperativeHandle=function(D,$,nt){return pt.H.useImperativeHandle(D,$,nt)},At.useInsertionEffect=function(D,$){return pt.H.useInsertionEffect(D,$)},At.useLayoutEffect=function(D,$){return pt.H.useLayoutEffect(D,$)},At.useMemo=function(D,$){return pt.H.useMemo(D,$)},At.useOptimistic=function(D,$){return pt.H.useOptimistic(D,$)},At.useReducer=function(D,$,nt){return pt.H.useReducer(D,$,nt)},At.useRef=function(D){return pt.H.useRef(D)},At.useState=function(D){return pt.H.useState(D)},At.useSyncExternalStore=function(D,$,nt){return pt.H.useSyncExternalStore(D,$,nt)},At.useTransition=function(){return pt.H.useTransition()},At.version="19.1.0",At}var l_;function tm(){return l_||(l_=1,fd.exports=jA()),fd.exports}var Es=tm(),dd={exports:{}},al={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function HA(){return u_||(u_=1,function(r){function t(G,et){var ct=G.length;G.push(et);t:for(;0<ct;){var zt=ct-1>>>1,D=G[zt];if(0<l(D,et))G[zt]=et,G[ct]=D,ct=zt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ct=G.pop();if(ct!==et){G[0]=ct;t:for(var zt=0,D=G.length,$=D>>>1;zt<$;){var nt=2*(zt+1)-1,J=G[nt],ft=nt+1,It=G[ft];if(0>l(J,ct))ft<D&&0>l(It,J)?(G[zt]=It,G[ft]=ct,zt=ft):(G[zt]=J,G[nt]=ct,zt=nt);else if(ft<D&&0>l(It,ct))G[zt]=It,G[ft]=ct,zt=ft;else break t}}return et}function l(G,et){var ct=G.sortIndex-et.sortIndex;return ct!==0?ct:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],A=1,R=null,w=3,j=!1,q=!1,W=!1,Z=!1,rt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function bt(G){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=G)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function pt(G){if(W=!1,bt(G),!q)if(n(p)!==null)q=!0,Dt||(Dt=!0,P());else{var et=n(_);et!==null&&re(pt,et.startTime-G)}}var Dt=!1,V=-1,S=5,I=-1;function N(){return Z?!0:!(r.unstable_now()-I<S)}function M(){if(Z=!1,Dt){var G=r.unstable_now();I=G;var et=!0;try{t:{q=!1,W&&(W=!1,ot(V),V=-1),j=!0;var ct=w;try{e:{for(bt(G),R=n(p);R!==null&&!(R.expirationTime>G&&N());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,w=R.priorityLevel;var D=zt(R.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){R.callback=D,bt(G),et=!0;break e}R===n(p)&&s(p),bt(G)}else s(p);R=n(p)}if(R!==null)et=!0;else{var $=n(_);$!==null&&re(pt,$.startTime-G),et=!1}}break t}finally{R=null,w=ct,j=!1}et=void 0}}finally{et?P():Dt=!1}}}var P;if(typeof ut=="function")P=function(){ut(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ve=C.port2;C.port1.onmessage=M,P=function(){Ve.postMessage(null)}}else P=function(){rt(M,0)};function re(G,et){V=rt(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var et=3;break;default:et=w}var ct=w;w=et;try{return G()}finally{w=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=w;w=G;try{return et()}finally{w=ct}},r.unstable_scheduleCallback=function(G,et,ct){var zt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,G={id:A++,callback:et,priorityLevel:G,startTime:ct,expirationTime:D,sortIndex:-1},ct>zt?(G.sortIndex=ct,t(_,G),n(p)===null&&G===n(_)&&(W?(ot(V),V=-1):W=!0,re(pt,ct-zt))):(G.sortIndex=D,t(p,G),q||j||(q=!0,Dt||(Dt=!0,P()))),G},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(G){var et=w;return function(){var ct=w;w=et;try{return G.apply(this,arguments)}finally{w=ct}}}}(gd)),gd}var c_;function GA(){return c_||(c_=1,md.exports=HA()),md.exports}var pd={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function FA(){if(h_)return He;h_=1;var r=tm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:p,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(p,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,A)},He.flushSync=function(p){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=A,s.d.f()}},He.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},He.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},He.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:w,fetchPriority:j}):A==="script"&&s.d.X(p,{crossOrigin:R,integrity:w,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},He.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=g(A,_.crossOrigin);s.d.L(p,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(p,_){if(typeof p=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},He.requestFormReset=function(p){s.d.r(p)},He.unstable_batchedUpdates=function(p,_){return p(_)},He.useFormState=function(p,_,A){return d.H.useFormState(p,_,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var f_;function QA(){if(f_)return pd.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pd.exports=FA(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function KA(){if(d_)return al;d_=1;var r=GA(),t=tm(),n=QA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case Z:return"Profiler";case W:return"StrictMode";case pt:return"Suspense";case Dt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case ot:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Ve(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ve(e(i))}catch{}}return null}var re=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],D=-1;function $(e){return{current:e}}function nt(e){0>D||(e.current=zt[D],zt[D]=null,D--)}function J(e,i){D++,zt[D]=e.current,e.current=i}var ft=$(null),It=$(null),vt=$(null),we=$(null);function Zt(e,i){switch(J(vt,i),J(It,e),J(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?My(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=My(i),e=xy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),J(ft,e)}function zn(){nt(ft),nt(It),nt(vt)}function Hi(e){e.memoizedState!==null&&J(we,e);var i=ft.current,a=xy(i,e.type);i!==a&&(J(It,e),J(ft,a))}function li(e){It.current===e&&(nt(ft),nt(It)),we.current===e&&(nt(we),tl._currentValue=ct)}var xr=Object.prototype.hasOwnProperty,Pr=r.unstable_scheduleCallback,kr=r.unstable_cancelCallback,$a=r.unstable_shouldYield,zl=r.unstable_requestPaint,mn=r.unstable_now,ch=r.unstable_getCurrentPriorityLevel,Za=r.unstable_ImmediatePriority,Ms=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,hh=r.unstable_LowPriority,xs=r.unstable_IdlePriority,Ja=r.log,Bl=r.unstable_setDisableYieldValue,se=null,Ht=null;function nn(e){if(typeof Ja=="function"&&Bl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:Lr,ql=Math.log,fh=Math.LN2;function Lr(e){return e>>>=0,e===0?32:31-(ql(e)/fh|0)|0}var zr=256,Br=4194304;function Cn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ps(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Cn(o):(v&=E,v!==0?h=Cn(v):a||(a=E&~e,a!==0&&(h=Cn(a))))):(E=o&~f,E!==0?h=Cn(E):v!==0?h=Cn(v):a||(a=o&~e,a!==0&&(h=Cn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function qr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Wa(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),e}function eo(){var e=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ci(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function no(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-qe(a),K=1<<F;E[F]=0,b[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&Bn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function Bn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-qe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function io(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:Wy(e.type))}function jl(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),_e="__reactFiber$"+te,fe="__reactProps$"+te,gn="__reactContainer$"+te,ro="__reactEvents$"+te,dh="__reactListeners$"+te,Qi="__reactHandles$"+te,Hl="__reactResources$"+te,jr="__reactMarker$"+te;function Ki(e){delete e[_e],delete e[fe],delete e[ro],delete e[dh],delete e[Qi]}function hi(e){var i=e[_e];if(i)return i;for(var a=e.parentNode;a;){if(i=a[gn]||a[_e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[_e])return a;e=Ly(e)}return i}e=a,a=e.parentNode}return null}function qn(e){if(e=e[_e]||e[gn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ye(e){var i=e[Hl];return i||(i=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[jr]=!0}var so=new Set,Us={};function Dn(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(Us[e]=i,e=0;e<i.length;e++)so.add(i[e])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hr={};function Ql(e){return xr.call(Hr,e)?!0:xr.call(Fl,e)?!1:Gl.test(e)?Hr[e]=!0:(Fl[e]=!0,!1)}function Yi(e,i,a){if(Ql(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Hn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Me(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Gr,Kl;function di(e){if(Gr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Gr=i&&i[1]||"",Kl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+e+Kl}var Ls=!1;function zs(e,i){if(!e||Ls)return"";Ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var F=`
`+b[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{Ls=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?di(a):""}function ao(e){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return di("Activity");default:return""}}function Bs(e){try{var i="";do i+=ao(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mh(e){var i=oo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function qs(e){e._valueTracker||(e._valueTracker=mh(e))}function lo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=oo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Fr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gh=/[\n"\\]/g;function de(e){return e.replace(gh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function rn(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Xe(i)):e.value!==""+Xe(i)&&(e.value=""+Xe(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Xi(e,v,Xe(i)):a!=null?Xi(e,v,Xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Qr(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Xe(a):"",i=i!=null?""+Xe(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Xi(e,i,a){i==="number"&&Fr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function mi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+Xe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Xe(a):""}function Kr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Xe(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Yr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Yl(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Yl(e,f,i[f])}function co(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(e){return yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,yi=null;function ho(e){var i=qn(e);if(i&&(e=i.stateNode)){var a=e[fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(rn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(s(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&lo(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&mi(e,!!a.multiple,i,!1)}}}var Gn=!1;function Xl(e,i,a){if(Gn)return e(i,a);Gn=!0;try{var o=e(i);return o}finally{if(Gn=!1,(pi!==null||yi!==null)&&(ju(),pi&&(i=pi,e=yi,yi=pi=null,ho(i),e)))for(i=0;i<e.length;i++)ho(e[i])}}function Xr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[fe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(On)try{var $r={};Object.defineProperty($r,"passive",{get:function(){_n=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{_n=!1}var Fn=null,$i=null,_i=null;function fo(){if(_i)return _i;var e,i=$i,a=i.length,o,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return _i=h.slice(e,1<o?1-o:void 0)}function Qn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function mo(){return!1}function Re(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:mo,this.isPropagationStopped=mo,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Re(qt),Zr=A({},qt,{view:0,detail:0}),$l=Re(Zr),Gs,Fs,Yn,Jr=A({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Gs=e.screenX-Yn.screenX,Fs=e.screenY-Yn.screenY):Fs=Gs=0,Yn=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Fs}}),vn=Re(Jr),Zl=A({},Jr,{dataTransfer:0}),_h=Re(Zl),Wr=A({},Zr,{relatedTarget:0}),Qs=Re(Wr),go=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Re(go),Jl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ys=Re(Jl),vh=A({},qt,{data:0}),po=Re(vh),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=tu[e])?!!i[e]:!1}function es(){return yo}var eu=A({},Zr,{key:function(e){if(e.key){var i=ts[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=Re(eu),nu=A({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_o=Re(nu),vi=A({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),iu=Re(vi),ru=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Re(ru),au=A({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=Re(au),$e=A({},qt,{newState:0,oldState:0}),ou=Re($e),lu=[9,13,27,32],Xn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,y=On&&(!Xn||u&&8<u&&11>=u),T=" ",k=!1;function H(e,i){switch(e){case"keyup":return lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function ve(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(k=!0,T);case"textInput":return e=i.data,e===T&&k?null:e;default:return null}}function Pt(e,i){if(xt)return e==="compositionend"||!Xn&&H(e,i)?(e=fo(),_i=$i=Fn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ie[e.type]:i==="textarea"}function Ei(e,i,a,o){pi?yi?yi.push(o):yi=[o]:pi=o,i=Yu(i,"onChange"),0<i.length&&(a=new Hs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var xe=null,$n=null;function vo(e){Cy(e,0)}function uu(e){var i=jn(e);if(lo(i))return e}function Xm(e,i){if(e==="change")return i}var $m=!1;if(On){var Eh;if(On){var Th="oninput"in document;if(!Th){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),Th=typeof Zm.oninput=="function"}Eh=Th}else Eh=!1;$m=Eh&&(!document.documentMode||9<document.documentMode)}function Jm(){xe&&(xe.detachEvent("onpropertychange",Wm),$n=xe=null)}function Wm(e){if(e.propertyName==="value"&&uu($n)){var i=[];Ei(i,$n,e,yn(e)),Xl(vo,i)}}function pT(e,i,a){e==="focusin"?(Jm(),xe=i,$n=a,xe.attachEvent("onpropertychange",Wm)):e==="focusout"&&Jm()}function yT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu($n)}function _T(e,i){if(e==="click")return uu(i)}function vT(e,i){if(e==="input"||e==="change")return uu(i)}function ET(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var sn=typeof Object.is=="function"?Object.is:ET;function Eo(e,i){if(sn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!xr.call(i,h)||!sn(e[h],i[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,i){var a=tg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Fr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Fr(e.document)}return i}function Ah(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var TT=On&&"documentMode"in document&&11>=document.documentMode,Zs=null,Sh=null,To=null,bh=!1;function rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bh||Zs==null||Zs!==Fr(o)||(o=Zs,"selectionStart"in o&&Ah(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),To&&Eo(To,o)||(To=o,o=Yu(Sh,"onSelect"),0<o.length&&(i=new Hs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Zs)))}function ns(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Js={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},wh={},sg={};On&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function is(e){if(wh[e])return wh[e];if(!Js[e])return e;var i=Js[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return wh[e]=i[a];return e}var ag=is("animationend"),og=is("animationiteration"),lg=is("animationstart"),AT=is("transitionrun"),ST=is("transitionstart"),bT=is("transitioncancel"),ug=is("transitionend"),cg=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function Nn(e,i){cg.set(e,i),Dn(i,[e])}var hg=new WeakMap;function En(e,i){if(typeof e=="object"&&e!==null){var a=hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Bs(i)},hg.set(e,i),i)}return{value:e,source:i,stack:Bs(i)}}var Tn=[],Ws=0,Ih=0;function cu(){for(var e=Ws,i=Ih=Ws=0;i<e;){var a=Tn[i];Tn[i++]=null;var o=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var f=Tn[i];if(Tn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&fg(a,h,f)}}function hu(e,i,a,o){Tn[Ws++]=e,Tn[Ws++]=i,Tn[Ws++]=a,Tn[Ws++]=o,Ih|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ch(e,i,a,o){return hu(e,i,a,o),fu(e)}function ta(e,i){return hu(e,null,null,i),fu(e)}function fg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-qe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function fu(e){if(50<Qo)throw Qo=0,Pf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ea={};function wT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,i,a,o){return new wT(e,i,a,o)}function Dh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ti(e,i){var a=e.alternate;return a===null?(a=an(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function dg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function du(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Dh(e)&&(v=1);else if(typeof e=="string")v=IA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=an(31,a,i,h),e.elementType=I,e.lanes=f,e;case q:return rs(a.children,h,f,i);case W:v=8,h|=24;break;case Z:return e=an(12,a,i,h|2),e.elementType=Z,e.lanes=f,e;case pt:return e=an(13,a,i,h),e.elementType=pt,e.lanes=f,e;case Dt:return e=an(19,a,i,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:case ut:v=10;break t;case ot:v=9;break t;case bt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=an(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function rs(e,i,a,o){return e=an(7,e,o,i),e.lanes=a,e}function Oh(e,i,a){return e=an(6,e,null,i),e.lanes=a,e}function Nh(e,i,a){return i=an(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var na=[],ia=0,mu=null,gu=0,An=[],Sn=0,ss=null,Ai=1,Si="";function as(e,i){na[ia++]=gu,na[ia++]=mu,mu=e,gu=i}function mg(e,i,a){An[Sn++]=Ai,An[Sn++]=Si,An[Sn++]=ss,ss=e;var o=Ai;e=Si;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var f=32-qe(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ai=1<<32-qe(i)+h|a<<h|o,Si=f+e}else Ai=1<<f|a<<h|o,Si=e}function Vh(e){e.return!==null&&(as(e,1),mg(e,1,0))}function Mh(e){for(;e===mu;)mu=na[--ia],na[ia]=null,gu=na[--ia],na[ia]=null;for(;e===ss;)ss=An[--Sn],An[Sn]=null,Si=An[--Sn],An[Sn]=null,Ai=An[--Sn],An[Sn]=null}var Ze=null,ae=null,Bt=!1,os=null,Zn=!1,xh=Error(s(519));function ls(e){var i=Error(s(418,""));throw bo(En(i,e)),xh}function gg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[_e]=e,i[fe]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Yo.length;a++)Nt(Yo[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Qr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),Kr(i,o.value,o.defaultValue,o.children),qs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Vy(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=Xu),i=!0):i=!1,i||ls(e)}function pg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function Ao(e){if(e!==Ze)return!1;if(!Bt)return pg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zf(e.type,e.memoizedProps)),a=!a),a&&ae&&ls(e),pg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=Mn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,fr(e.type)?(e=ed,ed=null,ae=e):ae=i):ae=Ze?Mn(e.stateNode.nextSibling):null;return!0}function So(){ae=Ze=null,Bt=!1}function yg(){var e=os;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),os=null),e}function bo(e){os===null?os=[e]:os.push(e)}var Ph=$(null),us=null,bi=null;function Zi(e,i,a){J(Ph,i._currentValue),i._currentValue=a}function wi(e){e._currentValue=Ph.current,nt(Ph)}function kh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Uh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),kh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),kh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;sn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===we.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(tl):e=[tl])}h=h.return}e!==null&&Uh(i,e,a,o),i.flags|=262144}function pu(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function cs(e){us=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return _g(us,e)}function yu(e,i){return us===null&&cs(e),_g(e,i)}function _g(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},bi===null){if(e===null)throw Error(s(308));bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else bi=bi.next=i;return a}var RT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},IT=r.unstable_scheduleCallback,CT=r.unstable_NormalPriority,Te={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new RT,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&IT(CT,function(){e.controller.abort()})}var Io=null,zh=0,ra=0,sa=null;function DT(e,i){if(Io===null){var a=Io=[];zh=0,ra=jf(),sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return zh++,i.then(vg,vg),i}function vg(){if(--zh===0&&Io!==null){sa!==null&&(sa.status="fulfilled");var e=Io;Io=null,ra=0,sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function OT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Eg=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&DT(e,i),Eg!==null&&Eg(e,i)};var hs=$(null);function Bh(){var e=hs.current;return e!==null?e:Jt.pooledCache}function _u(e,i){i===null?J(hs,hs.current):J(hs,i.pool)}function Tg(){var e=Bh();return e===null?null:{parent:Te._currentValue,pool:e}}var Co=Error(s(460)),Ag=Error(s(474)),vu=Error(s(542)),qh={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Eu(){}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Eu,Eu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e;default:if(typeof i.status=="string")i.then(Eu,Eu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e}throw Do=i,Co}}var Do=null;function wg(){if(Do===null)throw Error(s(459));var e=Do;return Do=null,e}function Rg(e){if(e===Co||e===vu)throw Error(s(483))}var Ji=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=fu(e),fg(e,null,a),i}return hu(e,o,i,a),fu(e)}function Oo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,io(e,a)}}function Gh(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Fh=!1;function No(){if(Fh){var e=sa;if(e!==null)throw e}}function Vo(e,i,a,o){Fh=!1;var h=e.updateQueue;Ji=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;v=0,F=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===ra&&(Fh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,dt=E;z=i;var Xt=a;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){K=yt.call(Xt,K,z);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,z=typeof yt=="function"?yt.call(Xt,K,z):yt,z==null)break t;K=A({},K,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=B,b=K):F=F.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),lr|=v,e.lanes=v,e.memoizedState=K}}function Ig(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Cg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ig(a[e],i)}var aa=$(null),Tu=$(0);function Dg(e,i){e=Vi,J(Tu,e),J(aa,i),Vi=e|i.baseLanes}function Qh(){J(Tu,Vi),J(aa,aa.current)}function Kh(){Vi=Tu.current,nt(aa),nt(Tu)}var er=0,wt=null,Kt=null,me=null,Au=!1,oa=!1,fs=!1,Su=0,Mo=0,la=null,NT=0;function ue(){throw Error(s(321))}function Yh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!sn(e[a],i[a]))return!1;return!0}function Xh(e,i,a,o,h,f){return er=f,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?fp:dp,fs=!1,f=a(o,h),fs=!1,oa&&(f=Ng(i,a,o,h)),Og(e),f}function Og(e){G.H=Du;var i=Kt!==null&&Kt.next!==null;if(er=0,me=Kt=wt=null,Au=!1,Mo=0,la=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&pu(e)&&(Ce=!0))}function Ng(e,i,a,o){wt=e;var h=0;do{if(oa&&(la=null),Mo=0,oa=!1,25<=h)throw Error(s(301));if(h+=1,me=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=LT,f=i(a,o)}while(oa);return f}function VT(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?xo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(wt.flags|=1024),i}function $h(){var e=Su!==0;return Su=0,e}function Zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Jh(e){if(Au){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Au=!1}er=0,me=Kt=wt=null,oa=!1,Mo=Su=0,la=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?wt.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=me===null?wt.memoizedState:me.next;if(i!==null)me=i,Kt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?wt.memoizedState=me=e:me=me.next=e}return me}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var i=Mo;return Mo+=1,la===null&&(la=[]),e=bg(la,e,i),i=wt,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?fp:dp),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===ut)return je(e)}throw Error(s(438,String(e)))}function tf(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wh(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=N;return i.index++,a}function Ri(e,i){return typeof i=="function"?i(e):i}function wu(e){var i=ge();return ef(i,Kt,e)}function ef(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,F=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(kt&K)===K:(er&K)===K){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===ra&&(F=!0);else if((er&z)===z){L=L.next,z===ra&&(F=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,v=f):b=b.next=K,wt.lanes|=z,lr|=z;K=L.action,fs&&a(f,K),f=L.hasEagerState?L.eagerState:a(f,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,wt.lanes|=K,lr|=K;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!sn(f,e.memoizedState)&&(Ce=!0,F&&(a=sa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function nf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);sn(f,i.memoizedState)||(Ce=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Vg(e,i,a){var o=wt,h=ge(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!sn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ce=!0),h=h.queue;var E=Pg.bind(null,o,h,e);if(Po(2048,8,E,[e]),h.getSnapshot!==i||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,ua(9,Ru(),xg.bind(null,o,h,a,i),null),Jt===null)throw Error(s(349));f||(er&124)!==0||Mg(o,i,a)}return a}function Mg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Wh(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function xg(e,i,a,o){i.value=a,i.getSnapshot=o,kg(i)&&Ug(e)}function Pg(e,i,a){return a(function(){kg(i)&&Ug(e)})}function kg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!sn(e,a)}catch{return!0}}function Ug(e){var i=ta(e,2);i!==null&&hn(i,e,2)}function rf(e){var i=Je();if(typeof e=="function"){var a=e;if(e=a(),fs){nn(!0);try{a()}finally{nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},i}function Lg(e,i,a,o){return e.baseState=a,ef(e,Kt,typeof o=="function"?o:Ri)}function MT(e,i,a,o,h){if(Cu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,zg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,v={};G.T=v;try{var E=a(h,o),b=G.S;b!==null&&b(v,E),Bg(e,i,E)}catch(L){sf(e,i,L)}finally{G.T=f}}else try{f=a(h,o),Bg(e,i,f)}catch(L){sf(e,i,L)}}function Bg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(e,i,o)},function(o){return sf(e,i,o)}):qg(e,i,a)}function qg(e,i,a){i.status="fulfilled",i.value=a,jg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,zg(e,a)))}function sf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}e.action=null}function jg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Hg(e,i){return i}function Gg(e,i){if(Bt){var a=Jt.formState;if(a!==null){t:{var o=wt;if(Bt){if(ae){e:{for(var h=ae,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Mn(h.nextSibling),o=h.data==="F!";break t}}ls(o)}o=!1}o&&(i=a[0])}}return a=Je(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=o,a=up.bind(null,wt,o),o.dispatch=a,o=rf(!1),f=cf.bind(null,wt,!1,o.queue),o=Je(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=MT.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Fg(e){var i=ge();return Qg(i,Kt,e)}function Qg(e,i,a){if(i=ef(e,i,Hg)[0],e=wu(Ri)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=xo(i)}catch(v){throw v===Co?vu:v}else o=i;i=ge();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,ua(9,Ru(),xT.bind(null,h,a),null)),[o,f,e]}function xT(e,i){e.action=i}function Kg(e){var i=ge(),a=Kt;if(a!==null)return Qg(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ua(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Wh(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Ru(){return{destroy:void 0,resource:void 0}}function Yg(){return ge().memoizedState}function Iu(e,i,a,o){var h=Je();o=o===void 0?null:o,wt.flags|=e,h.memoizedState=ua(1|i,Ru(),a,o)}function Po(e,i,a,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Yh(o,Kt.memoizedState.deps)?h.memoizedState=ua(i,f,a,o):(wt.flags|=e,h.memoizedState=ua(1|i,f,a,o))}function Xg(e,i){Iu(8390656,8,e,i)}function $g(e,i){Po(2048,8,e,i)}function Zg(e,i){return Po(4,2,e,i)}function Jg(e,i){return Po(4,4,e,i)}function Wg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function tp(e,i,a){a=a!=null?a.concat([e]):null,Po(4,4,Wg.bind(null,i,e),a)}function af(){}function ep(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Yh(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function np(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Yh(i,o[1]))return o[0];if(o=e(),fs){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,i],o}function of(e,i,a){return a===void 0||(er&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=sy(),wt.lanes|=e,lr|=e,a)}function ip(e,i,a,o){return sn(a,i)?a:aa.current!==null?(e=of(e,a,o),sn(e,i)||(Ce=!0),e):(er&42)===0?(Ce=!0,e.memoizedState=a):(e=sy(),wt.lanes|=e,lr|=e,i)}function rp(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,cf(e,!1,i,a);try{var b=h(),L=G.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=OT(b,o);ko(e,i,F,cn(e))}else ko(e,i,o,cn(e))}catch(K){ko(e,i,{then:function(){},status:"rejected",reason:K},cn())}finally{et.p=f,G.T=v}}function PT(){}function lf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=sp(e).queue;rp(e,h,i,ct,a===null?PT:function(){return ap(e),a(o)})}function sp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ap(e){var i=sp(e).next.queue;ko(e,i,{},cn())}function uf(){return je(tl)}function op(){return ge().memoizedState}function lp(){return ge().memoizedState}function kT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=cn();e=Wi(a);var o=tr(i,e,a);o!==null&&(hn(o,i,a),Oo(o,i,a)),i={cache:Lh()},e.payload=i;return}i=i.return}}function UT(e,i,a){var o=cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(e)?cp(i,a):(a=Ch(e,i,a,o),a!==null&&(hn(a,e,o),hp(a,i,o)))}function up(e,i,a){var o=cn();ko(e,i,a,o)}function ko(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(e))cp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,sn(E,v))return hu(e,i,h,0),Jt===null&&cu(),!1}catch{}finally{}if(a=Ch(e,i,h,o),a!==null)return hn(a,e,o),hp(a,i,o),!0}return!1}function cf(e,i,a,o){if(o={lane:2,revertLane:jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Cu(e)){if(i)throw Error(s(479))}else i=Ch(e,a,o,2),i!==null&&hn(i,e,2)}function Cu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function cp(e,i){oa=Au=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function hp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,io(e,a)}}var Du={readContext:je,use:bu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},fp={readContext:je,use:bu,useCallback:function(e,i){return Je().memoizedState=[e,i===void 0?null:i],e},useContext:je,useEffect:Xg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Iu(4194308,4,Wg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Iu(4194308,4,e,i)},useInsertionEffect:function(e,i){Iu(4,2,e,i)},useMemo:function(e,i){var a=Je();i=i===void 0?null:i;var o=e();if(fs){nn(!0);try{e()}finally{nn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Je();if(a!==void 0){var h=a(i);if(fs){nn(!0);try{a(i)}finally{nn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=UT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var i=Je();return e={current:e},i.memoizedState=e},useState:function(e){e=rf(e);var i=e.queue,a=up.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:af,useDeferredValue:function(e,i){var a=Je();return of(a,e,i)},useTransition:function(){var e=rf(!1);return e=rp.bind(null,wt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=wt,h=Je();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(kt&124)!==0||Mg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Xg(Pg.bind(null,o,f,e),[e]),o.flags|=2048,ua(9,Ru(),xg.bind(null,o,f,a,i),null),a},useId:function(){var e=Je(),i=Jt.identifierPrefix;if(Bt){var a=Si,o=Ai;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Su++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=NT++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:uf,useFormState:Gg,useActionState:Gg,useOptimistic:function(e){var i=Je();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:tf,useCacheRefresh:function(){return Je().memoizedState=kT.bind(null,wt)}},dp={readContext:je,use:bu,useCallback:ep,useContext:je,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:wu,useRef:Yg,useState:function(){return wu(Ri)},useDebugValue:af,useDeferredValue:function(e,i){var a=ge();return ip(a,Kt.memoizedState,e,i)},useTransition:function(){var e=wu(Ri)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:uf,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,i){var a=ge();return Lg(a,Kt,e,i)},useMemoCache:tf,useCacheRefresh:lp},LT={readContext:je,use:bu,useCallback:ep,useContext:je,useEffect:$g,useImperativeHandle:tp,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:np,useReducer:nf,useRef:Yg,useState:function(){return nf(Ri)},useDebugValue:af,useDeferredValue:function(e,i){var a=ge();return Kt===null?of(a,e,i):ip(a,Kt.memoizedState,e,i)},useTransition:function(){var e=nf(Ri)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Vg,useId:op,useHostTransitionStatus:uf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,i){var a=ge();return Kt!==null?Lg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:tf,useCacheRefresh:lp},ca=null,Uo=0;function Ou(e){var i=Uo;return Uo+=1,ca===null&&(ca=[]),bg(ca,e,i)}function Lo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function mp(e){var i=e._init;return i(e._payload)}function gp(e){function i(x,O){if(e){var U=x.deletions;U===null?(x.deletions=[O],x.flags|=16):U.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ti(x,O),x.index=0,x.sibling=null,x}function f(x,O,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<O?(x.flags|=67108866,O):U):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,O,U,Q){return O===null||O.tag!==6?(O=Oh(U,x.mode,Q),O.return=x,O):(O=h(O,U),O.return=x,O)}function b(x,O,U,Q){var st=U.type;return st===q?F(x,O,U.props.children,Q,U.key):O!==null&&(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&mp(st)===O.type)?(O=h(O,U.props),Lo(O,U),O.return=x,O):(O=du(U.type,U.key,U.props,null,x.mode,Q),Lo(O,U),O.return=x,O)}function L(x,O,U,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Nh(U,x.mode,Q),O.return=x,O):(O=h(O,U.children||[]),O.return=x,O)}function F(x,O,U,Q,st){return O===null||O.tag!==7?(O=rs(U,x.mode,Q,st),O.return=x,O):(O=h(O,U),O.return=x,O)}function K(x,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Oh(""+O,x.mode,U),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return U=du(O.type,O.key,O.props,null,x.mode,U),Lo(U,O),U.return=x,U;case j:return O=Nh(O,x.mode,U),O.return=x,O;case S:var Q=O._init;return O=Q(O._payload),K(x,O,U)}if(re(O)||P(O))return O=rs(O,x.mode,U,null),O.return=x,O;if(typeof O.then=="function")return K(x,Ou(O),U);if(O.$$typeof===ut)return K(x,yu(x,O),U);Nu(x,O)}return null}function z(x,O,U,Q){var st=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return st!==null?null:E(x,O,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return U.key===st?b(x,O,U,Q):null;case j:return U.key===st?L(x,O,U,Q):null;case S:return st=U._init,U=st(U._payload),z(x,O,U,Q)}if(re(U)||P(U))return st!==null?null:F(x,O,U,Q,null);if(typeof U.then=="function")return z(x,O,Ou(U),Q);if(U.$$typeof===ut)return z(x,O,yu(x,U),Q);Nu(x,U)}return null}function B(x,O,U,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(U)||null,E(O,x,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return x=x.get(Q.key===null?U:Q.key)||null,b(O,x,Q,st);case j:return x=x.get(Q.key===null?U:Q.key)||null,L(O,x,Q,st);case S:var Ct=Q._init;return Q=Ct(Q._payload),B(x,O,U,Q,st)}if(re(Q)||P(Q))return x=x.get(U)||null,F(O,x,Q,st,null);if(typeof Q.then=="function")return B(x,O,U,Ou(Q),st);if(Q.$$typeof===ut)return B(x,O,U,yu(O,Q),st);Nu(O,Q)}return null}function yt(x,O,U,Q){for(var st=null,Ct=null,lt=O,mt=O=0,Oe=null;lt!==null&&mt<U.length;mt++){lt.index>mt?(Oe=lt,lt=null):Oe=lt.sibling;var Lt=z(x,lt,U[mt],Q);if(Lt===null){lt===null&&(lt=Oe);break}e&&lt&&Lt.alternate===null&&i(x,lt),O=f(Lt,O,mt),Ct===null?st=Lt:Ct.sibling=Lt,Ct=Lt,lt=Oe}if(mt===U.length)return a(x,lt),Bt&&as(x,mt),st;if(lt===null){for(;mt<U.length;mt++)lt=K(x,U[mt],Q),lt!==null&&(O=f(lt,O,mt),Ct===null?st=lt:Ct.sibling=lt,Ct=lt);return Bt&&as(x,mt),st}for(lt=o(lt);mt<U.length;mt++)Oe=B(lt,x,mt,U[mt],Q),Oe!==null&&(e&&Oe.alternate!==null&&lt.delete(Oe.key===null?mt:Oe.key),O=f(Oe,O,mt),Ct===null?st=Oe:Ct.sibling=Oe,Ct=Oe);return e&&lt.forEach(function(yr){return i(x,yr)}),Bt&&as(x,mt),st}function dt(x,O,U,Q){if(U==null)throw Error(s(151));for(var st=null,Ct=null,lt=O,mt=O=0,Oe=null,Lt=U.next();lt!==null&&!Lt.done;mt++,Lt=U.next()){lt.index>mt?(Oe=lt,lt=null):Oe=lt.sibling;var yr=z(x,lt,Lt.value,Q);if(yr===null){lt===null&&(lt=Oe);break}e&&lt&&yr.alternate===null&&i(x,lt),O=f(yr,O,mt),Ct===null?st=yr:Ct.sibling=yr,Ct=yr,lt=Oe}if(Lt.done)return a(x,lt),Bt&&as(x,mt),st;if(lt===null){for(;!Lt.done;mt++,Lt=U.next())Lt=K(x,Lt.value,Q),Lt!==null&&(O=f(Lt,O,mt),Ct===null?st=Lt:Ct.sibling=Lt,Ct=Lt);return Bt&&as(x,mt),st}for(lt=o(lt);!Lt.done;mt++,Lt=U.next())Lt=B(lt,x,mt,Lt.value,Q),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),O=f(Lt,O,mt),Ct===null?st=Lt:Ct.sibling=Lt,Ct=Lt);return e&&lt.forEach(function(zA){return i(x,zA)}),Bt&&as(x,mt),st}function Xt(x,O,U,Q){if(typeof U=="object"&&U!==null&&U.type===q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case w:t:{for(var st=U.key;O!==null;){if(O.key===st){if(st=U.type,st===q){if(O.tag===7){a(x,O.sibling),Q=h(O,U.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&mp(st)===O.type){a(x,O.sibling),Q=h(O,U.props),Lo(Q,U),Q.return=x,x=Q;break t}a(x,O);break}else i(x,O);O=O.sibling}U.type===q?(Q=rs(U.props.children,x.mode,Q,U.key),Q.return=x,x=Q):(Q=du(U.type,U.key,U.props,null,x.mode,Q),Lo(Q,U),Q.return=x,x=Q)}return v(x);case j:t:{for(st=U.key;O!==null;){if(O.key===st)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(x,O.sibling),Q=h(O,U.children||[]),Q.return=x,x=Q;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Q=Nh(U,x.mode,Q),Q.return=x,x=Q}return v(x);case S:return st=U._init,U=st(U._payload),Xt(x,O,U,Q)}if(re(U))return yt(x,O,U,Q);if(P(U)){if(st=P(U),typeof st!="function")throw Error(s(150));return U=st.call(U),dt(x,O,U,Q)}if(typeof U.then=="function")return Xt(x,O,Ou(U),Q);if(U.$$typeof===ut)return Xt(x,O,yu(x,U),Q);Nu(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(x,O.sibling),Q=h(O,U),Q.return=x,x=Q):(a(x,O),Q=Oh(U,x.mode,Q),Q.return=x,x=Q),v(x)):a(x,O)}return function(x,O,U,Q){try{Uo=0;var st=Xt(x,O,U,Q);return ca=null,st}catch(lt){if(lt===Co||lt===vu)throw lt;var Ct=an(29,lt,null,x.mode);return Ct.lanes=Q,Ct.return=x,Ct}finally{}}}var ha=gp(!0),pp=gp(!1),bn=$(null),Jn=null;function nr(e){var i=e.alternate;J(Ae,Ae.current&1),J(bn,e),Jn===null&&(i===null||aa.current!==null||i.memoizedState!==null)&&(Jn=e)}function yp(e){if(e.tag===22){if(J(Ae,Ae.current),J(bn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else ir()}function ir(){J(Ae,Ae.current),J(bn,bn.current)}function Ii(e){nt(bn),Jn===e&&(Jn=null),nt(Ae)}var Ae=$(0);function Vu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function hf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ff={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=cn(),h=Wi(o);h.payload=i,a!=null&&(h.callback=a),i=tr(e,h,o),i!==null&&(hn(i,e,o),Oo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=cn(),h=Wi(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=tr(e,h,o),i!==null&&(hn(i,e,o),Oo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=cn(),o=Wi(a);o.tag=2,i!=null&&(o.callback=i),i=tr(e,o,a),i!==null&&(hn(i,e,a),Oo(i,e,a))}};function _p(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!Eo(a,o)||!Eo(h,f):!0}function vp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&ff.enqueueReplaceState(i,i.state,null)}function ds(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ep(e){Mu(e)}function Tp(e){console.error(e)}function Ap(e){Mu(e)}function xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function df(e,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){xu(e,i)},a}function bp(e){return e=Wi(e),e.tag=3,e}function wp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Sp(i,a,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function zT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&wo(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Jn===null?Uf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),zf(e,o,h)),!1;case 22:return a.flags|=65536,o===qh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),zf(e,o,h)),!1}throw Error(s(435,a.tag))}return zf(e,o,h),Uf(),!1}if(Bt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==xh&&(e=Error(s(422),{cause:o}),bo(En(e,a)))):(o!==xh&&(i=Error(s(423),{cause:o}),bo(En(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=En(o,a),h=df(e.stateNode,o,h),Gh(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=En(f,a),Fo===null?Fo=[f]:Fo.push(f),oe!==4&&(oe=2),i===null)return!0;o=En(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=df(a.stateNode,o,e),Gh(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=bp(h),wp(h,e,a,o),Gh(a,h),!1}a=a.return}while(a!==null);return!1}var Rp=Error(s(461)),Ce=!1;function Pe(e,i,a,o){i.child=e===null?pp(i,null,a,o):ha(i,e.child,a,o)}function Ip(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return cs(i),o=Xh(e,i,a,v,f,h),E=$h(),e!==null&&!Ce?(Zh(e,i,h),Ci(e,i,h)):(Bt&&E&&Vh(i),i.flags|=1,Pe(e,i,o,h),i.child)}function Cp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Dp(e,i,f,o,h)):(e=du(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Tf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Eo,a(v,o)&&e.ref===i.ref)return Ci(e,i,h)}return i.flags|=1,e=Ti(f,o),e.ref=i.ref,e.return=i,i.child=e}function Dp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Eo(f,o)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=o=f,Tf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Ci(e,i,h)}return mf(e,i,a,o,h)}function Op(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Np(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(i,f!==null?f.cachePool:null),f!==null?Dg(i,f):Qh(),yp(i);else return i.lanes=i.childLanes=536870912,Np(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(_u(i,f.cachePool),Dg(i,f),ir(),i.memoizedState=null):(e!==null&&_u(i,null),Qh(),ir());return Pe(e,i,h,a),i.child}function Np(e,i,a,o){var h=Bh();return h=h===null?null:{parent:Te._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&_u(i,null),Qh(),yp(i),e!==null&&wo(e,i,o,!0),null}function Pu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function mf(e,i,a,o,h){return cs(i),a=Xh(e,i,a,o,void 0,h),o=$h(),e!==null&&!Ce?(Zh(e,i,h),Ci(e,i,h)):(Bt&&o&&Vh(i),i.flags|=1,Pe(e,i,a,h),i.child)}function Vp(e,i,a,o,h,f){return cs(i),i.updateQueue=null,a=Ng(i,o,a,h),Og(e),o=$h(),e!==null&&!Ce?(Zh(e,i,f),Ci(e,i,f)):(Bt&&o&&Vh(i),i.flags|=1,Pe(e,i,a,f),i.child)}function Mp(e,i,a,o,h){if(cs(i),i.stateNode===null){var f=ea,v=a.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ff,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},jh(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?je(v):ea,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hf(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ff.enqueueReplaceState(f,f.state,null),Vo(i,o,f,h),No(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=ds(a,E);f.props=b;var L=f.context,F=a.contextType;v=ea,typeof F=="object"&&F!==null&&(v=je(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&vp(i,f,o,v),Ji=!1;var z=i.memoizedState;f.state=z,Vo(i,o,f,h),No(),L=i.memoizedState,E||z!==L||Ji?(typeof K=="function"&&(hf(i,a,K,o),L=i.memoizedState),(b=Ji||_p(i,a,b,o,z,L,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Hh(e,i),v=i.memoizedProps,F=ds(a,v),f.props=F,K=i.pendingProps,z=f.context,L=a.contextType,b=ea,typeof L=="object"&&L!==null&&(b=je(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||z!==b)&&vp(i,f,o,b),Ji=!1,z=i.memoizedState,f.state=z,Vo(i,o,f,h),No();var B=i.memoizedState;v!==K||z!==B||Ji||e!==null&&e.dependencies!==null&&pu(e.dependencies)?(typeof E=="function"&&(hf(i,a,E,o),B=i.memoizedState),(F=Ji||_p(i,a,F,o,z,B,b)||e!==null&&e.dependencies!==null&&pu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,Pu(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ha(i,e.child,null,h),i.child=ha(i,null,a,h)):Pe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ci(e,i,h),e}function xp(e,i,a,o){return So(),i.flags|=256,Pe(e,i,a,o),i.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(e){return{baseLanes:e,cachePool:Tg()}}function yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function Pp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?nr(i):ir(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Zn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,Ze=i,ae=null,b=!0):b=!1}b||ls(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return td(E)?i.lanes=32:i.lanes=536870912,null;Ii(i)}return E=o.children,o=o.fallback,h?(ir(),h=i.mode,E=ku({mode:"hidden",children:E},h),o=rs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=pf(a),h.childLanes=yf(e,v,a),i.memoizedState=gf,o):(nr(i),_f(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(nr(i),i.flags&=-257,i=vf(e,i,a)):i.memoizedState!==null?(ir(),i.child=e.child,i.flags|=128,i=null):(ir(),h=o.fallback,E=i.mode,o=ku({mode:"visible",children:o.children},E),h=rs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,ha(i,e.child,null,a),o=i.child,o.memoizedState=pf(a),o.childLanes=yf(e,v,a),i.memoizedState=gf,i=h);else if(nr(i),td(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,bo({value:o,source:null,stack:null}),i=vf(e,i,a)}else if(Ce||wo(e,i,a,!1),v=(a&e.childLanes)!==0,Ce||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ta(e,o),hn(v,e,o),Rp;E.data==="$?"||Uf(),i=vf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=Mn(E.nextSibling),Ze=i,Bt=!0,os=null,Zn=!1,e!==null&&(An[Sn++]=Ai,An[Sn++]=Si,An[Sn++]=ss,Ai=e.id,Si=e.overflow,ss=i),i=_f(i,o.children),i.flags|=4096);return i}return h?(ir(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ti(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ti(L,h):(h=rs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=pf(a):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Tg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=yf(e,v,a),i.memoizedState=gf,o):(nr(i),a=e.child,e=a.sibling,a=Ti(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function _f(e,i){return i=ku({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ku(e,i){return e=an(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vf(e,i,a){return ha(i,e.child,null,a),e=_f(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function kp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),kh(e.return,i,a)}function Ef(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Up(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Pe(e,i,o.children,a),o=Ae.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kp(e,a,i);else if(e.tag===19)kp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Ae,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Vu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ef(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ef(i,!0,a,null,f);break;case"together":Ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(wo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ti(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ti(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Tf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&pu(e)))}function BT(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Zi(i,Te,e.memoizedState.cache),So();break;case 27:case 5:Hi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Pp(e,i,a):(nr(i),e=Ci(e,i,a),e!==null?e.sibling:null);nr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(wo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Up(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ae,Ae.current),o)break;return null;case 22:case 23:return i.lanes=0,Op(e,i,a);case 24:Zi(i,Te,e.memoizedState.cache)}return Ci(e,i,a)}function Lp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Tf(e,a)&&(i.flags&128)===0)return Ce=!1,BT(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,Bt&&(i.flags&1048576)!==0&&mg(i,gu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Dh(o)?(e=ds(o,e),i.tag=1,i=Mp(null,i,o,e,a)):(i.tag=0,i=mf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===bt){i.tag=11,i=Ip(null,i,o,e,a);break t}else if(h===V){i.tag=14,i=Cp(null,i,o,e,a);break t}}throw i=Ve(o)||o,Error(s(306,i,""))}}return i;case 0:return mf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ds(o,i.pendingProps),Mp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Hh(e,i),Vo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Zi(i,Te,o),o!==f.cache&&Uh(i,[Te],a,!0),No(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=xp(e,i,o,a);break t}else if(o!==h){h=En(Error(s(424)),i),bo(h),i=xp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Mn(e.firstChild),Ze=i,Bt=!0,os=null,Zn=!0,a=pp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(So(),o===h){i=Ci(e,i,a);break t}Pe(e,i,o,a)}i=i.child}return i;case 26:return Pu(e,i),e===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=$u(vt.current).createElement(a),o[_e]=i,o[fe]=e,Ue(o,a,e),le(o),i.stateNode=o):i.memoizedState=jy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Hi(i),e===null&&Bt&&(o=i.stateNode=zy(i.type,i.pendingProps,vt.current),Ze=i,Zn=!0,h=ae,fr(i.type)?(ed=h,ae=Mn(o.firstChild)):ae=h),Pe(e,i,i.pendingProps.children,a),Pu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=mA(o,i.type,i.pendingProps,Zn),o!==null?(i.stateNode=o,Ze=i,ae=Mn(o.firstChild),Zn=!1,h=!0):h=!1),h||ls(i)),Hi(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Zf(h,f)?o=null:v!==null&&Zf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Xh(e,i,VT,null,null,a),tl._currentValue=h),Pu(e,i),Pe(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=ae)&&(a=gA(a,i.pendingProps,Zn),a!==null?(i.stateNode=a,Ze=i,ae=null,e=!0):e=!1),e||ls(i)),null;case 13:return Pp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ha(i,null,o,a):Pe(e,i,o,a),i.child;case 11:return Ip(e,i,i.type,i.pendingProps,a);case 7:return Pe(e,i,i.pendingProps,a),i.child;case 8:return Pe(e,i,i.pendingProps.children,a),i.child;case 12:return Pe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Zi(i,i.type,o.value),Pe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,cs(i),h=je(h),o=o(h),i.flags|=1,Pe(e,i,o,a),i.child;case 14:return Cp(e,i,i.type,i.pendingProps,a);case 15:return Dp(e,i,i.type,i.pendingProps,a);case 19:return Up(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=ku(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ti(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Op(e,i,a);case 24:return cs(i),o=je(Te),e===null?(h=Bh(),h===null&&(h=Jt,f=Lh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},jh(i),Zi(i,Te,h)):((e.lanes&a)!==0&&(Hh(e,i),Vo(i,null,null,a),No()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zi(i,Te,o)):(o=f.cache,Zi(i,Te,o),o!==h.cache&&Uh(i,[Te],a,!0))),Pe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Di(e){e.flags|=4}function zp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ky(i)){if(i=bn.current,i!==null&&((kt&4194048)===kt?Jn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Jn))throw Do=qh,Ag;e.flags|=8192}}function Uu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?eo():536870912,e.lanes|=i,ga|=i)}function zo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function qT(e,i,a){var o=i.pendingProps;switch(Mh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),wi(Te),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ao(i)?Di(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,yg())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Di(i),a!==null?(ne(i),zp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Di(i),ne(i),zp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Di(i),ne(i),i.flags&=-16777217),null;case 27:li(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Di(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ft.current,Ao(i)?gg(i):(e=zy(h,o,a),i.stateNode=e,Di(i))}return ne(i),null;case 5:if(li(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Di(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ft.current,Ao(i))gg(i);else{switch(h=$u(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[_e]=i,e[fe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ue(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Di(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Di(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,Ao(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Vy(e.nodeValue,a)),e||ls(i)}else e=$u(e).createTextNode(o),e[_e]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ao(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=i}else So(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=yg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ii(i),i):(Ii(i),null)}if(Ii(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Uu(i,i.updateQueue),ne(i),null;case 4:return zn(),e===null&&Qf(i.stateNode.containerInfo),ne(i),null;case 10:return wi(i.type),ne(i),null;case 19:if(nt(Ae),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)zo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Vu(e),f!==null){for(i.flags|=128,zo(h,!1),e=f.updateQueue,i.updateQueue=e,Uu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)dg(a,e),a=a.sibling;return J(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&mn()>Bu&&(i.flags|=128,o=!0,zo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Vu(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Uu(i,e),zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(i),null}else 2*mn()-h.renderingStartTime>Bu&&a!==536870912&&(i.flags|=128,o=!0,zo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,e=Ae.current,J(Ae,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Ii(i),Kh(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Uu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(hs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),wi(Te),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jT(e,i){switch(Mh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return wi(Te),zn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return li(i),null;case 13:if(Ii(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));So()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ae),null;case 4:return zn(),null;case 10:return wi(i.type),null;case 22:case 23:return Ii(i),Kh(),e!==null&&nt(hs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return wi(Te),null;case 25:return null;default:return null}}function Bp(e,i){switch(Mh(i),i.tag){case 3:wi(Te),zn();break;case 26:case 27:case 5:li(i);break;case 4:zn();break;case 13:Ii(i);break;case 19:nt(Ae);break;case 10:wi(i.type);break;case 22:case 23:Ii(i),Kh(),e!==null&&nt(hs);break;case 24:wi(Te)}}function Bo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function rr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(F){$t(h,b,F)}}}o=o.next}while(o!==f)}}catch(F){$t(i,i.return,F)}}function qp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Cg(i,a)}catch(o){$t(e,e.return,o)}}}function jp(e,i,a){a.props=ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function Wn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Hp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Af(e,i,a){try{var o=e.stateNode;uA(o,e.type,a,i),o[fe]=i}catch(h){$t(e,e.return,h)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function Sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xu));else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(bf(e,i,a),e=e.sibling;e!==null;)bf(e,i,a),e=e.sibling}function Lu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Lu(e,i,a),e=e.sibling;e!==null;)Lu(e,i,a),e=e.sibling}function Fp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ue(i,o,a),i[_e]=e,i[fe]=a}catch(f){$t(e,e.return,f)}}var Oi=!1,ce=!1,wf=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,De=null;function HT(e,i){if(e=e.containerInfo,Xf=nc,e=ig(e),Ah(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,F=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==f||o!==0&&K.nodeType!==3||(b=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++F===o&&(b=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for($f={focusedElem:e,selectionRange:a},nc=!1,De=i;De!==null;)if(i=De,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,De=e;else for(;De!==null;){switch(i=De,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var yt=ds(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){$t(a,a.return,dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Wf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,De=e;break}De=i.return}}function Kp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),o&4&&Bo(5,a);break;case 1:if(sr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=ds(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&qp(a),o&512&&qo(a,a.return);break;case 3:if(sr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Cg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&Fp(a);case 26:case 5:sr(e,a),i===null&&o&4&&Hp(a),o&512&&qo(a,a.return);break;case 12:sr(e,a);break;case 13:sr(e,a),o&4&&$p(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=JT.bind(null,a),pA(e,a))));break;case 22:if(o=a.memoizedState!==null||Oi,!o){i=i!==null&&i.memoizedState!==null||ce,h=Oi;var f=ce;Oi=o,(ce=i)&&!f?ar(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),Oi=h,ce=f}break;case 30:break;default:sr(e,a)}}function Yp(e){var i=e.alternate;i!==null&&(e.alternate=null,Yp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ki(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,We=!1;function Ni(e,i,a){for(a=a.child;a!==null;)Xp(e,i,a),a=a.sibling}function Xp(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||Wn(a,i),Ni(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Wn(a,i);var o=ee,h=We;fr(a.type)&&(ee=a.stateNode,We=!1),Ni(e,i,a),$o(a.stateNode),ee=o,We=h;break;case 5:ce||Wn(a,i);case 6:if(o=ee,h=We,ee=null,Ni(e,i,a),ee=o,We=h,ee!==null)if(We)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){$t(a,i,f)}else try{ee.removeChild(a.stateNode)}catch(f){$t(a,i,f)}break;case 18:ee!==null&&(We?(e=ee,Uy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rl(e)):Uy(ee,a.stateNode));break;case 4:o=ee,h=We,ee=a.stateNode.containerInfo,We=!0,Ni(e,i,a),ee=o,We=h;break;case 0:case 11:case 14:case 15:ce||rr(2,a,i),ce||rr(4,a,i),Ni(e,i,a);break;case 1:ce||(Wn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&jp(a,i,o)),Ni(e,i,a);break;case 21:Ni(e,i,a);break;case 22:ce=(o=ce)||a.memoizedState!==null,Ni(e,i,a),ce=o;break;default:Ni(e,i,a)}}function $p(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(a){$t(i,i.return,a)}}function GT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Qp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Qp),i;default:throw Error(s(435,e.tag))}}function Rf(e,i){var a=GT(e);i.forEach(function(o){var h=WT.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function on(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){ee=E.stateNode,We=!1;break t}break;case 5:ee=E.stateNode,We=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(ee===null)throw Error(s(160));Xp(f,v,h),ee=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zp(i,e),i=i.sibling}var Vn=null;function Zp(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),ln(e),o&4&&(rr(3,e,e.return),Bo(3,e),rr(5,e,e.return));break;case 1:on(i,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Vn;if(on(i,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[jr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ue(f,o,a),f[_e]=e,le(f),o=f;break t;case"link":var v=Fy("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Ue(f,o,a),h.head.appendChild(f);break;case"meta":if(v=Fy("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Ue(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_e]=e,le(f),o=f}e.stateNode=o}else Qy(h,e.type,e.stateNode);else e.stateNode=Gy(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Qy(h,e.type,e.stateNode):Gy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Af(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(i,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),a!==null&&o&4&&Af(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(i,e),ln(e),o&512&&(ce||a===null||Wn(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Af(e,h,a!==null?a.memoizedProps:h)),o&1024&&(wf=!0);break;case 6:if(on(i,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Wu=null,h=Vn,Vn=Zu(i.containerInfo),on(i,e),Vn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{rl(i.containerInfo)}catch(B){$t(e,e.return,B)}wf&&(wf=!1,Jp(e));break;case 4:o=Vn,Vn=Zu(e.stateNode.containerInfo),on(i,e),ln(e),Vn=o;break;case 12:on(i,e),ln(e);break;case 13:on(i,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=mn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Oi,F=ce;if(Oi=L||h,ce=F||b,on(i,e),ce=F,Oi=L,ln(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Oi||ce||ms(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Rf(e,a))));break;case 19:on(i,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Rf(e,o)));break;case 30:break;case 21:break;default:on(i,e),ln(e)}}function ln(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Gp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Sf(e);Lu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(pn(v,""),a.flags&=-33);var E=Sf(e);Lu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Sf(e);bf(e,L,b);break;default:throw Error(s(161))}}catch(F){$t(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Jp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function sr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Kp(e,i.alternate,i),i=i.sibling}function ms(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:rr(4,i,i.return),ms(i);break;case 1:Wn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&jp(i,i.return,a),ms(i);break;case 27:$o(i.stateNode);case 26:case 5:Wn(i,i.return),ms(i);break;case 22:i.memoizedState===null&&ms(i);break;case 30:ms(i);break;default:ms(i)}e=e.sibling}}function ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,a),Bo(4,f);break;case 1:if(ar(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Ig(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&qp(f),qo(f,f.return);break;case 27:Fp(f);case 26:case 5:ar(h,f,a),a&&o===null&&v&4&&Hp(f),qo(f,f.return);break;case 12:ar(h,f,a);break;case 13:ar(h,f,a),a&&v&4&&$p(h,f);break;case 22:f.memoizedState===null&&ar(h,f,a),qo(f,f.return);break;case 30:break;default:ar(h,f,a)}i=i.sibling}}function If(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ro(a))}function Cf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ro(e))}function ti(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wp(e,i,a,o),i=i.sibling}function Wp(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i,a,o),h&2048&&Bo(9,i);break;case 1:ti(e,i,a,o);break;case 3:ti(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ro(e)));break;case 12:if(h&2048){ti(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ti(e,i,a,o);break;case 13:ti(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ti(e,i,a,o):jo(e,i):f._visibility&2?ti(e,i,a,o):(f._visibility|=2,fa(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&If(v,i);break;case 24:ti(e,i,a,o),h&2048&&Cf(i.alternate,i);break;default:ti(e,i,a,o)}}function fa(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:fa(f,v,E,b,h),Bo(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?fa(f,v,E,b,h):jo(f,v):(F._visibility|=2,fa(f,v,E,b,h)),h&&L&2048&&If(v.alternate,v);break;case 24:fa(f,v,E,b,h),h&&L&2048&&Cf(v.alternate,v);break;default:fa(f,v,E,b,h)}i=i.sibling}}function jo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:jo(a,o),h&2048&&If(o.alternate,o);break;case 24:jo(a,o),h&2048&&Cf(o.alternate,o);break;default:jo(a,o)}i=i.sibling}}var Ho=8192;function da(e){if(e.subtreeFlags&Ho)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 26:da(e),e.flags&Ho&&e.memoizedState!==null&&DA(Vn,e.memoizedState,e.memoizedProps);break;case 5:da(e);break;case 3:case 4:var i=Vn;Vn=Zu(e.stateNode.containerInfo),da(e),Vn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ho,Ho=16777216,da(e),Ho=i):da(e));break;default:da(e)}}function ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Go(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];De=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Go(e),e.flags&2048&&rr(9,e,e.return);break;case 3:Go(e);break;case 12:Go(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,zu(e)):Go(e);break;default:Go(e)}}function zu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];De=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:rr(8,i,i.return),zu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,zu(i));break;default:zu(i)}e=e.sibling}}function iy(e,i){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ro(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,De=o;else t:for(a=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(Yp(o),o===a){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var FT={getCacheForType:function(e){var i=je(Te),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},QT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Ot=null,kt=0,Ft=0,un=null,or=!1,ma=!1,Df=!1,Vi=0,oe=0,lr=0,gs=0,Of=0,wn=0,ga=0,Fo=null,tn=null,Nf=!1,Vf=0,Bu=1/0,qu=null,ur=null,ke=0,cr=null,pa=null,ya=0,Mf=0,xf=null,ry=null,Qo=0,Pf=null;function cn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(G.T!==null){var e=ra;return e!==0?e:jf()}return Fi()}function sy(){wn===0&&(wn=(kt&536870912)===0||Bt?to():536870912);var e=bn.current;return e!==null&&(e.flags|=32),wn}function hn(e,i,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(_a(e,0),hr(e,kt,wn,!1)),ci(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(gs|=a),oe===4&&hr(e,kt,wn,!1)),ei(e))}function ay(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||qr(e,i),h=o?XT(e,i):Lf(e,i,!0),f=o;do{if(h===0){ma&&!o&&hr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!KT(a)){h=Lf(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Fo;var b=E.current.memoizedState.isDehydrated;if(b&&(_a(E,v).flags|=256),v=Lf(E,v,!1),v!==2){if(Df&&!b){E.errorRecoveryDisabledLanes|=f,gs|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){_a(e,0),hr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:hr(o,i,wn,!or);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Vf+300-mn(),10<h)){if(hr(o,i,wn,!or),Ps(o,0,!0)!==0)break t;o.timeoutHandle=Py(oy.bind(null,o,a,tn,qu,Nf,i,wn,gs,ga,or,f,2,-0,0),h);break t}oy(o,a,tn,qu,Nf,i,wn,gs,ga,or,f,0,-0,0)}}break}while(!0);ei(e)}function oy(e,i,a,o,h,f,v,E,b,L,F,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:CA},ty(i),K=OA(),K!==null)){e.cancelPendingCommit=K(my.bind(null,e,i,f,a,o,h,v,E,b,F,1,z,B)),hr(e,f,v,!L);return}my(e,i,f,a,o,h,v,E,b)}function KT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hr(e,i,a,o){i&=~Of,i&=~gs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-qe(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&Bn(e,a,i)}function ju(){return(Gt&6)===0?(Ko(0),!1):!0}function kf(){if(Ot!==null){if(Ft===0)var e=Ot.return;else e=Ot,bi=us=null,Jh(e),ca=null,Uo=0,e=Ot;for(;e!==null;)Bp(e.alternate,e),e=e.return;Ot=null}}function _a(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,hA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kf(),Jt=e,Ot=a=Ti(e.current,null),kt=i,Ft=0,un=null,or=!1,ma=qr(e,i),Df=!1,ga=wn=Of=gs=lr=oe=0,tn=Fo=null,Nf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-qe(o),f=1<<h;i|=e[h],o&=~f}return Vi=i,cu(),a}function ly(e,i){wt=null,G.H=Du,i===Co||i===vu?(i=wg(),Ft=3):i===Ag?(i=wg(),Ft=4):Ft=i===Rp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,un=i,Ot===null&&(oe=1,xu(e,En(i,e.current)))}function uy(){var e=G.H;return G.H=Du,e===null?Du:e}function cy(){var e=G.A;return G.A=FT,e}function Uf(){oe=4,or||(kt&4194048)!==kt&&bn.current!==null||(ma=!0),(lr&134217727)===0&&(gs&134217727)===0||Jt===null||hr(Jt,kt,wn,!1)}function Lf(e,i,a){var o=Gt;Gt|=2;var h=uy(),f=cy();(Jt!==e||kt!==i)&&(qu=null,_a(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Ot!==null){var E=Ot,b=un;switch(Ft){case 8:kf(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var L=Ft;if(Ft=0,un=null,va(e,E,b,L),a&&ma){v=0;break t}break;default:L=Ft,Ft=0,un=null,va(e,E,b,L)}}YT(),v=oe;break}catch(F){ly(e,F)}while(!0);return i&&e.shellSuspendCounter++,bi=us=null,Gt=o,G.H=h,G.A=f,Ot===null&&(Jt=null,kt=0,cu()),v}function YT(){for(;Ot!==null;)hy(Ot)}function XT(e,i){var a=Gt;Gt|=2;var o=uy(),h=cy();Jt!==e||kt!==i?(qu=null,Bu=mn()+500,_a(e,i)):ma=qr(e,i);t:do try{if(Ft!==0&&Ot!==null){i=Ot;var f=un;e:switch(Ft){case 1:Ft=0,un=null,va(e,i,f,1);break;case 2:case 9:if(Sg(f)){Ft=0,un=null,fy(i);break}i=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ei(e)},f.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Sg(f)?(Ft=0,un=null,fy(i)):(Ft=0,un=null,va(e,i,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||Ky(v)){Ft=0,un=null;var b=E.sibling;if(b!==null)Ot=b;else{var L=E.return;L!==null?(Ot=L,Hu(L)):Ot=null}break e}}Ft=0,un=null,va(e,i,f,5);break;case 6:Ft=0,un=null,va(e,i,f,6);break;case 8:kf(),oe=6;break t;default:throw Error(s(462))}}$T();break}catch(F){ly(e,F)}while(!0);return bi=us=null,G.H=o,G.A=h,Gt=a,Ot!==null?0:(Jt=null,kt=0,cu(),oe)}function $T(){for(;Ot!==null&&!$a();)hy(Ot)}function hy(e){var i=Lp(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,i===null?Hu(e):Ot=i}function fy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Vp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Vp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Jh(i);default:Bp(a,i),i=Ot=dg(i,Vi),i=Lp(a,i,Vi)}e.memoizedProps=e.pendingProps,i===null?Hu(e):Ot=i}function va(e,i,a,o){bi=us=null,Jh(i),ca=null,Uo=0;var h=i.return;try{if(zT(e,h,i,a,kt)){oe=1,xu(e,En(a,e.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;oe=1,xu(e,En(a,e.current)),Ot=null;return}i.flags&32768?(Bt||o===1?e=!0:ma||(kt&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),dy(i,e)):Hu(i)}function Hu(e){var i=e;do{if((i.flags&32768)!==0){dy(i,or);return}e=i.return;var a=qT(i.alternate,i,Vi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);oe===0&&(oe=5)}function dy(e,i){do{var a=jT(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);oe=6,Ot=null}function my(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do Gu();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ih,no(e,a,f,v,E,b),e===Jt&&(Ot=Jt=null,kt=0),pa=i,cr=e,ya=a,Mf=f,xf=h,ry=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tA(Ur,function(){return vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,v=Gt,Gt|=4;try{HT(e,i,a)}finally{Gt=v,et.p=h,G.T=o}}ke=1,gy(),py(),yy()}}function gy(){if(ke===1){ke=0;var e=cr,i=pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Zp(i,e);var f=$f,v=ig(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(b!==null&&Ah(E)){var L=b.start,F=b.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,dt=Math.min(b.start,yt),Xt=b.end===void 0?dt:Math.min(b.end,yt);!B.extend&&dt>Xt&&(v=Xt,Xt=dt,dt=v);var x=eg(E,dt),O=eg(E,Xt);if(x&&O&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var U=K.createRange();U.setStart(x.node,x.offset),B.removeAllRanges(),dt>Xt?(B.addRange(U),B.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),B.addRange(U))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}nc=!!Xf,$f=Xf=null}finally{Gt=h,et.p=o,G.T=a}}e.current=i,ke=2}}function py(){if(ke===2){ke=0;var e=cr,i=pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Kp(e,i.alternate,i)}finally{Gt=h,et.p=o,G.T=a}}ke=3}}function yy(){if(ke===4||ke===3){ke=0,zl();var e=cr,i=pa,a=ya,o=ry;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,pa=cr=null,_y(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),ks(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{G.T=i,et.p=h}}(ya&3)!==0&&Gu(),ei(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Pf?Qo++:(Qo=0,Pf=e):Qo=0,Ko(0)}}function _y(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ro(i)))}function Gu(e){return gy(),py(),yy(),vy()}function vy(){if(ke!==5)return!1;var e=cr,i=Mf;Mf=0;var a=ks(ya),o=G.T,h=et.p;try{et.p=32>a?32:a,G.T=null,a=xf,xf=null;var f=cr,v=ya;if(ke=0,pa=cr=null,ya=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,ny(f.current),Wp(f,f.current,v,a),Gt=E,Ko(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=h,G.T=o,_y(e,i)}}function Ey(e,i,a){i=En(a,i),i=df(e.stateNode,i,2),e=tr(e,i,2),e!==null&&(ci(e,2),ei(e))}function $t(e,i,a){if(e.tag===3)Ey(e,e,a);else for(;i!==null;){if(i.tag===3){Ey(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=En(a,e),a=bp(2),o=tr(i,a,2),o!==null&&(wp(a,o,i,e),ci(o,2),ei(o));break}}i=i.return}}function zf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new QT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Df=!0,h.add(a),e=ZT.bind(null,e,i,a),i.then(e,e))}function ZT(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(kt&a)===a&&(oe===4||oe===3&&(kt&62914560)===kt&&300>mn()-Vf?(Gt&2)===0&&_a(e,0):Of|=a,ga===kt&&(ga=0)),ei(e)}function Ty(e,i){i===0&&(i=eo()),e=ta(e,i),e!==null&&(ci(e,i),ei(e))}function JT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(e,a)}function WT(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Ty(e,a)}function tA(e,i){return Pr(e,i)}var Fu=null,Ea=null,Bf=!1,Qu=!1,qf=!1,ps=0;function ei(e){e!==Ea&&e.next===null&&(Ea===null?Fu=Ea=e:Ea=Ea.next=e),Qu=!0,Bf||(Bf=!0,nA())}function Ko(e,i){if(!qf&&Qu){qf=!0;do for(var a=!1,o=Fu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,wy(o,f))}else f=kt,f=Ps(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qr(o,f)||(a=!0,wy(o,f));o=o.next}while(a);qf=!1}}function eA(){Ay()}function Ay(){Qu=Bf=!1;var e=0;ps!==0&&(cA()&&(e=ps),ps=0);for(var i=mn(),a=null,o=Fu;o!==null;){var h=o.next,f=Sy(o,i);f===0?(o.next=null,a===null?Fu=h:a.next=h,h===null&&(Ea=a)):(a=o,(e!==0||(f&3)!==0)&&(Qu=!0)),o=h}Ko(e)}function Sy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-qe(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=Wa(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=Jt,a=kt,a=Ps(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&kr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&kr(o),ks(a)){case 2:case 8:a=Ms;break;case 32:a=Ur;break;case 268435456:a=xs;break;default:a=Ur}return o=by.bind(null,e),a=Pr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&kr(o),e.callbackPriority=2,e.callbackNode=null,2}function by(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Gu()&&e.callbackNode!==a)return null;var o=kt;return o=Ps(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ay(e,o,i),Sy(e,mn()),e.callbackNode!=null&&e.callbackNode===a?by.bind(null,e):null)}function wy(e,i){if(Gu())return null;ay(e,i,!0)}function nA(){fA(function(){(Gt&6)!==0?Pr(Za,eA):Ay()})}function jf(){return ps===0&&(ps=to()),ps}function Ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:js(""+e)}function Iy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function iA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=Ry((h[fe]||null).action),v=o.submitter;v&&(i=(i=v[fe]||null)?Ry(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new Hs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ps!==0){var b=v?Iy(h,v):new FormData(h);lf(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Iy(h,v):new FormData(h),lf(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Hf=0;Hf<Rh.length;Hf++){var Gf=Rh[Hf],rA=Gf.toLowerCase(),sA=Gf[0].toUpperCase()+Gf.slice(1);Nn(rA,"on"+sA)}Nn(ag,"onAnimationEnd"),Nn(og,"onAnimationIteration"),Nn(lg,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(AT,"onTransitionRun"),Nn(ST,"onTransitionStart"),Nn(bT,"onTransitionCancel"),Nn(ug,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yo));function Cy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Mu(F)}h.currentTarget=null,f=b}}}}function Nt(e,i){var a=i[ro];a===void 0&&(a=i[ro]=new Set);var o=e+"__bubble";a.has(o)||(Dy(i,e,2,!1),a.add(o))}function Ff(e,i,a){var o=0;i&&(o|=4),Dy(a,e,o,i)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[Ku]){e[Ku]=!0,so.forEach(function(a){a!=="selectionchange"&&(aA.has(a)||Ff(a,!1,e),Ff(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ku]||(i[Ku]=!0,Ff("selectionchange",!1,i))}}function Dy(e,i,a,o){switch(Wy(i)){case 2:var h=MA;break;case 8:h=xA;break;default:h=ad}a=h.bind(null,i,a,e),h=void 0,!_n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Kf(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=hi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Xl(function(){var L=f,F=yn(a),K=[];t:{var z=cg.get(e);if(z!==void 0){var B=Hs,yt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=Xs;break;case"focusin":yt="focus",B=Qs;break;case"focusout":yt="blur",B=Qs;break;case"beforeblur":case"afterblur":B=Qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=iu;break;case ag:case og:case lg:B=Ks;break;case ug:B=su;break;case"scroll":case"scrollend":B=$l;break;case"wheel":B=$s;break;case"copy":case"cut":case"paste":B=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=_o;break;case"toggle":case"beforetoggle":B=ou}var dt=(i&4)!==0,Xt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var O=L,U;O!==null;){var Q=O;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||x===null||(Q=Xr(O,x),Q!=null&&dt.push(Xo(O,Q,U))),Xt)break;O=O.return}0<dt.length&&(z=new B(z,yt,null,a,F),K.push({event:z,listeners:dt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==gi&&(yt=a.relatedTarget||a.fromElement)&&(hi(yt)||yt[gn]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?hi(yt):null,yt!==null&&(Xt=c(yt),dt=yt.tag,yt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(dt=vn,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=_o,Q="onPointerLeave",x="onPointerEnter",O="pointer"),Xt=B==null?z:jn(B),U=yt==null?z:jn(yt),z=new dt(Q,O+"leave",B,a,F),z.target=Xt,z.relatedTarget=U,Q=null,hi(F)===L&&(dt=new dt(x,O+"enter",yt,a,F),dt.target=U,dt.relatedTarget=Xt,Q=dt),Xt=Q,B&&yt)e:{for(dt=B,x=yt,O=0,U=dt;U;U=Ta(U))O++;for(U=0,Q=x;Q;Q=Ta(Q))U++;for(;0<O-U;)dt=Ta(dt),O--;for(;0<U-O;)x=Ta(x),U--;for(;O--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=Ta(dt),x=Ta(x)}dt=null}else dt=null;B!==null&&Oy(K,z,B,dt,!1),yt!==null&&Xt!==null&&Oy(K,Xt,yt,dt,!0)}}t:{if(z=L?jn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=Xm;else if(Ee(z))if($m)st=vT;else{st=yT;var Ct=pT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&co(L.elementType)&&(st=Xm):st=_T;if(st&&(st=st(e,L))){Ei(K,st,a,F);break t}Ct&&Ct(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(Ct=L?jn(L):window,e){case"focusin":(Ee(Ct)||Ct.contentEditable==="true")&&(Zs=Ct,Sh=L,To=null);break;case"focusout":To=Sh=Zs=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,rg(K,a,F);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":rg(K,a,F)}var lt;if(Xn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else xt?H(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(y&&a.locale!=="ko"&&(xt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&xt&&(lt=fo()):(Fn=F,$i="value"in Fn?Fn.value:Fn.textContent,xt=!0)),Ct=Yu(L,mt),0<Ct.length&&(mt=new po(mt,e,null,a,F),K.push({event:mt,listeners:Ct}),lt?mt.data=lt:(lt=tt(a),lt!==null&&(mt.data=lt)))),(lt=m?ve(e,a):Pt(e,a))&&(mt=Yu(L,"onBeforeInput"),0<mt.length&&(Ct=new po("onBeforeInput","beforeinput",null,a,F),K.push({event:Ct,listeners:mt}),Ct.data=lt)),iA(K,e,L,a,F)}Cy(K,i)})}function Xo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Yu(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(e,a),h!=null&&o.unshift(Xo(e,h,f)),h=Xr(e,i),h!=null&&o.push(Xo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Oy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Xr(a,f),L!=null&&v.unshift(Xo(a,L,b))):h||(L=Xr(a,f),L!=null&&v.push(Xo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(oA,`
`).replace(lA,"")}function Vy(e,i){return i=Ny(i),Ny(e)===i}function Xu(){}function Yt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,a,o);break;case"style":uo(e,o,f);break;case"data":if(i!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=js(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=js(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Xu);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ph.get(a)||a,Yi(e,a,o))}}function Yf(e,i,a,o,h,f){switch(a){case"style":uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Yi(e,a,o)}}}function Ue(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,f,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":b=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Yt(e,i,o,F,a,null)}}Qr(e,f,E,b,L,v,h,!1),qs(e);return;case"select":Nt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?mi(e,!!o,i,!1):a!=null&&mi(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}Kr(e,o,h,f),qs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<Yo.length;o++)Nt(Yo[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(co(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Yf(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function uA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,F=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Yt(e,i,z,B,o,K)}}rn(e,v,E,b,L,F,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Yt(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?mi(e,!!a,z,!1):!!o!=!!a&&(i!=null?mi(e,!!a,i,!0):mi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,i,v,h,o,f)}Qt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,i,yt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)z=a[dt],a.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Yt(e,i,dt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(co(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Yf(e,i,Xt,void 0,o,z);for(F in o)z=o[F],B=a[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||Yf(e,i,F,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,i,x,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,o,B)}var Xf=null,$f=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function My(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Zf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function cA(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(dA)}:Py;function dA(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function Uy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&$o(v.documentElement),a&2&&$o(v.body),a&4)for(a=v.head,$o(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[jr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);rl(i)}function Wf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wf(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[jr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function gA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function pA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var ed=null;function Ly(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function zy(e,i,a){switch(i=$u(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function $o(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ki(e)}var Rn=new Map,By=new Set;function Zu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=et.d;et.d={f:yA,r:_A,D:vA,C:EA,L:TA,m:AA,X:bA,S:SA,M:wA};function yA(){var e=Mi.f(),i=ju();return e||i}function _A(e){var i=qn(e);i!==null&&i.tag===5&&i.type==="form"?ap(i):Mi.r(e)}var Aa=typeof document>"u"?null:document;function qy(e,i,a){var o=Aa;if(o&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),By.has(h)||(By.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ue(i,"link",e),le(i),o.head.appendChild(i)))}}function vA(e){Mi.D(e),qy("dns-prefetch",e,null)}function EA(e,i){Mi.C(e,i),qy("preconnect",e,i)}function TA(e,i,a){Mi.L(e,i,a);var o=Aa;if(o&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(i){case"style":f=Sa(e);break;case"script":f=ba(e)}Rn.has(f)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Rn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Zo(f))||i==="script"&&o.querySelector(Jo(f))||(i=o.createElement("link"),Ue(i,"link",e),le(i),o.head.appendChild(i)))}}function AA(e,i){Mi.m(e,i);var a=Aa;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ba(e)}if(!Rn.has(f)&&(e=A({rel:"modulepreload",href:e},i),Rn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jo(f)))return}o=a.createElement("link"),Ue(o,"link",e),le(o),a.head.appendChild(o)}}}function SA(e,i,a){Mi.S(e,i,a);var o=Aa;if(o&&e){var h=Ye(o).hoistableStyles,f=Sa(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Zo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Rn.get(f))&&nd(e,a);var b=v=o.createElement("link");le(b),Ue(b,"link",e),b._p=new Promise(function(L,F){b.onload=L,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ju(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function bA(e,i){Mi.X(e,i);var a=Aa;if(a&&e){var o=Ye(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Jo(h)),f||(e=A({src:e,async:!0},i),(i=Rn.get(h))&&id(e,i),f=a.createElement("script"),le(f),Ue(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function wA(e,i){Mi.M(e,i);var a=Aa;if(a&&e){var o=Ye(a).hoistableScripts,h=ba(e),f=o.get(h);f||(f=a.querySelector(Jo(h)),f||(e=A({src:e,async:!0,type:"module"},i),(i=Rn.get(h))&&id(e,i),f=a.createElement("script"),le(f),Ue(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jy(e,i,a,o){var h=(h=vt.current)?Zu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Sa(a.href),a=Ye(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Sa(a.href);var f=Ye(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Zo(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(e,a),f||RA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ba(a),a=Ye(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Sa(e){return'href="'+de(e)+'"'}function Zo(e){return'link[rel="stylesheet"]['+e+"]"}function Hy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function RA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ue(i,"link",a),le(i),e.head.appendChild(i))}function ba(e){return'[src="'+de(e)+'"]'}function Jo(e){return"script[async]"+e}function Gy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(o)return i.instance=o,le(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Ue(o,"style",h),Ju(o,a.precedence,e),i.instance=o;case"stylesheet":h=Sa(a.href);var f=e.querySelector(Zo(h));if(f)return i.state.loading|=4,i.instance=f,le(f),f;o=Hy(a),(h=Rn.get(h))&&nd(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(f,"link",o),i.state.loading|=4,Ju(f,a.precedence,e),i.instance=f;case"script":return f=ba(a.src),(h=e.querySelector(Jo(f)))?(i.instance=h,le(h),h):(o=a,(h=Rn.get(f))&&(o=A({},a),id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Ue(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ju(o,a.precedence,e));return i.instance}function Ju(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Wu=null;function Fy(e,i,a){if(Wu===null){var o=new Map,h=Wu=new Map;h.set(a,o)}else h=Wu,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[jr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Qy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function IA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Wo=null;function CA(){}function DA(e,i,a){if(Wo===null)throw Error(s(475));var o=Wo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Sa(a.href),f=e.querySelector(Zo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=tc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,le(f);return}f=e.ownerDocument||e,a=Hy(a),(h=Rn.get(h))&&nd(a,h),f=f.createElement("link"),le(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Ue(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=tc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function OA(){if(Wo===null)throw Error(s(475));var e=Wo;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function rd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,i.forEach(NA,e),ec=null,tc.call(e))}function NA(e,i){if(!(i.state.loading&4)){var a=ec.get(e);if(a)var o=a.get(null);else{a=new Map,ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var tl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function VA(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yy(e,i,a,o,h,f,v,E,b,L,F,K){return e=new VA(e,i,a,v,E,b,L,K),i=1,f===!0&&(i|=24),f=an(3,null,null,i),e.current=f,f.stateNode=e,i=Lh(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},jh(f),e}function Xy(e){return e?(e=ea,e):ea}function $y(e,i,a,o,h,f){h=Xy(h),o.context===null?o.context=h:o.pendingContext=h,o=Wi(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=tr(e,o,i),a!==null&&(hn(a,e,i),Oo(a,e,i))}function Zy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function sd(e,i){Zy(e,i),(e=e.alternate)&&Zy(e,i)}function Jy(e){if(e.tag===13){var i=ta(e,67108864);i!==null&&hn(i,e,67108864),sd(e,67108864)}}var nc=!0;function MA(e,i,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,ad(e,i,a,o)}finally{et.p=f,G.T=h}}function xA(e,i,a,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,ad(e,i,a,o)}finally{et.p=f,G.T=h}}function ad(e,i,a,o){if(nc){var h=od(o);if(h===null)Kf(e,i,o,ic,a),t_(e,o);else if(kA(h,e,i,a,o))o.stopPropagation();else if(t_(e,o),i&4&&-1<PA.indexOf(e)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Cn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-qe(v);E.entanglements[1]|=b,v&=~b}ei(f),(Gt&6)===0&&(Bu=mn()+500,Ko(0))}}break;case 13:E=ta(f,2),E!==null&&hn(E,f,2),ju(),sd(f,2)}if(f=od(o),f===null&&Kf(e,i,o,ic,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Kf(e,i,o,null,a)}}function od(e){return e=yn(e),ld(e)}var ic=null;function ld(e){if(ic=null,e=hi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return ic=e,null}function Wy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ch()){case Za:return 2;case Ms:return 8;case Ur:case hh:return 32;case xs:return 268435456;default:return 32}default:return 32}}var ud=!1,dr=null,mr=null,gr=null,el=new Map,nl=new Map,pr=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(e,i){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":el.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(i.pointerId)}}function il(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&Jy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function kA(e,i,a,o,h){switch(i){case"focusin":return dr=il(dr,e,i,a,o,h),!0;case"dragenter":return mr=il(mr,e,i,a,o,h),!0;case"mouseover":return gr=il(gr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return el.set(f,il(el.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,nl.set(f,il(nl.get(f)||null,e,i,a,o,h)),!0}return!1}function e_(e){var i=hi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,jl(e.priority,function(){if(a.tag===13){var o=cn();o=Gi(o);var h=ta(a,o);h!==null&&hn(h,a,o),sd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);gi=o,a.target.dispatchEvent(o),gi=null}else return i=qn(a),i!==null&&Jy(i),e.blockedOn=a,!1;i.shift()}return!0}function n_(e,i,a){rc(e)&&a.delete(i)}function UA(){ud=!1,dr!==null&&rc(dr)&&(dr=null),mr!==null&&rc(mr)&&(mr=null),gr!==null&&rc(gr)&&(gr=null),el.forEach(n_),nl.forEach(n_)}function sc(e,i){e.blockedOn===i&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,UA)))}var ac=null;function i_(e){ac!==e&&(ac=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(ld(o||a)===null)continue;break}var f=qn(a);f!==null&&(e.splice(i,3),i-=3,lf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function rl(e){function i(b){return sc(b,e)}dr!==null&&sc(dr,e),mr!==null&&sc(mr,e),gr!==null&&sc(gr,e),el.forEach(i),nl.forEach(i);for(var a=0;a<pr.length;a++){var o=pr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[fe]||null;if(typeof f=="function")v||i_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[fe]||null)E=v.formAction;else if(ld(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),i_(a)}}}function cd(e){this._internalRoot=e}oc.prototype.render=cd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=cn();$y(a,o,e,i,null,null)},oc.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;$y(e.current,2,null,e,null,null),ju(),i[gn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Fi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<pr.length&&i!==0&&i<pr[a].priority;a++);pr.splice(a,0,e),a===0&&e_(e)}};var r_=t.version;if(r_!=="19.1.0")throw Error(s(527,r_,"19.1.0"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var LA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{se=lc.inject(LA),Ht=lc}catch{}}return al.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Ep,f=Tp,v=Ap,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Yy(e,1,!1,null,null,a,o,h,f,v,E,null),e[gn]=i.current,Qf(e),new cd(i)},al.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Ep,v=Tp,E=Ap,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Yy(e,1,!0,i,a??null,o,h,f,v,E,b,L),i.context=Xy(null),a=i.current,o=cn(),o=Gi(o),h=Wi(o),h.callback=null,tr(a,h,o),a=o,i.current.lanes=a,ci(i,a),ei(i),e[gn]=i.current,Qf(e),new oc(i)},al.version="19.1.0",al}var m_;function YA(){if(m_)return dd.exports;m_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=KA(),dd.exports}var XA=YA();const $A=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},ZA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,A=c>>2,R=(c&3)<<4|g>>4;let w=(g&15)<<2|_>>6,j=_&63;p||(j=64,d||(w=64)),s.push(n[A],n[R],n[w],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Qv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const R=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new JA;const w=c<<2|g>>4;if(s.push(w),_!==64){const j=g<<4&240|_>>2;if(s.push(j),R!==64){const q=_<<6&192|R;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=Qv(r);return Kv.encodeByteArray(t,!0)},Rc=function(r){return WA(r).replace(/\./g,"")},Yv=function(r){try{return Kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>tS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof g_>"u")return;const r=g_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Yv(r[1]);return t&&JSON.parse(t)},Fc=()=>{try{return $A()||eS()||nS()||iS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Xv=r=>{var t,n;return(n=(t=Fc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},rS=r=>{const t=Xv(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},$v=()=>{var r;return(r=Fc())===null||r===void 0?void 0:r.config},Zv=r=>{var t;return(t=Fc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){return r.endsWith(".cloudworkstations.dev")}async function Jv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(d)),""].join(".")}const fl={};function oS(){const r={prod:[],emulator:[]};for(const t of Object.keys(fl))fl[t]?r.emulator.push(t):r.prod.push(t);return r}function lS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let p_=!1;function Wv(r,t){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||fl[r]===t||fl[r]||p_)return;fl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=oS().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{p_=!0,d()},w}function A(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function R(){const w=lS(s),j=n("text"),q=document.getElementById(j)||document.createElement("span"),W=n("learnmore"),Z=document.getElementById(W)||document.createElement("a"),rt=n("preprendIcon"),ot=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ut=w.element;g(ut),A(Z,W);const bt=_();p(ot,rt),ut.append(ot,q,Z,bt),document.body.appendChild(ut)}c?(q.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function cS(){var r;const t=(r=Fc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="FirebaseError";class ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=_S,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?vS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ji(l,g,s)}}function vS(r,t){return r.replace(ES,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ES=/\{\$([^}]+)}/g;function TS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ss(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(y_(c)&&y_(d)){if(!Ss(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function AS(r,t){const n=new SS(r,t);return n.subscribe.bind(n)}class SS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=yd),l.error===void 0&&(l.error=yd),l.complete===void 0&&(l.complete=yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r){return r&&r._delegate?r._delegate:r}class bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new sS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IS(t))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ys){return this.instances.has(t)}getOptions(t=ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ys){return this.component?this.component.multipleInstances?t:ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(r){return r===ys?void 0:r}function IS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const DS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},OS=Vt.INFO,NS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},VS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=NS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class em{constructor(t){this.name=t,this._logLevel=OS,this._logHandler=VS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const MS=(r,t)=>t.some(n=>r instanceof n);let __,v_;function xS(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,Dd=new WeakMap,e0=new WeakMap,_d=new WeakMap,nm=new WeakMap;function kS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Sr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&t0.set(n,r)}).catch(()=>{}),nm.set(t,r),t}function US(r){if(Dd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Dd.set(r,t)}let Od={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Dd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||e0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function LS(r){Od=r(Od)}function zS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(vd(this),t,...n);return e0.set(s,t.sort?t.sort():[t]),Sr(s)}:PS().includes(r)?function(...t){return r.apply(vd(this),t),Sr(t0.get(this))}:function(...t){return Sr(r.apply(vd(this),t))}}function BS(r){return typeof r=="function"?zS(r):(r instanceof IDBTransaction&&US(r),MS(r,xS())?new Proxy(r,Od):r)}function Sr(r){if(r instanceof IDBRequest)return kS(r);if(_d.has(r))return _d.get(r);const t=BS(r);return t!==r&&(_d.set(r,t),nm.set(t,r)),t}const vd=r=>nm.get(r);function qS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Sr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Sr(d.result),p.oldVersion,p.newVersion,Sr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const jS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],Ed=new Map;function E_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=HS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||jS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return Ed.set(t,c),c}LS(r=>({...r,get:(t,n,s)=>E_(t,n)||r.get(t,n,s),has:(t,n)=>!!E_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function FS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nd="@firebase/app",T_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new em("@firebase/app"),QS="@firebase/app-compat",KS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",ZS="@firebase/auth",JS="@firebase/auth-compat",WS="@firebase/database",t1="@firebase/data-connect",e1="@firebase/database-compat",n1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",s1="@firebase/installations-compat",a1="@firebase/messaging",o1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",d1="@firebase/storage-compat",m1="@firebase/firestore",g1="@firebase/ai",p1="@firebase/firestore-compat",y1="firebase",_1="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]",v1={[Nd]:"fire-core",[QS]:"fire-core-compat",[YS]:"fire-analytics",[KS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[JS]:"fire-auth-compat",[WS]:"fire-rtdb",[t1]:"fire-data-connect",[e1]:"fire-rtdb-compat",[n1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[s1]:"fire-iid-compat",[a1]:"fire-fcm",[o1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[d1]:"fire-gcs-compat",[m1]:"fire-fst",[p1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,E1=new Map,Md=new Map;function A_(r,t){try{r.container.addComponent(t)}catch(n){Li.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function xa(r){const t=r.name;if(Md.has(t))return Li.debug(`There were multiple attempts to register component ${t}.`),!1;Md.set(t,r);for(const n of Ic.values())A_(n,r);for(const n of E1.values())A_(n,r);return!0}function im(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new Ol("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=_1;function n0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Vd,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw br.create("bad-app-name",{appName:String(l)});if(n||(n=$v()),!n)throw br.create("no-options");const c=Ic.get(l);if(c){if(Ss(n,c.options)&&Ss(s,c.config))return c;throw br.create("duplicate-app",{appName:l})}const d=new CS(l);for(const p of Md.values())d.addComponent(p);const g=new A1(n,s,d);return Ic.set(l,g),g}function i0(r=Vd){const t=Ic.get(r);if(!t&&r===Vd&&$v())return n0();if(!t)throw br.create("no-app",{appName:r});return t}function wr(r,t,n){var s;let l=(s=v1[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Li.warn(g.join(" "));return}xa(new bs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebase-heartbeat-database",b1=1,vl="firebase-heartbeat-store";let Td=null;function r0(){return Td||(Td=qS(S1,b1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw br.create("idb-open",{originalErrorMessage:r.message})})),Td}async function w1(r){try{const n=(await r0()).transaction(vl),s=await n.objectStore(vl).get(s0(r));return await n.done,s}catch(t){if(t instanceof ji)Li.warn(t.message);else{const n=br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Li.warn(n.message)}}}async function S_(r,t){try{const s=(await r0()).transaction(vl,"readwrite");await s.objectStore(vl).put(t,s0(r)),await s.done}catch(n){if(n instanceof ji)Li.warn(n.message);else{const s=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(s.message)}}}function s0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1024,I1=30;class C1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>I1){const d=N1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:s,unsentEntries:l}=D1(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Li.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function D1(r,t=R1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),w_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),w_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class O1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return S_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function w_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function N1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r){xa(new bs("platform-logger",t=>new GS(t),"PRIVATE")),xa(new bs("heartbeat",t=>new C1(t),"PRIVATE")),wr(Nd,T_,r),wr(Nd,T_,"esm2017"),wr("fire-js","")}V1("");function rm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function a0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M1=a0,o0=new Ol("auth","Firebase",a0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new em("@firebase/auth");function x1(r,...t){Cc.logLevel<=Vt.WARN&&Cc.warn(`Auth (${Ha}): ${r}`,...t)}function gc(r,...t){Cc.logLevel<=Vt.ERROR&&Cc.error(`Auth (${Ha}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,...t){throw am(r,...t)}function Un(r,...t){return am(r,...t)}function sm(r,t,n){const s=Object.assign(Object.assign({},M1()),{[t]:n});return new Ol("auth","Firebase",s).create(t,{appName:r.name})}function Ts(r){return sm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ai(r,"argument-error"),sm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return o0.create(r,...t)}function _t(r,t,...n){if(!r)throw am(t,...n)}function Pi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gc(t),new Error(t)}function zi(r,t){r||Pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function k1(){return R_()==="http:"||R_()==="https:"}function R_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k1()||fS()||"connection"in navigator)?navigator.onLine:!0}function L1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,zi(n>t,"Short delay should be less than long delay!"),this.isMobile=uS()||dS()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(r,t){zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q1=new Vl(3e4,6e4);function lm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ga(r,t,n,s,l={}){return u0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Nl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:t,headers:p},c);return hS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Dl(r.emulatorConfig.host)&&(_.credentials="include"),l0.fetch()(await c0(r,r.config.apiHost,n,g),_)})}async function u0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},z1),t);try{const l=new H1(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw uc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw uc(r,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sm(r,A,_);ai(r,A)}}catch(l){if(l instanceof ji)throw l;ai(r,"network-request-failed",{message:String(l)})}}async function j1(r,t,n,s,l={}){const c=await Ga(r,t,n,s,l);return"mfaPendingCredential"in c&&ai(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function c0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?om(r.config,l):`${r.config.apiScheme}://${l}`;return B1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Un(this.auth,"network-request-failed")),q1.get())})}}function uc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Un(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(r,t){return Ga(r,"POST","/v1/accounts:delete",t)}async function Dc(r,t){return Ga(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F1(r,t=!1){const n=dn(r),s=await n.getIdToken(t),l=um(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:dl(Ad(l.auth_time)),issuedAtTime:dl(Ad(l.iat)),expirationTime:dl(Ad(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ad(r){return Number(r)*1e3}function um(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Yv(n);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function I_(r){const t=um(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ji&&Q1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Q1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await El(r,Dc(n,{idToken:s}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?h0(c.providerUserInfo):[],g=X1(r.providerData,d),p=r.isAnonymous,_=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?_:!1,R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Pd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,R)}async function Y1(r){const t=dn(r);await Oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function X1(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function h0(r){return r.map(t=>{var{providerId:n}=t,s=rm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,t){const n=await u0(r,{},async()=>{const s=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await c0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",l0.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Z1(r,t){return Ga(r,"POST","/v2/accounts:revokeToken",lm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):I_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=I_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await $1(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new Oa;return s&&(_t(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Pn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=rm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Pd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await El(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return F1(this,t)}reload(){return Y1(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Pn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Oc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await El(this,G1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,p,_,A;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,j=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,q=(d=n.photoURL)!==null&&d!==void 0?d:void 0,W=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,rt=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ot=(A=n.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ut,emailVerified:bt,isAnonymous:pt,providerData:Dt,stsTokenManager:V}=n;_t(ut&&V,t,"internal-error");const S=Oa.fromJSON(this.name,V);_t(typeof ut=="string",t,"internal-error"),_r(R,t.name),_r(w,t.name),_t(typeof bt=="boolean",t,"internal-error"),_t(typeof pt=="boolean",t,"internal-error"),_r(j,t.name),_r(q,t.name),_r(W,t.name),_r(Z,t.name),_r(rt,t.name),_r(ot,t.name);const I=new Pn({uid:ut,auth:t,email:w,emailVerified:bt,displayName:R,isAnonymous:pt,photoURL:q,phoneNumber:j,tenantId:W,stsTokenManager:S,createdAt:rt,lastLoginAt:ot});return Dt&&Array.isArray(Dt)&&(I.providerData=Dt.map(N=>Object.assign({},N))),Z&&(I._redirectEventId=Z),I}static async _fromIdTokenResponse(t,n,s=!1){const l=new Oa;l.updateFromServerResponse(n);const c=new Pn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Oc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?h0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Oa;g.updateFromIdToken(s);const p=new Pn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Pd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function ki(r){zi(r instanceof Function,"Expected a class definition");let t=C_.get(r);return t?(zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,C_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}f0.type="NONE";const D_=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,t,n){return`firebase:${r}:${t}:${n}`}class Na{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=pc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Dc(this.auth,{idToken:t}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,t):null}return Pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Na(ki(D_),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ki(D_);const d=pc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let R;if(typeof A=="string"){const w=await Dc(t,{idToken:A}).catch(()=>{});if(!w)break;R=await Pn._fromGetAccountInfoResponse(t,w,A)}else R=Pn._fromJSON(t,A);_!==c&&(g=R),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Na(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Na(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(p0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_0(t))return"Blackberry";if(v0(t))return"Webos";if(m0(t))return"Safari";if((t.includes("chrome/")||g0(t))&&!t.includes("edge/"))return"Chrome";if(y0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function d0(r=Ke()){return/firefox\//i.test(r)}function m0(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function g0(r=Ke()){return/crios\//i.test(r)}function p0(r=Ke()){return/iemobile/i.test(r)}function y0(r=Ke()){return/android/i.test(r)}function _0(r=Ke()){return/blackberry/i.test(r)}function v0(r=Ke()){return/webos/i.test(r)}function cm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function J1(r=Ke()){var t;return cm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function W1(){return mS()&&document.documentMode===10}function E0(r=Ke()){return cm(r)||y0(r)||v0(r)||_0(r)||/windows phone/i.test(r)||p0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(r,t=[]){let n;switch(r){case"Browser":n=O_(Ke());break;case"Worker":n=`${O_(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(r,t={}){return Ga(r,"GET","/v2/passwordPolicy",lm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=6;class ib{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:nb,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new tb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Na.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Dc(this,{idToken:t}),s=await Pn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xn(this.app))return Promise.reject(Ts(this));const n=t?dn(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xn(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eb(this),n=new ib(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ki(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=T0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&x1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qc(r){return dn(r)}class N_{constructor(t){this.auth=t,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sb(r){hm=r}function ab(r){return hm.loadJS(r)}function ob(){return hm.gapiScript}function lb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r,t){const n=im(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Ss(c,t??{}))return l;ai(l,"already-initialized")}return n.initialize({options:t})}function cb(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ki);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function hb(r,t,n){const s=Qc(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=A0(t),{host:d,port:g}=fb(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ss(_,s.config.emulator)&&Ss(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Dl(d)?(Jv(`${c}//${d}${p}`),Wv("Auth",!0)):db()}function A0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fb(r){const t=A0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:V_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:V_(d)}}}function V_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function db(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(t){return Pi("not implemented")}_linkToIdToken(t,n){return Pi("not implemented")}_getReauthenticationResolver(t){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(r,t){return j1(r,"POST","/v1/accounts:signInWithIdp",lm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="http://localhost";class ws extends S0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=rm(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new ws(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Va(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Va(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Va(t,n)}buildRequest(){const t={requestUri:mb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Nl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ml{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ws._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return xi.credential(n,s)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Ml{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ml{constructor(){super("twitter.com")}static credential(t,n){return ws._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Tr.credential(n,s)}catch{return null}}}Tr.TWITTER_SIGN_IN_METHOD="twitter.com";Tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Pn._fromIdTokenResponse(t,s,l),d=M_(s);return new Pa({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=M_(s);return new Pa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function M_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends ji{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Nc(t,n,s,l)}}function b0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(r,c,t,s):c})}async function gb(r,t,n=!1){const s=await El(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Pa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(r,t,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Ts(s));const l="reauthenticate";try{const c=await El(r,b0(s,l,t,r),n);_t(c.idToken,s,"internal-error");const d=um(c.idToken);_t(d,s,"internal-error");const{sub:g}=d;return _t(r.uid===g,s,"user-mismatch"),Pa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(r,t,n=!1){if(xn(r.app))return Promise.reject(Ts(r));const s="signIn",l=await b0(r,s,t),c=await Pa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function _b(r,t,n,s){return dn(r).onIdTokenChanged(t,n,s)}function vb(r,t,n){return dn(r).beforeAuthStateChanged(t,n)}const Vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vc,"1"),this.storage.removeItem(Vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1e3,Tb=10;class R0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);W1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Tb):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},Eb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}R0.type="LOCAL";const Ab=R0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}I0.type="SESSION";const C0=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Kc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await Sb(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=dm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(R){const w=R;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(w.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function wb(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function Rb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ib(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Cb(){return D0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="firebaseLocalStorageDb",Db=1,Mc="firebaseLocalStorage",N0="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(r,t){return r.transaction([Mc],t?"readwrite":"readonly").objectStore(Mc)}function Ob(){const r=indexedDB.deleteDatabase(O0);return new xl(r).toPromise()}function kd(){const r=indexedDB.open(O0,Db);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mc,{keyPath:N0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mc)?t(s):(s.close(),await Ob(),t(await kd()))})})}async function x_(r,t,n){const s=Yc(r,!0).put({[N0]:t,value:n});return new xl(s).toPromise()}async function Nb(r,t){const n=Yc(r,!1).get(t),s=await new xl(n).toPromise();return s===void 0?null:s.value}function P_(r,t){const n=Yc(r,!0).delete(t);return new xl(n).toPromise()}const Vb=800,Mb=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Mb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(Cb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Rb(),!this.activeServiceWorker)return;this.sender=new bb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ib()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kd();return await x_(t,Vc,"1"),await P_(t,Vc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>x_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Nb(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Yc(l,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const xb=V0;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r,t){return t?ki(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends S0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Va(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Va(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Va(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Pb(r){return yb(r.auth,new mm(r),r.bypassAuthState)}function kb(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),pb(n,new mm(r),r.bypassAuthState)}async function Ub(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),gb(n,new mm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pb;case"linkViaPopup":case"linkViaRedirect":return Ub;case"reauthViaPopup":case"reauthViaRedirect":return kb;default:ai(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Vl(2e3,1e4);async function zb(r,t,n){if(xn(r.app))return Promise.reject(Un(r,"operation-not-supported-in-this-environment"));const s=Qc(r);P1(r,t,fm);const l=M0(s,n);return new _s(s,"signInViaPopup",t,l).executeNotNull()}class _s extends x0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lb.get())};t()}}_s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="pendingRedirect",yc=new Map;class qb extends x0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=yc.get(this.auth._key());if(!t){try{const s=await jb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}yc.set(this.auth._key(),t)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jb(r,t){const n=Fb(t),s=Gb(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Hb(r,t){yc.set(r._key(),t)}function Gb(r){return ki(r._redirectPersistence)}function Fb(r){return pc(Bb,r.config.apiKey,r.name)}async function Qb(r,t,n=!1){if(xn(r.app))return Promise.reject(Ts(r));const s=Qc(r),l=M0(s,t),d=await new qb(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=10*60*1e3;class Yb{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xb(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!P0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kb&&this.cachedEventUids.clear(),this.cachedEventUids.has(k_(t))}saveEventToCache(t){this.cachedEventUids.add(k_(t)),this.lastProcessedEventTime=Date.now()}}function k_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function P0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Xb(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(r,t={}){return Ga(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jb=/^https?/;async function Wb(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $b(r);for(const n of t)try{if(tw(n))return}catch{}ai(r,"unauthorized-domain")}function tw(r){const t=xd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!Jb.test(n))return!1;if(Zb.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Vl(3e4,6e4);function U_(){const r=ii().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nw(r){return new Promise((t,n)=>{var s,l,c;function d(){U_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Un(r,"network-request-failed"))},timeout:ew.get()})}if(!((l=(s=ii().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ii().gapi)===null||c===void 0)&&c.load)d();else{const g=lb("iframefcb");return ii()[g]=()=>{gapi.load?d():n(Un(r,"network-request-failed"))},ab(`${ob()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw _c=null,t})}let _c=null;function iw(r){return _c=_c||nw(r),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Vl(5e3,15e3),sw="__/auth/iframe",aw="emulator/auth/iframe",ow={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?om(t,aw):`https://${r.config.authDomain}/${sw}`,s={apiKey:t.apiKey,appName:r.name,v:Ha},l=lw.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Nl(s).slice(1)}`}async function cw(r){const t=await iw(r),n=ii().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:uw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ow,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Un(r,"network-request-failed"),g=ii().setTimeout(()=>{c(d)},rw.get());function p(){ii().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fw=500,dw=600,mw="_blank",gw="http://localhost";class L_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pw(r,t,n,s=fw,l=dw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},hw),{width:s.toString(),height:l.toString(),top:c,left:d}),_=Ke().toLowerCase();n&&(g=g0(_)?mw:n),d0(_)&&(t=t||gw,p.scrollbars="yes");const A=Object.entries(p).reduce((w,[j,q])=>`${w}${j}=${q},`,"");if(J1(_)&&g!=="_self")return yw(t||"",g),new L_(null);const R=window.open(t||"",g,A);_t(R,r,"popup-blocked");try{R.focus()}catch{}return new L_(R)}function yw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__/auth/handler",vw="emulator/auth/handler",Ew=encodeURIComponent("fac");async function z_(r,t,n,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ha,eventId:l};if(t instanceof fm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",TS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries({}))d[A]=R}if(t instanceof Ml){const A=t.getScopes().filter(R=>R!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),_=p?`#${Ew}=${encodeURIComponent(p)}`:"";return`${Tw(r)}?${Nl(g).slice(1)}${_}`}function Tw({config:r}){return r.emulator?om(r,vw):`https://${r.authDomain}/${_w}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="webStorageSupport";class Aw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=Qb,this._overrideRedirectResult=Hb}async _openPopup(t,n,s,l){var c;zi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await z_(t,n,s,xd(),l);return pw(t,d,dm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await z_(t,n,s,xd(),l);return wb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await cw(t),s=new Yb(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sd,{type:Sd},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Sd];d!==void 0&&n(!!d),ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wb(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||m0()||cm()}}const Sw=Aw;var B_="@firebase/auth",q_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rw(r){xa(new bs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T0(r)},_=new rb(s,l,c,p);return cb(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),xa(new bs("auth-internal",t=>{const n=Qc(t.getProvider("auth").getImmediate());return(s=>new bw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(B_,q_,ww(r)),wr(B_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=5*60,Cw=Zv("authIdTokenMaxAge")||Iw;let j_=null;const Dw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Cw)return;const l=n==null?void 0:n.token;j_!==l&&(j_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Ow(r=i0()){const t=im(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ub(r,{popupRedirectResolver:Sw,persistence:[xb,Ab,C0]}),s=Zv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=Dw(c.toString());vb(n,d,()=>d(n.currentUser)),_b(n,g=>d(g))}}const l=Xv("auth");return l&&hb(n,`http://${l}`),n}function Nw(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}sb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Un("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",Nw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rw("Browser");var Vw="firebase",Mw="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(Vw,Mw,"app");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,k0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function I(){}I.prototype=S.prototype,V.D=S.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(N,M,P){for(var C=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)C[Ve-2]=arguments[Ve];return S.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,I){I||(I=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=V.g[0],I=V.g[1],M=V.g[2];var P=V.g[3],C=S+(P^I&(M^P))+N[0]+3614090360&4294967295;S=I+(C<<7&4294967295|C>>>25),C=P+(M^S&(I^M))+N[1]+3905402710&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(I^P&(S^I))+N[2]+606105819&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(S^M&(P^S))+N[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(P^I&(M^P))+N[4]+4118548399&4294967295,S=I+(C<<7&4294967295|C>>>25),C=P+(M^S&(I^M))+N[5]+1200080426&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(I^P&(S^I))+N[6]+2821735955&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(S^M&(P^S))+N[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(P^I&(M^P))+N[8]+1770035416&4294967295,S=I+(C<<7&4294967295|C>>>25),C=P+(M^S&(I^M))+N[9]+2336552879&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(I^P&(S^I))+N[10]+4294925233&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(S^M&(P^S))+N[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(P^I&(M^P))+N[12]+1804603682&4294967295,S=I+(C<<7&4294967295|C>>>25),C=P+(M^S&(I^M))+N[13]+4254626195&4294967295,P=S+(C<<12&4294967295|C>>>20),C=M+(I^P&(S^I))+N[14]+2792965006&4294967295,M=P+(C<<17&4294967295|C>>>15),C=I+(S^M&(P^S))+N[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=S+(M^P&(I^M))+N[1]+4129170786&4294967295,S=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(S^I))+N[6]+3225465664&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(P^S))+N[11]+643717713&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^S&(M^P))+N[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(I^M))+N[5]+3593408605&4294967295,S=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(S^I))+N[10]+38016083&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(P^S))+N[15]+3634488961&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^S&(M^P))+N[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(I^M))+N[9]+568446438&4294967295,S=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(S^I))+N[14]+3275163606&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(P^S))+N[3]+4107603335&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^S&(M^P))+N[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(M^P&(I^M))+N[13]+2850285829&4294967295,S=I+(C<<5&4294967295|C>>>27),C=P+(I^M&(S^I))+N[2]+4243563512&4294967295,P=S+(C<<9&4294967295|C>>>23),C=M+(S^I&(P^S))+N[7]+1735328473&4294967295,M=P+(C<<14&4294967295|C>>>18),C=I+(P^S&(M^P))+N[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=S+(I^M^P)+N[5]+4294588738&4294967295,S=I+(C<<4&4294967295|C>>>28),C=P+(S^I^M)+N[8]+2272392833&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^I)+N[11]+1839030562&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^S)+N[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^P)+N[1]+2763975236&4294967295,S=I+(C<<4&4294967295|C>>>28),C=P+(S^I^M)+N[4]+1272893353&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^I)+N[7]+4139469664&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^S)+N[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^P)+N[13]+681279174&4294967295,S=I+(C<<4&4294967295|C>>>28),C=P+(S^I^M)+N[0]+3936430074&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^I)+N[3]+3572445317&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^S)+N[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(I^M^P)+N[9]+3654602809&4294967295,S=I+(C<<4&4294967295|C>>>28),C=P+(S^I^M)+N[12]+3873151461&4294967295,P=S+(C<<11&4294967295|C>>>21),C=M+(P^S^I)+N[15]+530742520&4294967295,M=P+(C<<16&4294967295|C>>>16),C=I+(M^P^S)+N[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=S+(M^(I|~P))+N[0]+4096336452&4294967295,S=I+(C<<6&4294967295|C>>>26),C=P+(I^(S|~M))+N[7]+1126891415&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~I))+N[14]+2878612391&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~S))+N[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~P))+N[12]+1700485571&4294967295,S=I+(C<<6&4294967295|C>>>26),C=P+(I^(S|~M))+N[3]+2399980690&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~I))+N[10]+4293915773&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~S))+N[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~P))+N[8]+1873313359&4294967295,S=I+(C<<6&4294967295|C>>>26),C=P+(I^(S|~M))+N[15]+4264355552&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~I))+N[6]+2734768916&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~S))+N[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=S+(M^(I|~P))+N[4]+4149444226&4294967295,S=I+(C<<6&4294967295|C>>>26),C=P+(I^(S|~M))+N[11]+3174756917&4294967295,P=S+(C<<10&4294967295|C>>>22),C=M+(S^(P|~I))+N[2]+718787259&4294967295,M=P+(C<<15&4294967295|C>>>17),C=I+(P^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var I=S-this.blockSize,N=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=I;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(N[M++]=V.charCodeAt(P++),M==this.blockSize){l(this,N),M=0;break}}else for(;P<S;)if(N[M++]=V[P++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var I=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=I&255,I/=256;for(this.u(V),V=Array(16),S=I=0;4>S;++S)for(var N=0;32>N;N+=8)V[I++]=this.g[S]>>>N&255;return V};function c(V,S){var I=g;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=S(V)}function d(V,S){this.h=S;for(var I=[],N=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;N&&P==S||(I[M]=P,N=!1)}this.g=I}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return Z(_(-V));for(var S=[],I=1,N=0;V>=I;N++)S[N]=V/I|0,I*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Z(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(S,8)),N=R,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+P),S);8>P?(P=_(Math.pow(S,P)),N=N.j(P).add(_(C))):(N=N.j(I),N=N.add(_(C)))}return N}var R=p(0),w=p(1),j=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-Z(this).m();for(var V=0,S=1,I=0;I<this.g.length;I++){var N=this.i(I);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(W(this))return"-"+Z(this).toString(V);for(var S=_(Math.pow(V,6)),I=this,N="";;){var M=bt(I,S).g;I=rt(I,M.j(S));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=M,q(I))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function W(V){return V.h==-1}r.l=function(V){return V=rt(this,V),W(V)?-1:q(V)?0:1};function Z(V){for(var S=V.g.length,I=[],N=0;N<S;N++)I[N]=~V.g[N];return new d(I,~V.h).add(w)}r.abs=function(){return W(this)?Z(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0,M=0;M<=S;M++){var P=N+(this.i(M)&65535)+(V.i(M)&65535),C=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=C>>>16,P&=65535,C&=65535,I[M]=C<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function rt(V,S){return V.add(Z(S))}r.j=function(V){if(q(this)||q(V))return R;if(W(this))return W(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(W(V))return Z(this.j(Z(V)));if(0>this.l(j)&&0>V.l(j))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,I=[],N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var P=this.i(N)>>>16,C=this.i(N)&65535,Ve=V.i(M)>>>16,re=V.i(M)&65535;I[2*N+2*M]+=C*re,ot(I,2*N+2*M),I[2*N+2*M+1]+=P*re,ot(I,2*N+2*M+1),I[2*N+2*M+1]+=C*Ve,ot(I,2*N+2*M+1),I[2*N+2*M+2]+=P*Ve,ot(I,2*N+2*M+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function ot(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ut(V,S){this.g=V,this.h=S}function bt(V,S){if(q(S))throw Error("division by zero");if(q(V))return new ut(R,R);if(W(V))return S=bt(Z(V),S),new ut(Z(S.g),Z(S.h));if(W(S))return S=bt(V,Z(S)),new ut(Z(S.g),S.h);if(30<V.g.length){if(W(V)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,N=S;0>=N.l(V);)I=pt(I),N=pt(N);var M=Dt(I,1),P=Dt(N,1);for(N=Dt(N,2),I=Dt(I,2);!q(N);){var C=P.add(N);0>=C.l(V)&&(M=M.add(I),P=C),N=Dt(N,1),I=Dt(I,1)}return S=rt(V,M.j(S)),new ut(M,S)}for(M=R;0<=V.l(S);){for(I=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=_(I),C=P.j(S);W(C)||0<C.l(V);)I-=N,P=_(I),C=P.j(S);q(P)&&(P=w),M=M.add(P),V=rt(V,C)}return new ut(M,V)}r.A=function(V){return bt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)&V.i(N);return new d(I,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)|V.i(N);return new d(I,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),I=[],N=0;N<S;N++)I[N]=this.i(N)^V.i(N);return new d(I,this.h^V.h)};function pt(V){for(var S=V.g.length+1,I=[],N=0;N<S;N++)I[N]=V.i(N)<<1|V.i(N-1)>>>31;return new d(I,V.h)}function Dt(V,S){var I=S>>5;S%=32;for(var N=V.g.length-I,M=[],P=0;P<N;P++)M[P]=0<S?V.i(P+I)>>>S|V.i(P+I+1)<<32-S:V.i(P+I);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,k0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Rr=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U0,ll,L0,vc,Ud,z0,B0,q0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,k={next:function(){if(!T&&y<u.length){var H=y++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function R(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function w(u,m,y){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,w.apply(null,arguments)}function j(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function q(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,k,H){for(var tt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)tt[xt-2]=arguments[xt];return m.prototype[k].apply(T,tt)}}function W(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const k=u.length||0,H=T.length||0;u.length=k+H;for(let tt=0;tt<H;tt++)u[k+tt]=T[tt]}else u.push(T)}}class rt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function bt(u){return bt[" "](u),u}bt[" "]=function(){};var pt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Dt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let H=0;H<I.length;H++)y=I[H],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function M(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new rt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,zt=new Ve,D=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(y){P(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function It(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{bt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}q(It,J);var vt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function li(u){this.src=u,this.g={},this.h=0}li.prototype.add=function(u,m,y,T,k){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var tt=Pr(u,m,T,k);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new zn(m,this.src,H,!!T,k),m.fa=y,u.push(m)),m};function xr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=k)&&Array.prototype.splice.call(T,k,1),H&&(Hi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Pr(u,m,y,T){for(var k=0;k<u.length;++k){var H=u[k];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==T)return k}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),$a={};function zl(u,m,y,T,k){if(Array.isArray(m)){for(var H=0;H<m.length;H++)zl(u,m[H],y,T,k);return null}return y=Bl(y),u&&u[we]?u.K(m,y,_(T)?!!T.capture:!1,k):mn(u,m,y,!1,T,k)}function mn(u,m,y,T,k,H){if(!m)throw Error("Invalid event type");var tt=_(k)?!!k.capture:!!k,xt=xs(u);if(xt||(u[kr]=xt=new li(u)),y=xt.add(m,y,T,tt,H),y.proxy)return y;if(T=ch(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)ft||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ch(){function u(y){return m.call(u.src,u.listener,y)}const m=hh;return u}function Za(u,m,y,T,k){if(Array.isArray(m))for(var H=0;H<m.length;H++)Za(u,m[H],y,T,k);else T=_(T)?!!T.capture:!!T,y=Bl(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],y=Pr(H,y,T,k),-1<y&&(Hi(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=xs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Pr(m,y,T,k)),(y=-1<u?m[u]:null)&&Ms(y))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])xr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Ur(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=xs(m))?(xr(y,u),y.h==0&&(y.src=null,m[kr]=null)):Hi(u)}}}function Ur(u){return u in $a?$a[u]:$a[u]="on"+u}function hh(u,m){if(u.da)u=!0;else{m=new It(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ms(u),u=y.call(T,m)}return u}function xs(u){return u=u[kr],u instanceof li?u:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bl(u){return typeof u=="function"?u:(u[Ja]||(u[Ja]=function(m){return u.handleEvent(m)}),u[Ja])}function se(){nt.call(this),this.i=new li(this),this.M=this,this.F=null}q(se,nt),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,y,T){Za(this,u,m,y,T)};function Ht(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(T,u),N(m,k)}if(k=!0,y)for(var H=y.length-1;0<=H;H--){var tt=m.g=y[H];k=nn(tt,T,!0,m)&&k}if(tt=m.g=u,k=nn(tt,T,!0,m)&&k,k=nn(tt,T,!1,m)&&k,y)for(H=0;H<y.length;H++)tt=m.g=y[H],k=nn(tt,T,!1,m)&&k}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Hi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,H=0;H<m.length;++H){var tt=m[H];if(tt&&!tt.da&&tt.capture==y){var xt=tt.listener,ve=tt.ha||tt.src;tt.fa&&xr(u.i,tt),k=xt.call(ve,T)!==!1&&k}}return k&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=w(u,y));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ql(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class fh extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){nt.call(this),this.h=u,this.g={}}q(Lr,nt);var zr=[];function Br(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ms(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Br(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Ps=g.JSON.parse,qr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Wa(){}Wa.prototype.h=null;function to(u){return u.h||(u.h=u.i())}function eo(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){J.call(this,"d")}q(ci,J);function no(){J.call(this,"c")}q(no,J);var Bn={},io=null;function Gi(){return io=io||new se}Bn.La="serverreachability";function ks(u){J.call(this,Bn.La,u)}q(ks,J);function Fi(u){const m=Gi();Ht(m,new ks(m))}Bn.STAT_EVENT="statevent";function jl(u,m){J.call(this,Bn.STAT_EVENT,u),this.stat=m}q(jl,J);function te(u){const m=Gi();Ht(m,new jl(m,u))}Bn.Ma="timingevent";function _e(u,m){J.call(this,Bn.Ma,u),this.size=m}q(_e,J);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function ro(u,m,y,T,k,H){u.info(function(){if(u.g)if(H)for(var tt="",xt=H.split("&"),ve=0;ve<xt.length;ve++){var Pt=xt[ve].split("=");if(1<Pt.length){var Ie=Pt[0];Pt=Pt[1];var Ee=Ie.split("_");tt=2<=Ee.length&&Ee[1]=="type"?tt+(Ie+"="+Pt+"&"):tt+(Ie+"=redacted&")}}else tt=null;else tt=H;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+tt})}function dh(u,m,y,T,k,H,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+H+" "+tt})}function Qi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jr(u,y)+(T?" "+T:"")})}function Hl(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function jr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Cn(y)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}q(jn,Wa),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var so={},Us={};function Dn(u,m,y){u.L=1,u.v=Kr(rn(m)),u.m=y,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Hr(u),u.A=rn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),ho(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=su(u.j,y?m:null,!u.m),0<u.O&&(u.M=new fh(w(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(zr[0]=k.toString()),k=zr);for(var H=0;H<k.length;H++){var tt=zl(y,k[H],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),ro(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ei?Fi(3):Fi(2)),Yi(this);var y=this.g.Z();this.X=y;e:if(Gl(this)){var T=Zl(this.g);u="";var k=T.length,H=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Hn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,dh(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,ve=this.g;if((xt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(xt)){var Pt=xt;break e}}Pt=null}if(y=Pt)Qi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,y);else{this.o=!1,this.s=3,te(12),Me(this),Hn(this);break t}}if(this.P){y=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=Fl(this,tt),xe==Us){Ee==4&&(this.s=4,te(14),y=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==so){this.s=4,te(15),Qi(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else Qi(this.i,this.l,xe,null),Gr(this,xe);if(Gl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||tt.length!=0||this.h.h||(this.s=1,te(16),y=!1),this.o=this.o&&y,!y)Qi(this.i,this.l,tt,"[Invalid Chunked Response]"),Me(this),Hn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),es(Ie),Ie.M=!0,te(11))}}else Qi(this.i,this.l,tt,null),Gr(this,tt);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?nu(this.j,this):(this.o=!1,Hr(this)))}else _h(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),Hn(this)}}}catch{}finally{}};function Gl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Us:(y=Number(m.substring(y,T)),isNaN(y)?so:(T+=1,T+y>m.length?Us:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Hr(u){u.S=Date.now()+u.I,Ql(u,u.I)}function Ql(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(w(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hl(this.i,this.A),this.L!=2&&(Fi(),te(17)),Me(this),this.s=2,Hn(this)):Ql(this,this.S-u)};function Hn(u){u.j.G==0||u.J||nu(u.j,u)}function Me(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Br(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Gr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ao(y.h,u))){if(!u.K&&ao(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Xs(y),Ks(y);else break t;yo(y),te(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=fe(w(y.Za,y),6e3));if(1>=zs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vi(y,11)}else if((u.K||y.g==u)&&Xs(y),!ot(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let Pt=k[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const Ie=Pt[3];Ie!=null&&(y.la=Ie,y.j.info("VER="+y.la));const Ee=Pt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const Ei=Pt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const xe=u.g;if(xe){const $n=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var H=T.h;H.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Bs(H,H.h),H.h=null))}if(T.D){const vo=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(T.ya=vo,Qt(T.I,T.D,vo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var tt=u;if(T.qa=ru(T,T.J?T.ia:null,T.W),tt.K){Xe(T.h,tt);var xt=tt,ve=T.L;ve&&(xt.I=ve),xt.B&&(Yi(xt),Hr(xt)),T.g=tt}else tu(T);0<y.i.length&&Ys(y)}else Pt[0]!="stop"&&Pt[0]!="close"||vi(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?vi(y,7):go(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Fi(4)}catch{}}var Kl=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function ao(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function oo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return W(u.i)}function mh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function lo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=qs(u),T=mh(u),k=T.length,H=0;H<k;H++)m.call(void 0,T[H],y&&y[H],u)}var Fr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),k=null;if(0<=T){var H=u[y].substring(0,T);k=u[y].substring(T+1)}else H=u[y];m(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Qr(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,y=new gi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),mi(this,y),this.m=u.m}else u&&(m=String(u).match(Fr))?(this.h=!1,Qr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Xi(this,m[4]),this.l=pn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,uo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,uo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Yr(y,y.charAt(0)=="/"?ph:co,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Yr(y,js)),u.join("")};function rn(u){return new de(u)}function Qr(u,m,y){u.j=y?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,y){m instanceof gi?(u.i=m,Xl(u.i,u.h)):(y||(m=Yr(m,yh)),u.i=new gi(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function Kr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Yl),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var uo=/[#\/\?@]/g,co=/[#\?:]/g,ph=/[#\?]/g,yh=/[#\?@]/g,js=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&gh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=gi.prototype,r.add=function(u,m){yn(this),this.i=null,u=Gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function pi(u,m){yn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return yn(u),m=Gn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const k=u[T];for(let H=0;H<k.length;H++)y.push(m[T])}return y},r.V=function(u){yn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return yn(this),this.i=null,u=Gn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ho(u,m,y){pi(u,m),0<y.length&&(u.i=null,u.g.set(Gn(u,m),W(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const H=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var k=H;tt[T]!==""&&(k+="="+encodeURIComponent(String(tt[T]))),u.push(k)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xl(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(y,T){var k=T.toLowerCase();T!=k&&(pi(this,T),ho(this,k,y))},u)),u.j=m}function Xr(u,m){const y=new gn;if(g.Image){const T=new Image;T.onload=j(_n,y,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,y,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const y=new gn,T=new AbortController,k=setTimeout(()=>{T.abort(),_n(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(k),H.ok?_n(y,"TestPingServer: ok",!0,m):_n(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),_n(y,"TestPingServer: error",!1,m)})}function _n(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function $r(){this.g=new qr}function Fn(u,m,y){const T=y||"";try{lo(u,function(k,H){let tt=k;_(k)&&(tt=Cn(k)),m.push(T+H+"="+encodeURIComponent(tt))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}q($i,Wa),$i.prototype.g=function(){return new _i(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function _i(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(_i,se),r=_i.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function fo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&fo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mo(u){let m="";return Dt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Re(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=mo(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(qt,se);var Hs=/^https?$/i,Zr=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?to(this.o):to(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){$l(this,H);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())y.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of y)this.g.setRequestHeader(H,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){$l(this,H)}};function $l(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),Yn(u)}function Gs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},r.bb=function(){Fs(this)};function Fs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=tt===0){var k=String(u.D).match(Fr)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Hs.test(k?k.toLowerCase():"")}y=T}if(y)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<vn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Gs(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Jr(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{y.onreadystatechange=T}catch{}}}function Jr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ps(m)}};function Zl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _h(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ot(u[T]))continue;var y=M(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[k]||[];m[k]=H,H.push(y)}V(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Qs(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,u),this.cb=Wr("retryDelaySeedMs",1e4,u),this.Wa=Wr("forwardChannelMaxRetries",2,u),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){te(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=ru(this,null,this.W),Ys(this)};function go(u){if(Jl(u),u.G==3){var m=u.U++,y=rn(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),ts(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=Kr(rn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hr(m)}iu(u)}function Ks(u){u.g&&(es(u),u.g.cancel(),u.g=null)}function Jl(u){Ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),Xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ys(u){if(!Ls(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||D(),ct||(et(),ct=!0),zt.add(m,u),u.B=0}}function vh(u,m){return zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(w(u.Ga,u,m),_o(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Ye(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Wl(this,k,m),y=rn(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),ts(this,y),H&&(this.O?m="headers="+encodeURIComponent(String(mo(H)))+"&"+m:this.m&&Re(y,this.m,H)),Bs(this.h,k),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),k.T=!0,Dn(k,y,null)):Dn(k,y,m),this.G=2}}else this.G==3&&(u?po(this,u):this.i.length==0||Ls(this.h)||po(this))};function po(u,m){var y;m?y=m.l:y=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),ts(u,T),u.m&&u.o&&Re(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,y),Dn(y,T,m)}function ts(u,m){u.H&&Dt(u.H,function(y,T){Qt(m,T,y)}),u.l&&lo({},function(y,T){Qt(m,T,y)})}function Wl(u,m,y){y=Math.min(u.i.length,y);var T=u.l?w(u.l.Na,u.l,u):null;t:{var k=u.i;let H=-1;for(;;){const tt=["count="+y];H==-1?0<y?(H=k[0].g,tt.push("ofs="+H)):H=0:tt.push("ofs="+H);let xt=!0;for(let ve=0;ve<y;ve++){let Pt=k[ve].g;const Ie=k[ve].map;if(Pt-=H,0>Pt)H=Math.max(0,k[ve].g-100),xt=!1;else try{Fn(Ie,tt,"req"+Pt+"_")}catch{T&&T(Ie)}}if(xt){T=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function tu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||D(),ct||(et(),ct=!0),zt.add(m,u),u.v=0}}function yo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(w(u.Fa,u),_o(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(w(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ks(this),eu(this))};function es(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function eu(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),ts(u,m),u.m&&u.o&&Re(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Kr(rn(m)),y.m=null,y.P=!0,fi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ks(this),yo(this),te(19))};function Xs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function nu(u,m){var y=null;if(u.g==m){Xs(u),es(u),u.g=null;var T=2}else if(ao(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Gi(),Ht(T,new _e(T,y)),Ys(u)}else tu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&vh(u,m)||T==2&&yo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function _o(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=w(u.fb,u),T=u.Xa;const k=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Qr(T,"https"),Kr(T),k?Xr(T.toString(),y):On(T.toString(),y)}else te(2);u.G=0,u.l&&u.l.sa(m),iu(u),Jl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function iu(u){if(u.G=0,u.ka=[],u.l){const m=oo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function ru(u,m,y){var T=y instanceof de?rn(y):new de(y);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var H=new de(null);T&&Qr(H,T),m&&(H.g=m),k&&Xi(H,k),y&&(H.l=y),T=H}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),ts(u,T),T}function su(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new $i({eb:y})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}q($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){go(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cn(u),u=y);m.i.push(new Kl(m.Ya++,u)),m.G==3&&Ys(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,$e.aa.N.call(this)};function ou(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}q(ou,ci);function lu(){no.call(this),this.status=1}q(lu,no);function Xn(u){this.g=u}q(Xn,au),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new ou(u))},Xn.prototype.sa=function(u){Ht(this.g,new lu)},Xn.prototype.ra=function(){Ht(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,q0=function(){return new $s},B0=function(){return Gi()},z0=Bn,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,vc=Ki,hi.COMPLETE="complete",L0=hi,eo.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,ll=eo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,U0=qt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new em("@firebase/firestore");function wa(){return Rs.logLevel}function it(r,...t){if(Rs.logLevel<=Vt.DEBUG){const n=t.map(gm);Rs.debug(`Firestore (${Fa}): ${r}`,...n)}}function Bi(r,...t){if(Rs.logLevel<=Vt.ERROR){const n=t.map(gm);Rs.error(`Firestore (${Fa}): ${r}`,...n)}}function ka(r,...t){if(Rs.logLevel<=Vt.WARN){const n=t.map(gm);Rs.warn(`Firestore (${Fa}): ${r}`,...n)}}function gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,j0(r,s,n)}function j0(r,t,n){let s=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Bi(s),new Error(s)}function jt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||j0(t,l,s)}function Tt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class Pw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new As;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new As,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new As)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new H0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class Uw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Uw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Bw(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Rt(r,t){return r<t?-1:r>t?1:0}function Ld(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=G0(),d=qw(c.encode(K_(r,n)),c.encode(K_(t,n)));return d!==0?d:Rt(s,l)}}n+=s>65535?2:1}return Rt(r.length,t.length)}function K_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function qw(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function Ua(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-62135596800,X_=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*X_);return new Se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Y_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Y_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Se(0,0))}static max(){return new Et(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class ni{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ni.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Rt(t.length,n.length)}static compareSegments(t,n){const s=ni.isNumericId(t),l=ni.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ni.extractNumericId(t).compare(ni.extractNumericId(n)):Ld(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Rr.fromString(t.substring(4,t.length-2))}}class Wt extends ni{construct(t,n,s){return new Wt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Wt(n)}static emptyPath(){return new Wt([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ni{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return jw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new ze([$_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Wt.fromString(t))}static fromName(t){return new ht(Wt.fromString(t).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function Hw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new Se(n+1,0):new Se(n,s));return new Cr(l,ht.empty(),t)}function Gw(r){return new Cr(r.readTime,r.key,Tl)}class Cr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Cr(Et.min(),ht.empty(),Tl)}static max(){return new Cr(Et.max(),ht.empty(),Tl)}}function Fw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Qw)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(A=>{d[_]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function Yw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ka(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Xc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function $c(r){return r==null}function xc(r){return r===0&&1/r==-1/0}function Xw(r){return typeof r=="number"&&Number.isInteger(r)&&!xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function $w(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Z_(t)),t=Zw(r.get(n),t);return Z_(t)}function Zw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case Q0:n+="";break;default:n+=c}}return n}function Z_(r){return r+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Cs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function K0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Le.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new Le(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new Le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(t){return new W_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new be(this.comparator);return n.data=t,n}}class W_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new kn([])}unionWith(t){let n=new be(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y0("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=Jw.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Or(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",$0="__type__",Z0="__previous_value__",J0="__local_write_time__";function ym(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[$0])===null||n===void 0?void 0:n.stringValue)===X0}function Zc(r){const t=r.mapValue.fields[Z0];return ym(t)?Zc(t):t}function Al(r){const t=Dr(r.mapValue.fields[J0].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n,s,l,c,d,g,p,_,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=A}}const Pc="(default)";class Sl{constructor(t,n){this.projectId=t,this.database=n||Pc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__type__",tR="__max__",fc={mapValue:{}},tE="__vector__",kc="value";function Nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ym(r)?4:nR(r)?9007199254740991:eR(r)?10:11:gt(28295,{value:r})}function oi(r,t){if(r===t)return!0;const n=Nr(r);if(n!==Nr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Al(r).isEqual(Al(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Dr(l.timestampValue),g=Dr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Or(l.bytesValue).isEqual(Or(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?xc(d)===xc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ua(r.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(J_(d)!==J_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(r,t);default:return gt(52216,{left:r})}}function bl(r,t){return(r.values||[]).find(n=>oi(n,t))!==void 0}function La(r,t){if(r===t)return 0;const n=Nr(r),s=Nr(t);if(n!==s)return Rt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return tv(r.timestampValue,t.timestampValue);case 4:return tv(Al(r),Al(t));case 5:return Ld(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Or(c),p=Or(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const A=Rt(g[_],p[_]);if(A!==0)return A}return Rt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(he(c.latitude),he(d.latitude));return g!==0?g:Rt(he(c.longitude),he(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return ev(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,_,A;const R=c.fields||{},w=d.fields||{},j=(g=R[kc])===null||g===void 0?void 0:g.arrayValue,q=(p=w[kc])===null||p===void 0?void 0:p.arrayValue,W=Rt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=q==null?void 0:q.values)===null||A===void 0?void 0:A.length)||0);return W!==0?W:ev(j,q)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===fc.mapValue&&d===fc.mapValue)return 0;if(c===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},A=Object.keys(_);p.sort(),A.sort();for(let R=0;R<p.length&&R<A.length;++R){const w=Ld(p[R],A[R]);if(w!==0)return w;const j=La(g[p[R]],_[A[R]]);if(j!==0)return j}return Rt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw gt(23264,{Pe:n})}}function tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Dr(r),s=Dr(t),l=Rt(n.seconds,s.seconds);return l!==0?l:Rt(n.nanos,s.nanos)}function ev(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=La(n[l],s[l]);if(c)return c}return Rt(n.length,s.length)}function za(r){return zd(r)}function zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Dr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Or(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=zd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${zd(n.fields[d])}`;return l+"}"}(r.mapValue):gt(61005,{value:r})}function Ec(r){switch(Nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zc(r);return t?16+Ec(t):16;case 5:return 2*r.stringValue.length;case 6:return Or(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Ec(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Cs(s.fields,(c,d)=>{l+=c.length+Ec(d)}),l}(r.mapValue);default:throw gt(13486,{value:r})}}function nv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Bd(r){return!!r&&"integerValue"in r}function _m(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function eR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[W0])===null||n===void 0?void 0:n.stringValue)===tE}function ml(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Cs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=ml(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ml(r.arrayValue.values[n]);return t}return Object.assign({},r)}function nR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Tc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(n)}setAll(t){let n=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=ml(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Tc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Cs(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new In(ml(this.value))}}function eE(r){const t=[];return Cs(r.fields,(n,s)=>{const l=new ze([n]);if(Tc(s)){const c=eE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,Et.min(),Et.min(),Et.min(),In.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,Et.min(),Et.min(),In.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Et.min(),Et.min(),In.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.position=t,this.inclusive=n}}function sv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),n.key):s=La(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!oi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,n="asc"){this.field=t,this.dir=n}}function iR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{}class ye extends nE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new sR(t,n,s):n==="array-contains"?new lR(t,s):n==="in"?new uR(t,s):n==="not-in"?new cR(t,s):n==="array-contains-any"?new hR(t,s):new ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new aR(t,s):new oR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(La(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends nE{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Ln(t,n)}matches(t){return iE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iE(r){return r.op==="and"}function rE(r){return rR(r)&&iE(r)}function rR(r){for(const t of r.filters)if(t instanceof Ln)return!1;return!0}function qd(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+za(r.value);if(rE(r))return r.filters.map(t=>qd(t)).join(",");{const t=r.filters.map(n=>qd(n)).join(",");return`${r.op}(${t})`}}function sE(r,t){return r instanceof ye?function(s,l){return l instanceof ye&&s.op===l.op&&s.field.isEqual(l.field)&&oi(s.value,l.value)}(r,t):r instanceof Ln?function(s,l){return l instanceof Ln&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&sE(d,l.filters[g]),!0):!1}(r,t):void gt(19439)}function aE(r){return r instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(r):r instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(aE).join(" ,")+"}"}(r):"Filter"}class sR extends ye{constructor(t,n,s){super(t,n,s),this.key=ht.fromName(s.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class aR extends ye{constructor(t,n){super(t,"in",n),this.keys=oE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class oR extends ye{constructor(t,n){super(t,"not-in",n),this.keys=oE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function oE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ht.fromName(s.referenceValue))}class lR extends ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _m(n)&&bl(n.arrayValue,this.value)}}class uR extends ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class cR extends ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bl(this.value.arrayValue,n)}}class hR extends ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function ov(r,t=null,n=[],s=[],l=null,c=null,d=null){return new fR(r,t,n,s,l,c,d)}function vm(r){const t=Tt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>qd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),$c(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>za(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>za(s)).join(",")),t.Ie=n}return t.Ie}function Em(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!iR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!sE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!av(r.startAt,t.startAt)&&av(r.endAt,t.endAt)}function jd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function dR(r,t,n,s,l,c,d,g){return new Ya(r,t,n,s,l,c,d,g)}function Tm(r){return new Ya(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lE(r){return r.collectionGroup!==null}function gl(r){const t=Tt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new wl(c,s))}),n.has(ze.keyField().canonicalString())||t.Ee.push(new wl(ze.keyField(),s))}return t.Ee}function ri(r){const t=Tt(r);return t.de||(t.de=mR(t,gl(r))),t.de}function mR(r,t){if(r.limitType==="F")return ov(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new wl(l.field,c)});const n=r.endAt?new Uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uc(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Hd(r,t){const n=r.filters.concat([t]);return new Ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Gd(r,t,n){return new Ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jc(r,t){return Em(ri(r),ri(t))&&r.limitType===t.limitType}function uE(r){return`${vm(ri(r))}|lt:${r.limitType}`}function Ra(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>aE(l)).join(", ")}]`),$c(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>za(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of gl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,gl(s),l)||s.endAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,gl(s),l))}(r,t)}function gR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cE(r){return(t,n)=>{let s=!1;for(const l of gl(r)){const c=pR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function pR(r,t,n){const s=r.field.isKeyField()?ht.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?La(p,_):gt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Cs(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new ie(ht.comparator);function qi(){return yR}const hE=new ie(ht.comparator);function ul(...r){let t=hE;for(const n of r)t=t.insert(n.key,n);return t}function fE(r){let t=hE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function vs(){return pl()}function dE(){return pl()}function pl(){return new Ds(r=>r.toString(),(r,t)=>r.isEqual(t))}const _R=new ie(ht.comparator),vR=new be(ht.comparator);function Mt(...r){let t=vR;for(const n of r)t=t.add(n);return t}const ER=new be(Rt);function TR(){return ER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(t)?"-0":t}}function mE(r){return{integerValue:""+r}}function AR(r,t){return Xw(t)?mE(t):Am(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function SR(r,t,n){return r instanceof Rl?function(l,c){const d={fields:{[$0]:{stringValue:X0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ym(c)&&(c=Zc(c)),c&&(d.fields[Z0]=c),{mapValue:d}}(n,t):r instanceof Il?pE(r,t):r instanceof Cl?yE(r,t):function(l,c){const d=gE(l,c),g=uv(d)+uv(l.Re);return Bd(d)&&Bd(l.Re)?mE(g):Am(l.serializer,g)}(r,t)}function bR(r,t,n){return r instanceof Il?pE(r,t):r instanceof Cl?yE(r,t):n}function gE(r,t){return r instanceof Lc?function(s){return Bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Rl extends th{}class Il extends th{constructor(t){super(),this.elements=t}}function pE(r,t){const n=_E(t);for(const s of r.elements)n.some(l=>oi(l,s))||n.push(s);return{arrayValue:{values:n}}}class Cl extends th{constructor(t){super(),this.elements=t}}function yE(r,t){let n=_E(t);for(const s of r.elements)n=n.filter(l=>!oi(l,s));return{arrayValue:{values:n}}}class Lc extends th{constructor(t,n){super(),this.serializer=t,this.Re=n}}function uv(r){return he(r.integerValue||r.doubleValue)}function _E(r){return _m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t,n){this.field=t,this.transform=n}}function RR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Il&&l instanceof Il||s instanceof Cl&&l instanceof Cl?Ua(s.elements,l.elements,oi):s instanceof Lc&&l instanceof Lc?oi(s.Re,l.Re):s instanceof Rl&&l instanceof Rl}(r.transform,t.transform)}class IR{constructor(t,n){this.version=t,this.transformResults=n}}class Ui{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class eh{}function vE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new TE(r.key,Ui.none()):new Pl(r.key,r.data,Ui.none());{const n=r.data,s=In.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Os(r.key,s,new kn(l.toArray()),Ui.none())}}function CR(r,t,n){r instanceof Pl?function(l,c,d){const g=l.value.clone(),p=hv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Os?function(l,c,d){if(!Ac(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=hv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(EE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,s){return r instanceof Pl?function(c,d,g,p){if(!Ac(c.precondition,d))return g;const _=c.value.clone(),A=fv(c.fieldTransforms,p,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Os?function(c,d,g,p){if(!Ac(c.precondition,d))return g;const _=fv(c.fieldTransforms,p,d),A=d.data;return A.setAll(EE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,n,s):function(c,d,g){return Ac(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function DR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=gE(s.transform,l||null);c!=null&&(n===null&&(n=In.empty()),n.set(s.field,c))}return n||null}function cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ua(s,l,(c,d)=>RR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Pl extends eh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Os extends eh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function hv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,bR(d,g,n[l]))}return s}function fv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,SR(c,d,t))}return s}class TE extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OR extends eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&CR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=dE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=vE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(n,s)=>cv(n,s))&&Ua(this.baseMutations,t.baseMutations,(n,s)=>cv(n,s))}}class Sm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){jt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return _R}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Sm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function xR(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function AE(r){if(r===void 0)return Bi("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Rr([4294967295,4294967295],0);function dv(r){const t=G0().encode(r),n=new k0;return n.update(t),new Uint8Array(n.digest())}function mv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Rr([n,s],0),new Rr([l,c],0)]}class bm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(s<0)throw new cl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Rr.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(Rr.fromNumber(s)));return l.compare(PR)===1&&(l=new Rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new bm(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new nh(Et.min(),l,new ie(Rt),qi(),Mt())}}class kl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new kl(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class SE{constructor(t,n){this.targetId=t,this.Ce=n}}class bE{constructor(t,n,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class gv{constructor(){this.Fe=0,this.Me=pv(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),n=Mt(),s=Mt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}}),new kl(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=pv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kR{constructor(t){this.ze=t,this.je=new Map,this.He=qi(),this.Je=dc(),this.Ye=dc(),this.Ze=new ie(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:gt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(jd(c))if(s===0){const d=new ht(c.path);this.tt(n,d,Qe.newNoDocument(d,Et.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Or(s).toUint8Array()}catch(p){if(p instanceof Y0)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new bm(d,l,c)}catch(p){return ka(p instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&jd(g.target)){const p=new ht(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=Mt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this._t(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new nh(t,n,this.Ze,this.He,s);return this.He=qi(),this.Je=dc(),this.Ye=dc(),this.Ze=new ie(Rt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new gv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new be(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new be(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new gv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function dc(){return new ie(ht.comparator)}function pv(){return new ie(ht.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class BR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Fd(r,t){return r.useProto3Json||$c(t)?t:{value:t}}function zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qR(r,t){return zc(r,t.toTimestamp())}function si(r){return jt(!!r,49232),Et.fromTimestamp(function(n){const s=Dr(n);return new Se(s.seconds,s.nanos)}(r))}function wm(r,t){return Qd(r,t).canonicalString()}function Qd(r,t){const n=function(l){return new Wt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function RE(r){const t=Wt.fromString(r);return jt(NE(t),10190,{key:t.toString()}),t}function Kd(r,t){return wm(r.databaseId,t.path)}function bd(r,t){const n=RE(t);if(n.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ht(CE(n))}function IE(r,t){return wm(r.databaseId,t)}function jR(r){const t=RE(r);return t.length===4?Wt.emptyPath():CE(t)}function Yd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CE(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,t,n){return{name:Kd(r,t),fields:n.value.mapValue.fields}}function HR(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const A=_.code===void 0?X.UNKNOWN:AE(_.code);return new at(A,_.message||"")}(d);n=new bE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=bd(r,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Et.min(),g=new In({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];n=new Sc(_,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=bd(r,s.document),c=s.readTime?si(s.readTime):Et.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Sc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=bd(r,s.document),c=s.removedTargetIds||[];n=new Sc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new MR(l,c),g=s.targetId;n=new SE(g,d)}}return n}function GR(r,t){let n;if(t instanceof Pl)n={update:yv(r,t.key,t.value)};else if(t instanceof TE)n={delete:Kd(r,t.key)};else if(t instanceof Os)n={update:yv(r,t.key,t.data),updateMask:WR(t.fieldMask)};else{if(!(t instanceof OR))return gt(16599,{ft:t.type});n={verify:Kd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Rl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Lc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw gt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:qR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)}(r,t.precondition)),n}function FR(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?si(l.updateTime):si(c);return d.isEqual(Et.min())&&(d=si(c)),new IR(d,l.transformResults||[])}(n,t))):[]}function QR(r,t){return{documents:[IE(r,t.path)]}}function KR(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=IE(r,l);const c=function(_){if(_.length!==0)return OE(Ln.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(A=>function(w){return{field:Ia(w.field),direction:$R(w.dir)}}(A))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Fd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{gt:n,parent:l}}function YR(r){let t=jR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){jt(s===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];n.where&&(c=function(R){const w=DE(R);return w instanceof Ln&&rE(w)?w.getFilters():[w]}(n.where));let d=[];n.orderBy&&(d=function(R){return R.map(w=>function(q){return new wl(Ca(q.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(R){let w;return w=typeof R=="object"?R.value:R,$c(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(R){const w=!!R.before,j=R.values||[];return new Uc(j,w)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const w=!R.before,j=R.values||[];return new Uc(j,w)}(n.endAt)),dR(t,l,d,c,g,"F",p,_)}function XR(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function DE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ca(n.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ca(n.unaryFilter.field);return ye.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ca(n.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ca(n.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(n){return ye.create(Ca(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(s=>DE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(n.compositeFilter.op))}(r):gt(30097,{filter:r})}function $R(r){return UR[r]}function ZR(r){return LR[r]}function JR(r){return zR[r]}function Ia(r){return{fieldPath:r.canonicalString()}}function Ca(r){return ze.fromServerFormat(r.fieldPath)}function OE(r){return r instanceof ye?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:Ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(n.field),op:ZR(n.op),value:n.value}}}(r):r instanceof Ln?function(n){const s=n.getFilters().map(l=>OE(l));return s.length===1?s[0]:{compositeFilter:{op:JR(n.op),filters:s}}}(r):gt(54877,{filter:r})}function WR(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function NE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,n,s,l,c=Et.min(),d=Et.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.wt=t}}function eI(r){const t=YR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Cn=new iI}addToCollectionParentIndex(t,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Cr.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class iI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new be(Wt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(VE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ba(0)}static lr(){return new Ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",rI=1048576;function Ev([r,t],[n,s]){const l=Rt(r,n);return l===0?Rt(t,s):l}class sI{constructor(t){this.Er=t,this.buffer=new be(Ev),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ev(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){it(vv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ka(n)?it(vv,"Ignoring IndexedDB error during garbage collection: ",n):await Qa(n)}await this.mr(3e5)})}}class oI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(Xc.le);const s=new sI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(_v)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,g,p,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l))).next(R=>(s=R,g=Date.now(),this.removeTargets(t,s,n))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(_=Date.now(),wa()<=Vt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R})))}}function lI(r,t){return new oI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.changes=new Ds(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&yl(s.mutation,l,kn.empty(),Se.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const l=vs();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=ul();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=vs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=qi();const d=pl(),g=function(){return pl()}();return n.forEach((p,_)=>{const A=s.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Os)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),yl(A.mutation,_,A.mutation.getFieldMask(),Se.now())):d.set(_.key,kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,A)=>d.set(_,A)),n.forEach((_,A)=>{var R;return g.set(_,new cI(A,(R=d.get(_))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(t,n){const s=pl();let l=new ie((d,g)=>d-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let A=s.get(p)||kn.empty();A=g.applyToLocalView(_,A),s.set(p,A);const R=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,R)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,A=p.value,R=dE();A.forEach(w=>{if(!c.has(w)){const j=vE(n.get(w),s.get(w));j!==null&&R.set(w,j),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,R))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):lE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(vs());let g=Tl,p=c;return d.next(_=>Y.forEach(_,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next(w=>{p=p.insert(A,w)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,Mt())).next(A=>({batchId:g,changes:fE(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next(s=>{let l=ul();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=ul();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,p=>{const _=function(R,w){return new Ya(w,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(A=>{A.forEach((R,w)=>{d=d.insert(R,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=ul();return d.forEach((p,_)=>{const A=c.get(p);A!==void 0&&yl(A.mutation,_,kn.empty(),Se.now()),Wc(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return Y.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:eI(l.bundledQuery),readTime:si(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.overlays=new ie(ht.comparator),this.Qr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=vs();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=vs(),c=n.length+1,d=new ht(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let A=c.get(_.largestBatchId);A===null&&(A=vs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=l)););return Y.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new VR(n,s));let c=this.Qr.get(n);c===void 0&&(c=Mt(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.$r=new be(Ne.Ur),this.Kr=new be(Ne.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ne(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ne(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new ht(new Wt([])),s=new Ne(n,t),l=new Ne(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new ht(new Wt([])),s=new Ne(n,t),l=new Ne(n,t+1);let c=Mt();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Ne(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return ht.comparator(t.key,n.key)||Rt(t.Zr,n.Zr)}static Wr(t,n){return Rt(t.Zr,n.Zr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new be(Ne.Ur)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new NR(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,n){return Y.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?pm:this.nr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ne(n,0),l=new Ne(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new be(Rt);return n.forEach(l=>{const c=new Ne(l,0),d=new Ne(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),Y.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ht(c),0);let g=new be(Rt);return this.Xr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Zr)),!0)},d),Y.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){jt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return Y.forEach(n.mutations,l=>{const c=new Ne(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ne(n,0),l=this.Xr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.ii=t,this.docs=function(){return new ie(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=qi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=qi();const d=n.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:A}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Fw(Gw(A),s)<=0||(l.has(A.key)||Wc(n,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}si(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new yI(this)}getSize(t){return Y.resolve(this.size)}}class yI extends uI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.persistence=t,this.oi=new Ds(n=>vm(n),Em),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this._i=0,this.ai=new Rm,this.targetCount=0,this.ui=Ba.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),Y.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Ba(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Tr(n),Y.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n){this.ci={},this.overlays={},this.li=new Xc(0),this.hi=!1,this.hi=!0,this.Pi=new mI,this.referenceDelegate=t(this),this.Ti=new _I(this),this.indexManager=new nI,this.remoteDocumentCache=function(l){return new pI(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new tI(n),this.Ei=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new dI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new gI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const l=new vI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return Y.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class vI extends Kw{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Vi=new Rm,this.mi=null}static fi(t){return new Im(t)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.gi,s=>{const l=ht.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Et.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return Y.or([()=>Y.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Bc{constructor(t,n){this.persistence=t,this.yi=new Ds(s=>$w(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=lI(this,n)}static fi(t,n){return new Bc(t,n)}di(){}Ai(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return Y.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),Y.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ec(t.data.value)),n}Dr(t,n,s){return Y.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gS()?8:Yw(Ke())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new EI;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,d,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(wa()<=Vt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Y.resolve()):(wa()<=Vt.DEBUG&&it("QueryEngine","Query:",Ra(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(wa()<=Vt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(n))):Y.resolve())}ws(t,n){if(lv(n))return Y.resolve(null);let s=ri(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Gd(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Mt(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.vs(n,g);return this.Cs(n,_,d,p.readTime)?this.ws(t,Gd(n,null,"F")):this.Fs(t,_,n,p)}))})))}bs(t,n,s,l){return lv(n)||l.isEqual(Et.min())?Y.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?Y.resolve(null):(wa()<=Vt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ra(n)),this.Fs(t,d,n,Hw(l,Tl)).next(g=>g))})}vs(t,n){let s=new be(cE(t));return n.forEach((l,c)=>{Wc(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return wa()<=Vt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.ys.getDocumentsMatchingQuery(t,n,Cr.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="LocalStore",AI=3e8;class SI{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new ie(Rt),this.Os=new Ds(c=>vm(c),Em),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function bI(r,t,n,s){return new SI(r,t,n,s)}async function xE(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:g}))})})}function wI(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,_,A){const R=_.batch,w=R.keys();let j=Y.resolve();return w.forEach(q=>{j=j.next(()=>A.getEntry(p,q)).next(W=>{const Z=_.docVersions.get(q);jt(Z!==null,48541),W.version.compareTo(Z)<0&&(R.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,R))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function PE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function RI(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((A,R)=>{const w=l.get(R);if(!w)return;g.push(n.Ti.removeMatchingKeys(c,A.removedDocuments,R).next(()=>n.Ti.addMatchingKeys(c,A.addedDocuments,R)));let j=w.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,s)),l=l.insert(R,j),function(W,Z,rt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=AI?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(w,j,A)&&g.push(n.Ti.updateTargetData(c,j))});let p=qi(),_=Mt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(II(c,d,t.documentUpdates).next(A=>{p=A.qs,_=A.Qs})),!s.isEqual(Et.min())){const A=n.Ti.getLastRemoteSnapshotVersion(c).next(R=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.xs=l,c))}function II(r,t,n){let s=Mt(),l=Mt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=qi();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(Dm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{qs:d,Qs:l}})}function CI(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function DI(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new Ar(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Xd(r,t,n){const s=Tt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Ka(d))throw d;it(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function Tv(r,t,n){const s=Tt(r);let l=Et.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,A){const R=Tt(p),w=R.Os.get(A);return w!==void 0?Y.resolve(R.xs.get(w)):R.Ti.getTargetData(_,A)}(s,d,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?c:Mt())).next(g=>(OI(s,gR(t),g),{documents:g,$s:c})))}function OI(r,t,n){let s=r.Ns.get(t)||Et.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Av{constructor(){this.activeTargetIds=TR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class NI{constructor(){this.xo=new Av,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Av,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class bv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){it(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function $d(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===Pc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=$d(),g=this.jo(t,n.toUriEncodedString());it(wd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,l,c);const{host:_}=new URL(g),A=Dl(_);return this.Jo(t,g,p,s,A).then(R=>(it(wd,`Received RPC '${t}' ${d}: `,R),R),R=>{throw ka(wd,`RPC '${t}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=MI[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class kI extends xI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=$d();return new Promise((g,p)=>{const _=new U0;_.setWithCredentials(!0),_.listenOnce(L0.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case vc.NO_ERROR:const R=_.getResponseJson();it(Ge,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),g(R);break;case vc.TIMEOUT:it(Ge,`RPC '${t}' ${d} timed out`),p(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const w=_.getStatus();if(it(Ge,`RPC '${t}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const q=j==null?void 0:j.error;if(q&&q.status&&q.message){const W=function(rt){const ot=rt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ot)>=0?ot:X.UNKNOWN}(q.status);p(new at(W,q.message))}else p(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new at(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{h_:t,streamId:d,P_:_.getLastErrorCode(),T_:_.getLastError()})}}finally{it(Ge,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);it(Ge,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",A,s,15)})}I_(t,n,s){const l=$d(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=q0(),g=B0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const R=d.createWebChannel(A,p);this.E_(R);let w=!1,j=!1;const q=new PI({Zo:Z=>{j?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),R.open(),w=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Xo:()=>R.close()}),W=(Z,rt,ot)=>{Z.listen(rt,ut=>{try{ot(ut)}catch(bt){setTimeout(()=>{throw bt},0)}})};return W(R,ll.EventType.OPEN,()=>{j||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),q.__())}),W(R,ll.EventType.CLOSE,()=>{j||(j=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),q.u_(),this.d_(R))}),W(R,ll.EventType.ERROR,Z=>{j||(j=!0,ka(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),q.u_(new at(X.UNAVAILABLE,"The operation could not be completed")))}),W(R,ll.EventType.MESSAGE,Z=>{var rt;if(!j){const ot=Z.data[0];jt(!!ot,16349);const ut=ot,bt=(ut==null?void 0:ut.error)||((rt=ut[0])===null||rt===void 0?void 0:rt.error);if(bt){it(Ge,`RPC '${t}' stream ${l} received error:`,bt);const pt=bt.status;let Dt=function(I){const N=pe[I];if(N!==void 0)return AE(N)}(pt),V=bt.message;Dt===void 0&&(Dt=X.INTERNAL,V="Unknown error status: "+pt+" with message "+bt.message),j=!0,q.u_(new at(Dt,V)),R.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,ot),q.c_(ot)}}),W(g,z0.STAT_EVENT,Z=>{Z.stat===Ud.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Ud.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return new BR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class UE{constructor(t,n,s,l,c,d,g,p){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new kE(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return it(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(it(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UI extends UE{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=HR(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?si(d.readTime):Et.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Yd(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=jd(p)?{documents:QR(c,p)}:{query:KR(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wE(c,d.resumeToken);const _=Fd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=zc(c,d.snapshotVersion.toTimestamp());const _=Fd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=XR(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Yd(this.serializer),n.removeTarget=t,this.Q_(n)}}class LI extends UE{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=FR(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Yd(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>GR(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{}class BI extends zI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,Qd(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,Qd(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class qI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Bi(n),this.ua=!1):it("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class jI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{Ns(this)&&(it(Is,"Restarting streams for network reachability change."),await async function(p){const _=Tt(p);_.da.add(4),await Ul(_),_.Va.set("Unknown"),_.da.delete(4),await rh(_)}(this))})}),this.Va=new qI(s,l)}}async function rh(r){if(Ns(r))for(const t of r.Aa)await t(!0)}async function Ul(r){for(const t of r.Aa)await t(!1)}function LE(r,t){const n=Tt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Mm(n)?Vm(n):Xa(n).N_()&&Nm(n,t))}function Om(r,t){const n=Tt(r),s=Xa(n);n.Ea.delete(t),s.N_()&&zE(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ns(n)&&n.Va.set("Unknown"))}function Nm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xa(r).Z_(t)}function zE(r,t){r.ma.Ke(t),Xa(r).X_(t)}function Vm(r){r.ma=new kR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Xa(r).start(),r.Va.ca()}function Mm(r){return Ns(r)&&!Xa(r).O_()&&r.Ea.size>0}function Ns(r){return Tt(r).da.size===0}function BE(r){r.ma=void 0}async function HI(r){r.Va.set("Online")}async function GI(r){r.Ea.forEach((t,n)=>{Nm(r,t)})}async function FI(r,t){BE(r),Mm(r)?(r.Va.Pa(t),Vm(r)):r.Va.set("Unknown")}async function QI(r,t,n){if(r.Va.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){it(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await qc(r,s)}else if(t instanceof Sc?r.ma.Xe(t):t instanceof SE?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Et.min()))try{const s=await PE(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ma.It(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.Ea.get(_);A&&c.Ea.set(_,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const A=c.Ea.get(p);if(!A)return;c.Ea.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),zE(c,p);const R=new Ar(A.target,p,_,A.sequenceNumber);Nm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Is,"Failed to raise snapshot:",s),await qc(r,s)}}async function qc(r,t,n){if(!Ka(t))throw t;r.da.add(1),await Ul(r),r.Va.set("Offline"),n||(n=()=>PE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Is,"Retrying IndexedDB access"),await n(),r.da.delete(1),await rh(r)})}function qE(r,t){return t().catch(n=>qc(r,n,t))}async function sh(r){const t=Tt(r),n=Vr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:pm;for(;KI(t);)try{const l=await CI(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,YI(t,l)}catch(l){await qc(t,l)}jE(t)&&HE(t)}function KI(r){return Ns(r)&&r.Ia.length<10}function YI(r,t){r.Ia.push(t);const n=Vr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function jE(r){return Ns(r)&&!Vr(r).O_()&&r.Ia.length>0}function HE(r){Vr(r).start()}async function XI(r){Vr(r).ia()}async function $I(r){const t=Vr(r);for(const n of r.Ia)t.ta(n.mutations)}async function ZI(r,t,n){const s=r.Ia.shift(),l=Sm.from(s,t,n);await qE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await sh(r)}async function JI(r,t){t&&Vr(r).ea&&await async function(s,l){if(function(d){return xR(d)&&d!==X.ABORTED}(l.code)){const c=s.Ia.shift();Vr(s).L_(),await qE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await sh(s)}}(r,t),jE(r)&&HE(r)}async function Rv(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),it(Is,"RemoteStore received new credentials");const s=Ns(n);n.da.add(3),await Ul(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await rh(n)}async function WI(r,t){const n=Tt(r);t?(n.da.delete(2),await rh(n)):t||(n.da.add(2),await Ul(n),n.Va.set("Unknown"))}function Xa(r){return r.fa||(r.fa=function(n,s,l){const c=Tt(n);return c.oa(),new UI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:HI.bind(null,r),n_:GI.bind(null,r),i_:FI.bind(null,r),Y_:QI.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Mm(r)?Vm(r):r.Va.set("Unknown")):(await r.fa.stop(),BE(r))})),r.fa}function Vr(r){return r.ga||(r.ga=function(n,s,l){const c=Tt(n);return c.oa(),new LI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:XI.bind(null,r),i_:JI.bind(null,r),na:$I.bind(null,r),ra:ZI.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await sh(r)):(await r.ga.stop(),r.Ia.length>0&&(it(Is,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new xm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(r,t){if(Bi("AsyncQueue",`${t}: ${r}`),Ka(r))return new at(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(t){return new Ma(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ht.comparator(n.key,s.key):(n,s)=>ht.comparator(n.key,s.key),this.keyedMap=ul(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ma)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ma;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.pa=new ie(ht.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class qa{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new qa(t,n,Ma.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class e2{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Tt(n),c=l.queries;l.queries=Cv(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new at(X.ABORTED,"Firestore shutting down"))}}function Cv(){return new Ds(r=>uE(r),Jc)}async function n2(r,t){const n=Tt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new t2,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Pm(d,`Initialization of query '${Ra(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&km(n)}async function i2(r,t){const n=Tt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r2(r,t){const n=Tt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&km(n)}function s2(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function km(r){r.Ca.forEach(t=>{t.next()})}var Zd,Dv;(Dv=Zd||(Zd={})).xa="default",Dv.Cache="cache";class a2{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new qa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class o2{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.Za=cE(t),this.Xa=new Ma(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Iv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,R)=>{const w=l.get(A),j=Wc(this.query,R)?R:null,q=!!w&&this.mutatedKeys.has(w.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;w&&j?w.data.isEqual(j.data)?q!==W&&(s.track({type:3,doc:j}),Z=!0):this.ru(w,j)||(s.track({type:2,doc:j}),Z=!0,(p&&this.Za(j,p)>0||_&&this.Za(j,_)<0)&&(g=!0)):!w&&j?(s.track({type:0,doc:j}),Z=!0):w&&!j&&(s.track({type:1,doc:w}),Z=!0,(p||_)&&(g=!0)),Z&&(j?(d=d.add(j),c=W?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((A,R)=>function(j,q){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:Z})}};return W(j)-W(q)}(A.type,R.type)||this.Za(A.doc,R.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],p=this.Ya.size===0&&this.current&&!l?1:0,_=p!==this.Ja;return this.Ja=p,d.length!==0||_?{snapshot:new qa(this.query,t.Xa,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new FE(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new GE(s))}),n}au(t){this.Ha=t.$s,this.Ya=Mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Um="SyncEngine";class l2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class u2{constructor(t){this.key=t,this.cu=!1}}class c2{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Ds(g=>uE(g),Jc),this.Pu=new Map,this.Tu=new Set,this.Iu=new ie(ht.comparator),this.Eu=new Map,this.du=new Rm,this.Au={},this.Ru=new Map,this.Vu=Ba.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function h2(r,t,n=!0){const s=ZE(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await QE(s,t,n,!0),l}async function f2(r,t){const n=ZE(r);await QE(n,t,!0,!1)}async function QE(r,t,n,s){const l=await DI(r.localStore,ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await d2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&LE(r.remoteStore,l),g}async function d2(r,t,n,s,l){r.fu=(R,w,j)=>async function(W,Z,rt,ot){let ut=Z.view.tu(rt);ut.Cs&&(ut=await Tv(W.localStore,Z.query,!1).then(({documents:V})=>Z.view.tu(V,ut)));const bt=ot&&ot.targetChanges.get(Z.targetId),pt=ot&&ot.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(ut,W.isPrimaryClient,bt,pt);return Nv(W,Z.targetId,Dt.ou),Dt.snapshot}(r,R,w,j);const c=await Tv(r.localStore,t,!0),d=new o2(t,c.$s),g=d.tu(c.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Nv(r,n,_.ou);const A=new l2(t,n,d);return r.hu.set(t,A),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),_.snapshot}async function m2(r,t,n){const s=Tt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!Jc(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Xd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Om(s.remoteStore,l.targetId),Jd(s,l.targetId)}).catch(Qa)):(Jd(s,l.targetId),await Xd(s.localStore,l.targetId,!0))}async function g2(r,t){const n=Tt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Om(n.remoteStore,s.targetId))}async function p2(r,t,n){const s=S2(r);try{const l=await function(d,g){const p=Tt(d),_=Se.now(),A=g.reduce((j,q)=>j.add(q.key),Mt());let R,w;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let q=qi(),W=Mt();return p.Bs.getEntries(j,A).next(Z=>{q=Z,q.forEach((rt,ot)=>{ot.isValidDocument()||(W=W.add(rt))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,q)).next(Z=>{R=Z;const rt=[];for(const ot of g){const ut=DR(ot,R.get(ot.key).overlayedDocument);ut!=null&&rt.push(new Os(ot.key,ut,eE(ut.value.mapValue),Ui.exists(!0)))}return p.mutationQueue.addMutationBatch(j,_,rt,g)}).next(Z=>{w=Z;const rt=Z.applyToLocalDocumentSet(R,W);return p.documentOverlayCache.saveOverlays(j,Z.batchId,rt)})}).then(()=>({batchId:w.batchId,changes:fE(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Au[d.currentUser.toKey()];_||(_=new ie(Rt)),_=_.insert(g,p),d.Au[d.currentUser.toKey()]=_}(s,l.batchId,n),await Ll(s,l.changes),await sh(s.remoteStore)}catch(l){const c=Pm(l,"Failed to persist write");n.reject(c)}}async function KE(r,t){const n=Tt(r);try{const s=await RI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?jt(d.cu,14607):l.removedDocuments.size>0&&(jt(d.cu,42227),d.cu=!1))}),await Ll(n,s,t)}catch(s){await Qa(s)}}function Ov(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const g=d.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Tt(d);p.onlineState=g;let _=!1;p.queries.forEach((A,R)=>{for(const w of R.Sa)w.Fa(g)&&(_=!0)}),_&&km(p)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function y2(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new ie(ht.comparator);d=d.insert(c,Qe.newNoDocument(c,Et.min()));const g=Mt().add(c),p=new nh(Et.min(),new Map,new ie(Rt),d,g);await KE(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Lm(s)}else await Xd(s.localStore,t,!1).then(()=>Jd(s,t,n)).catch(Qa)}async function _2(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await wI(n.localStore,t);XE(n,s,null),YE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ll(n,l)}catch(l){await Qa(l)}}async function v2(r,t,n){const s=Tt(r);try{const l=await function(d,g){const p=Tt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return p.mutationQueue.lookupMutationBatch(_,g).next(R=>(jt(R!==null,37113),A=R.keys(),p.mutationQueue.removeMutationBatch(_,R))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>p.localDocuments.getDocuments(_,A))})}(s.localStore,t);XE(s,t,n),YE(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ll(s,l)}catch(l){await Qa(l)}}function YE(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function XE(r,t,n){const s=Tt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Jd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||$E(r,s)})}function $E(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(Om(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Lm(r))}function Nv(r,t,n){for(const s of n)s instanceof GE?(r.du.addReference(s.key,t),E2(r,s)):s instanceof FE?(it(Um,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||$E(r,s.key)):gt(19791,{pu:s})}function E2(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(it(Um,"New document in limbo: "+n),r.Tu.add(s),Lm(r))}function Lm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new ht(Wt.fromString(t)),s=r.Vu.next();r.Eu.set(s,new u2(n)),r.Iu=r.Iu.insert(n,s),LE(r.remoteStore,new Ar(ri(Tm(n.path)),s,"TargetPurposeLimboResolution",Xc.le))}}async function Ll(r,t,n){const s=Tt(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{d.push(s.fu(p,t,n).then(_=>{var A;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){l.push(_);const R=Cm.Rs(p.targetId,_);c.push(R)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(p,_){const A=Tt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Y.forEach(_,w=>Y.forEach(w.ds,j=>A.persistence.referenceDelegate.addReference(R,w.targetId,j)).next(()=>Y.forEach(w.As,j=>A.persistence.referenceDelegate.removeReference(R,w.targetId,j)))))}catch(R){if(!Ka(R))throw R;it(Dm,"Failed to update sequence numbers: "+R)}for(const R of _){const w=R.targetId;if(!R.fromCache){const j=A.xs.get(w),q=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(q);A.xs=A.xs.insert(w,W)}}}(s.localStore,c))}async function T2(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){it(Um,"User change. New user:",t.toKey());const s=await xE(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(g=>{g.forEach(p=>{p.reject(new at(X.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ll(n,s.ks)}}function A2(r,t){const n=Tt(r),s=n.Eu.get(t);if(s&&s.cu)return Mt().add(s.key);{let l=Mt();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function ZE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y2.bind(null,t),t.lu.Y_=r2.bind(null,t.eventManager),t.lu.gu=s2.bind(null,t.eventManager),t}function S2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v2.bind(null,t),t}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return bI(this.persistence,new TI,t.initialUser,this.serializer)}Su(t){return new ME(Im.fi,this.serializer)}bu(t){return new NI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class b2 extends jc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){jt(this.persistence.referenceDelegate instanceof Bc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aI(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new ME(s=>Bc.fi(s,n),this.serializer)}}class Wd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T2.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new e2}()}createDatastore(t){const n=ih(t.databaseInfo.databaseId),s=function(c){return new kI(c)}(t.databaseInfo);return function(c,d,g,p){return new BI(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new jI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Ov(this.syncEngine,n,0),function(){return bv.C()?new bv:new VI}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,A){const R=new c2(l,c,d,g,p,_);return A&&(R.mu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Tt(l);it(Is,"RemoteStore shutting down."),c.da.add(5),await Ul(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wd.provider={build:()=>new Wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class R2{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=F0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Id(r,t){r.asyncQueue.verifyOperationInProgress(),it(Mr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await xE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await I2(r);it(Mr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Rv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Rv(t.remoteStore,l)),r._onlineComponents=t}async function I2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Mr,"Using user provided OfflineComponentProvider");try{await Id(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Id(r,new jc)}}else it(Mr,"Using default OfflineComponentProvider"),await Id(r,new b2(void 0));return r._offlineComponents}async function JE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Mr,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(it(Mr,"Using default OnlineComponentProvider"),await Vv(r,new Wd))),r._onlineComponents}function C2(r){return JE(r).then(t=>t.syncEngine)}async function Mv(r){const t=await JE(r),n=t.eventManager;return n.onListen=h2.bind(null,t.syncEngine),n.onUnlisten=m2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=f2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=g2.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(r,t,n){if(!n)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function D2(r,t,n,s){if(t===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Pv(r){if(!ht.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(ht.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function _l(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",Uv=!0;class Lv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=Uv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rI)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}D2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xw;switch(s.type){case"firstParty":return new Lw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xv.get(n);s&&(it("ComponentProvider","Removing Datastore"),xv.delete(n),s.terminate())}(this),Promise.resolve()}}function O2(r,t,n,s={}){var l;r=_l(r,oh);const c=Dl(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;c&&(Jv(`https://${p}`),Wv("Firestore",!0)),d.host!==eT&&d.host!==p&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!Ss(_,g)&&(r._setSettings(_),s.mockUserToken)){let A,R;if(typeof s.mockUserToken=="string")A=s.mockUserToken,R=Fe.MOCK_USER;else{A=aS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Fe(w)}r._authCredentials=new Pw(new H0(A,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Vs(this.firestore,t,this._query)}}class fn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}}class Ir extends Vs{constructor(t,n,s){super(t,n,Tm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new ht(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function N2(r,t,...n){if(r=dn(r),tT("collection","path",t),r instanceof oh){const s=Wt.fromString(t,...n);return kv(s),new Ir(r,null,s)}{if(!(r instanceof fn||r instanceof Ir))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return kv(s),new Ir(r.firestore,null,s)}}function V2(r,t,...n){if(r=dn(r),arguments.length===1&&(t=F0.newId()),tT("doc","path",t),r instanceof oh){const s=Wt.fromString(t,...n);return Pv(s),new fn(r,null,new ht(s))}{if(!(r instanceof fn||r instanceof Ir))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...n));return Pv(s),new fn(r.firestore,r instanceof Ir?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="AsyncQueue";class Bv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new kE(this,"async_queue_retry"),this.rc=()=>{const s=Rd();s&&it(zv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new As;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!Ka(t))throw t;it(zv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Bi("INTERNAL UNHANDLED ERROR: ",qv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=xm.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&gt(47125,{cc:qv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function qv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Hc extends oh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Bv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bv(t),this._firestoreClient=void 0,await t}}}function M2(r,t){const n=typeof r=="object"?r:i0(),s=typeof r=="string"?r:Pc,l=im(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=rS("firestore");c&&O2(l,...c)}return l}function nT(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||x2(r),r._firestoreClient}function x2(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,_,A){return new Ww(g,p,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,WE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new R2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ja(Be.fromBase64String(t))}catch(n){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ja(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^__.*__$/;class k2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Os(t,this.data,this.fieldMask,n,this.fieldTransforms):new Pl(t,this.data,n,this.fieldTransforms)}}function iT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ic:r})}}class Hm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Gc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(iT(this.Ic)&&P2.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class U2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ih(t)}bc(t,n,s,l=!1){return new Hm({Ic:t,methodName:n,wc:s,path:ze.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rT(r){const t=r._freezeSettings(),n=ih(r._databaseId);return new U2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function L2(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);oT("Data must be an object, but it was:",d,s);const g=sT(s,d);let p,_;if(c.merge)p=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const w=B2(t,R,n);if(!d.contains(w))throw new at(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);j2(A,w)||A.push(w)}p=new kn(A),_=d.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,_=d.fieldTransforms;return new k2(new In(g),p,_)}class Gm extends Bm{_toFieldTransform(t){return new wR(t.path,new Rl)}isEqual(t){return t instanceof Gm}}function z2(r,t,n,s=!1){return Fm(n,r.bc(s?4:3,t))}function Fm(r,t){if(aT(r=dn(r)))return oT("Unsupported field value:",t,r),sT(r,t);if(r instanceof Bm)return function(s,l){if(!iT(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=Fm(g,l.fc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:zc(l.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zc(l.serializer,c)}}if(s instanceof qm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ja)return{bytesValue:wE(l.serializer,s._byteString)};if(s instanceof fn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:wm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof jm)return function(d,g){return{mapValue:{fields:{[W0]:{stringValue:tE},[kc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.gc("VectorValues must only contain numeric values.");return Am(g.serializer,_)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${ah(s)}`)}(r,t)}function sT(r,t){const n={};return K0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(r,(s,l)=>{const c=Fm(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function aT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof qm||r instanceof ja||r instanceof fn||r instanceof Bm||r instanceof jm)}function oT(r,t,n){if(!aT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=ah(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function B2(r,t,n){if((t=dn(t))instanceof zm)return t._internalPath;if(typeof t=="string")return lT(r,t);throw Gc("Field path arguments must be of type string or ",r,!1,void 0,n)}const q2=new RegExp("[~\\*/\\[\\]]");function lT(r,t,n){if(t.search(q2)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gc(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new at(X.INVALID_ARGUMENT,g+r+p)}function j2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new H2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H2 extends uT{data(){return super.data()}}function lh(r,t){return typeof t=="string"?lT(r,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qm{}class cT extends Qm{}function F2(r,t,...n){let s=[];t instanceof Qm&&s.push(t),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof Km).length,g=c.filter(p=>p instanceof uh).length;if(d>1||d>0&&g>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class uh extends cT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new uh(t,n,s)}_apply(t){const n=this._parse(t);return hT(t._query,n),new Vs(t.firestore,t.converter,Hd(t._query,n))}_parse(t){const n=rT(t.firestore);return function(c,d,g,p,_,A,R){let w;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Gv(R,A);const q=[];for(const W of R)q.push(Hv(p,c,W));w={arrayValue:{values:q}}}else w=Hv(p,c,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Gv(R,A),w=z2(g,d,R,A==="in"||A==="not-in");return ye.create(_,A,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Q2(r,t,n){const s=t,l=lh("where",r);return uh._create(l,s,n)}class Km extends Qm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Km(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)hT(d,p),d=Hd(d,p)}(t._query,n),new Vs(t.firestore,t.converter,Hd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ym extends cT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ym(t,n)}_apply(t){const n=function(l,c,d){if(l.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wl(c,d)}(t._query,this._field,this._direction);return new Vs(t.firestore,t.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ya(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function K2(r,t="asc"){const n=t,s=lh("orderBy",r);return Ym._create(s,n)}function Hv(r,t,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lE(t)&&n.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Wt.fromString(n));if(!ht.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(r,new ht(s))}if(n instanceof fn)return nv(r,n._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function Gv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function hT(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Y2{convertValue(t,n="none"){switch(Nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Cs(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[kc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new jm(c)}convertGeoPoint(t){return new qm(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Zc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=Dr(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Wt.fromString(t);jt(NE(s),9688,{name:t});const l=new Sl(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(n)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fT extends uT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(lh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class bc extends fT{data(t={}){return super.data(t)}}class $2{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new hl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new bc(this._firestore,this._userDataWriter,s.key,s,new hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new bc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new hl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Z2(g.type),doc:p,oldIndex:_,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}class dT extends Y2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ja(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function J2(r,t){const n=_l(r.firestore,Hc),s=V2(r),l=X2(r.converter,t);return tC(n,[L2(rT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Ui.exists(!1))]).then(()=>s)}function W2(r,...t){var n,s,l;r=dn(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||jv(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(jv(t[d])){const R=t[d];t[d]=(n=R.next)===null||n===void 0?void 0:n.bind(R),t[d+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),t[d+2]=(l=R.complete)===null||l===void 0?void 0:l.bind(R)}let p,_,A;if(r instanceof fn)_=_l(r.firestore,Hc),A=Tm(r._key.path),p={next:R=>{t[d]&&t[d](eC(_,r,R))},error:t[d+1],complete:t[d+2]};else{const R=_l(r,Vs);_=_l(R.firestore,Hc),A=R._query;const w=new dT(_);p={next:j=>{t[d]&&t[d](new $2(_,w,R,j))},error:t[d+1],complete:t[d+2]},G2(r._query)}return function(w,j,q,W){const Z=new w2(W),rt=new a2(j,Z,q);return w.asyncQueue.enqueueAndForget(async()=>n2(await Mv(w),rt)),()=>{Z.xu(),w.asyncQueue.enqueueAndForget(async()=>i2(await Mv(w),rt))}}(nT(_),A,g,p)}function tC(r,t){return function(s,l){const c=new As;return s.asyncQueue.enqueueAndForget(async()=>p2(await C2(s),l,c)),c.promise}(nT(r),t)}function eC(r,t,n){const s=n.docs.get(t._key),l=new dT(r);return new fT(r,l,t._key,s,new hl(n.hasPendingWrites,n.fromCache),t.converter)}function nC(){return new Gm("serverTimestamp")}(function(t,n=!0){(function(l){Fa=l})(Ha),xa(new bs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Hc(new kw(s.getProvider("auth-internal")),new zw(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(_.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),wr(G_,F_,t),wr(G_,F_,"esm2017")})();const iC={apiKey:"AIzaSyDaUtX4YS_Kf2eLeEOVbsnLznwboFJPuSM",authDomain:"groupchat-bee44.firebaseapp.com",projectId:"groupchat-bee44",storageBucket:"groupchat-bee44.firebasestorage.app",messagingSenderId:"744096974749",appId:"1:744096974749:web:9113a92770759713f1d174",measurementId:"G-V8Y8EESXD8"},mT=n0(iC),Da=Ow(mT),rC=new xi,sC=M2(mT);var ol={},Fv;function aC(){if(Fv)return ol;Fv=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.parse=d,ol.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function d(w,j){const q=new c,W=w.length;if(W<2)return q;const Z=(j==null?void 0:j.decode)||A;let rt=0;do{const ot=w.indexOf("=",rt);if(ot===-1)break;const ut=w.indexOf(";",rt),bt=ut===-1?W:ut;if(ot>bt){rt=w.lastIndexOf(";",ot-1)+1;continue}const pt=g(w,rt,ot),Dt=p(w,ot,pt),V=w.slice(pt,Dt);if(q[V]===void 0){let S=g(w,ot+1,bt),I=p(w,bt,S);const N=Z(w.slice(S,I));q[V]=N}rt=bt+1}while(rt<W);return q}function g(w,j,q){do{const W=w.charCodeAt(j);if(W!==32&&W!==9)return j}while(++j<q);return q}function p(w,j,q){for(;j>q;){const W=w.charCodeAt(--j);if(W!==32&&W!==9)return j+1}return q}function _(w,j,q){const W=(q==null?void 0:q.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const Z=W(j);if(!t.test(Z))throw new TypeError(`argument val is invalid: ${j}`);let rt=w+"="+Z;if(!q)return rt;if(q.maxAge!==void 0){if(!Number.isInteger(q.maxAge))throw new TypeError(`option maxAge is invalid: ${q.maxAge}`);rt+="; Max-Age="+q.maxAge}if(q.domain){if(!n.test(q.domain))throw new TypeError(`option domain is invalid: ${q.domain}`);rt+="; Domain="+q.domain}if(q.path){if(!s.test(q.path))throw new TypeError(`option path is invalid: ${q.path}`);rt+="; Path="+q.path}if(q.expires){if(!R(q.expires)||!Number.isFinite(q.expires.valueOf()))throw new TypeError(`option expires is invalid: ${q.expires}`);rt+="; Expires="+q.expires.toUTCString()}if(q.httpOnly&&(rt+="; HttpOnly"),q.secure&&(rt+="; Secure"),q.partitioned&&(rt+="; Partitioned"),q.priority)switch(typeof q.priority=="string"?q.priority.toLowerCase():void 0){case"low":rt+="; Priority=Low";break;case"medium":rt+="; Priority=Medium";break;case"high":rt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${q.priority}`)}if(q.sameSite)switch(typeof q.sameSite=="string"?q.sameSite.toLowerCase():q.sameSite){case!0:case"strict":rt+="; SameSite=Strict";break;case"lax":rt+="; SameSite=Lax";break;case"none":rt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${q.sameSite}`)}return rt}function A(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function R(w){return l.call(w)==="[object Date]"}return ol}var wc=aC();function oC(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function lC(r){return typeof r=="string"?wc.parse(r):typeof r=="object"&&r!==null?r:{}}function Cd(r,t={}){const n=uC(r);if(!t.doNotParse)try{return JSON.parse(n)}catch{}return r}function uC(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class gT{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const l=this.cookies;this.cookies=wc.parse(document.cookie),this._checkChanges(l)};const s=typeof document>"u"?"":document.cookie;this.cookies=lC(t||s),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=oC()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(s=>{t[s]!==this.cookies[s]&&this._emitChange({name:s,value:Cd(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),Cd(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let s in this.cookies)n[s]=Cd(this.cookies[s],t);return n}set(t,n,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const l=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:l}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=wc.serialize(t,l,s)),this._emitChange({name:t,value:n,options:s})}remove(t,n){const s=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=wc.serialize(t,"",s)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}console.log("auth",Da);const cC=r=>{const{setIsAuth:t}=r,n=new gT,s=async()=>{try{const l=await zb(Da,rC);console.log("result",l);const{user:c}=l;n.set("auth-token",c.refreshToken),t(!0)}catch(l){console.error(l)}};return St.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100 bg-light",style:{background:"linear-gradient(135deg, #e0f7fa, #f1f8ff)"},children:St.jsxs("div",{className:"card shadow-lg border-0 rounded-4 p-4",style:{width:"100%",maxWidth:"400px"},children:[St.jsxs("div",{className:"text-center mb-4",children:[St.jsx("h1",{className:"fw-bold text-primary",children:"TechChat 聊天室"}),St.jsx("p",{className:"text-muted mb-0",children:"請使用 Google 快速登入"})]}),St.jsx("div",{className:"d-grid gap-3",children:St.jsxs("button",{className:"btn btn-outline-primary d-flex align-items-center justify-content-center gap-2 py-2",onClick:s,children:[St.jsx("div",{className:"bg-white rounded-circle p-1 d-flex align-items-center justify-content-center",style:{width:32,height:32},children:St.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[St.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),St.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),St.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),St.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),St.jsx("span",{className:"fw-semibold",children:"使用 Google 登入"})]})}),St.jsxs("div",{className:"text-center text-muted mt-4 small",children:["點擊登入即表示您同意我們的"," ",St.jsx("a",{href:"#",className:"text-decoration-none",children:"服務條款"})]})]})})};function hC(r){const{room:t}=r,[n,s]=Es.useState(""),l=N2(sC,"messages"),[c,d]=Es.useState([]);Es.useEffect(()=>{const p=F2(l,Q2("room","==",t),K2("createAt")),_=W2(p,A=>{const R=A.docs.map(w=>({...w.data(),id:w.id}));d(R)});return()=>_()},[t]);const g=async p=>{try{p.preventDefault(),await J2(l,{email:Da.currentUser.email,displayName:Da.currentUser.displayName,photoURL:Da.currentUser.photoURL,text:n,createAt:nC(),user:Da.currentUser.displayName,room:t}),s("")}catch(_){console.log(_)}};return St.jsx("div",{className:"container py-4",style:{maxWidth:"600px"},children:St.jsxs("div",{className:"card shadow-sm border-0",children:[St.jsx("div",{className:"card-header bg-primary text-white fw-bold text-center",children:"TechChat 聊天室"}),St.jsx("div",{className:"card-body",style:{height:"400px",overflowY:"auto"},children:c.map(p=>St.jsxs("div",{children:[St.jsxs("div",{className:"d-flex",children:[St.jsx("img",{src:p.photoURL,alt:"userPhotoUrl",width:40}),St.jsx("span",{children:p.user})]}),St.jsx("div",{children:p.text})]},p.id))}),St.jsx("div",{className:"card-footer",children:St.jsxs("form",{className:"d-flex gap-2",onSubmit:g,children:[St.jsx("input",{value:n,onChange:p=>s(p.target.value),type:"text",className:"form-control",placeholder:"輸入訊息"}),St.jsx("button",{className:"btn btn-primary",type:"submit",children:"發送"})]})})]})})}const fC=new gT;function dC(){const[r,t]=Es.useState(fC.get("auth-token")),[n,s]=Es.useState(null),[l,c]=Es.useState(null);return r?St.jsx(St.Fragment,{children:n?St.jsx(hC,{room:n}):St.jsxs("div",{className:"room",children:[St.jsx("label",{htmlFor:"",children:"聊天室號碼"}),St.jsx("input",{type:"text",onChange:d=>c(d.target.value)}),St.jsx("button",{onClick:()=>s(l),children:"輸入聊天室號碼"})]})}):St.jsx(St.Fragment,{children:St.jsx(cC,{setIsAuth:t})})}XA.createRoot(document.getElementById("root")).render(St.jsx(Es.StrictMode,{children:St.jsx(dC,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Dm={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function $b(){if(Oy)return Sc;Oy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Sc.Fragment=t,Sc.jsx=n,Sc.jsxs=n,Sc}var Dy;function Xb(){return Dy||(Dy=1,Dm.exports=$b()),Dm.exports}var vt=Xb(),Nm={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function Zb(){if(Ny)return Xt;Ny=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.iterator;function O(I){return I===null||typeof I!="object"?null:(I=N&&I[N]||I["@@iterator"],typeof I=="function"?I:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,tt={};function Z(I,at,mt){this.props=I,this.context=at,this.refs=tt,this.updater=mt||K}Z.prototype.isReactComponent={},Z.prototype.setState=function(I,at){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,at,"setState")},Z.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ut(){}ut.prototype=Z.prototype;function dt(I,at,mt){this.props=I,this.context=at,this.refs=tt,this.updater=mt||K}var Tt=dt.prototype=new ut;Tt.constructor=dt,G(Tt,Z.prototype),Tt.isPureReactComponent=!0;var zt=Array.isArray,Nt={H:null,A:null,T:null,S:null,V:null},Yt=Object.prototype.hasOwnProperty;function k(I,at,mt,ot,wt,Ft){return mt=Ft.ref,{$$typeof:r,type:I,key:at,ref:mt!==void 0?mt:null,props:Ft}}function C(I,at){return k(I.type,at,void 0,void 0,void 0,I.props)}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function P(I){var at={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(mt){return at[mt]})}var z=/\/+/g;function j(I,at){return typeof I=="object"&&I!==null&&I.key!=null?P(""+I.key):at.toString(36)}function x(){}function tn(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(x,x):(I.status="pending",I.then(function(at){I.status==="pending"&&(I.status="fulfilled",I.value=at)},function(at){I.status==="pending"&&(I.status="rejected",I.reason=at)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Ne(I,at,mt,ot,wt){var Ft=typeof I;(Ft==="undefined"||Ft==="boolean")&&(I=null);var St=!1;if(I===null)St=!0;else switch(Ft){case"bigint":case"string":case"number":St=!0;break;case"object":switch(I.$$typeof){case r:case t:St=!0;break;case w:return St=I._init,Ne(St(I._payload),at,mt,ot,wt)}}if(St)return wt=wt(I),St=ot===""?"."+j(I,0):ot,zt(wt)?(mt="",St!=null&&(mt=St.replace(z,"$&/")+"/"),Ne(wt,at,mt,"",function(ti){return ti})):wt!=null&&(M(wt)&&(wt=C(wt,mt+(wt.key==null||I&&I.key===wt.key?"":(""+wt.key).replace(z,"$&/")+"/")+St)),at.push(wt)),1;St=0;var je=ot===""?".":ot+":";if(zt(I))for(var ft=0;ft<I.length;ft++)ot=I[ft],Ft=je+j(ot,ft),St+=Ne(ot,at,mt,Ft,wt);else if(ft=O(I),typeof ft=="function")for(I=ft.call(I),ft=0;!(ot=I.next()).done;)ot=ot.value,Ft=je+j(ot,ft++),St+=Ne(ot,at,mt,Ft,wt);else if(Ft==="object"){if(typeof I.then=="function")return Ne(tn(I),at,mt,ot,wt);throw at=String(I),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(I,at,mt){if(I==null)return I;var ot=[],wt=0;return Ne(I,ot,"","",function(Ft){return at.call(mt,Ft,wt++)}),ot}function ht(I){if(I._status===-1){var at=I._result;at=at(),at.then(function(mt){(I._status===0||I._status===-1)&&(I._status=1,I._result=mt)},function(mt){(I._status===0||I._status===-1)&&(I._status=2,I._result=mt)}),I._status===-1&&(I._status=0,I._result=at)}if(I._status===1)return I._result.default;throw I._result}var Rt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ue(){}return Xt.Children={map:W,forEach:function(I,at,mt){W(I,function(){at.apply(this,arguments)},mt)},count:function(I){var at=0;return W(I,function(){at++}),at},toArray:function(I){return W(I,function(at){return at})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Xt.Component=Z,Xt.Fragment=n,Xt.Profiler=l,Xt.PureComponent=dt,Xt.StrictMode=s,Xt.Suspense=y,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Nt,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Nt.H.useMemoCache(I)}},Xt.cache=function(I){return function(){return I.apply(null,arguments)}},Xt.cloneElement=function(I,at,mt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ot=G({},I.props),wt=I.key,Ft=void 0;if(at!=null)for(St in at.ref!==void 0&&(Ft=void 0),at.key!==void 0&&(wt=""+at.key),at)!Yt.call(at,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&at.ref===void 0||(ot[St]=at[St]);var St=arguments.length-2;if(St===1)ot.children=mt;else if(1<St){for(var je=Array(St),ft=0;ft<St;ft++)je[ft]=arguments[ft+2];ot.children=je}return k(I.type,wt,void 0,void 0,Ft,ot)},Xt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Xt.createElement=function(I,at,mt){var ot,wt={},Ft=null;if(at!=null)for(ot in at.key!==void 0&&(Ft=""+at.key),at)Yt.call(at,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(wt[ot]=at[ot]);var St=arguments.length-2;if(St===1)wt.children=mt;else if(1<St){for(var je=Array(St),ft=0;ft<St;ft++)je[ft]=arguments[ft+2];wt.children=je}if(I&&I.defaultProps)for(ot in St=I.defaultProps,St)wt[ot]===void 0&&(wt[ot]=St[ot]);return k(I,Ft,void 0,void 0,null,wt)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(I){return{$$typeof:g,render:I}},Xt.isValidElement=M,Xt.lazy=function(I){return{$$typeof:w,_payload:{_status:-1,_result:I},_init:ht}},Xt.memo=function(I,at){return{$$typeof:E,type:I,compare:at===void 0?null:at}},Xt.startTransition=function(I){var at=Nt.T,mt={};Nt.T=mt;try{var ot=I(),wt=Nt.S;wt!==null&&wt(mt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(ue,Rt)}catch(Ft){Rt(Ft)}finally{Nt.T=at}},Xt.unstable_useCacheRefresh=function(){return Nt.H.useCacheRefresh()},Xt.use=function(I){return Nt.H.use(I)},Xt.useActionState=function(I,at,mt){return Nt.H.useActionState(I,at,mt)},Xt.useCallback=function(I,at){return Nt.H.useCallback(I,at)},Xt.useContext=function(I){return Nt.H.useContext(I)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(I,at){return Nt.H.useDeferredValue(I,at)},Xt.useEffect=function(I,at,mt){var ot=Nt.H;if(typeof mt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(I,at)},Xt.useId=function(){return Nt.H.useId()},Xt.useImperativeHandle=function(I,at,mt){return Nt.H.useImperativeHandle(I,at,mt)},Xt.useInsertionEffect=function(I,at){return Nt.H.useInsertionEffect(I,at)},Xt.useLayoutEffect=function(I,at){return Nt.H.useLayoutEffect(I,at)},Xt.useMemo=function(I,at){return Nt.H.useMemo(I,at)},Xt.useOptimistic=function(I,at){return Nt.H.useOptimistic(I,at)},Xt.useReducer=function(I,at,mt){return Nt.H.useReducer(I,at,mt)},Xt.useRef=function(I){return Nt.H.useRef(I)},Xt.useState=function(I){return Nt.H.useState(I)},Xt.useSyncExternalStore=function(I,at,mt){return Nt.H.useSyncExternalStore(I,at,mt)},Xt.useTransition=function(){return Nt.H.useTransition()},Xt.version="19.1.0",Xt}var My;function Ep(){return My||(My=1,Nm.exports=Zb()),Nm.exports}var xr=Ep(),Mm={exports:{}},Rc={},xm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function Wb(){return xy||(xy=1,function(r){function t(W,ht){var Rt=W.length;W.push(ht);t:for(;0<Rt;){var ue=Rt-1>>>1,I=W[ue];if(0<l(I,ht))W[ue]=ht,W[Rt]=I,Rt=ue;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ht=W[0],Rt=W.pop();if(Rt!==ht){W[0]=Rt;t:for(var ue=0,I=W.length,at=I>>>1;ue<at;){var mt=2*(ue+1)-1,ot=W[mt],wt=mt+1,Ft=W[wt];if(0>l(ot,Rt))wt<I&&0>l(Ft,ot)?(W[ue]=Ft,W[wt]=Rt,ue=wt):(W[ue]=ot,W[mt]=Rt,ue=mt);else if(wt<I&&0>l(Ft,Rt))W[ue]=Ft,W[wt]=Rt,ue=wt;else break t}}return ht}function l(W,ht){var Rt=W.sortIndex-ht.sortIndex;return Rt!==0?Rt:W.id-ht.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],E=[],w=1,N=null,O=3,K=!1,G=!1,tt=!1,Z=!1,ut=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function zt(W){for(var ht=n(E);ht!==null;){if(ht.callback===null)s(E);else if(ht.startTime<=W)s(E),ht.sortIndex=ht.expirationTime,t(y,ht);else break;ht=n(E)}}function Nt(W){if(tt=!1,zt(W),!G)if(n(y)!==null)G=!0,Yt||(Yt=!0,j());else{var ht=n(E);ht!==null&&Ne(Nt,ht.startTime-W)}}var Yt=!1,k=-1,C=5,M=-1;function P(){return Z?!0:!(r.unstable_now()-M<C)}function z(){if(Z=!1,Yt){var W=r.unstable_now();M=W;var ht=!0;try{t:{G=!1,tt&&(tt=!1,dt(k),k=-1),K=!0;var Rt=O;try{e:{for(zt(W),N=n(y);N!==null&&!(N.expirationTime>W&&P());){var ue=N.callback;if(typeof ue=="function"){N.callback=null,O=N.priorityLevel;var I=ue(N.expirationTime<=W);if(W=r.unstable_now(),typeof I=="function"){N.callback=I,zt(W),ht=!0;break e}N===n(y)&&s(y),zt(W)}else s(y);N=n(y)}if(N!==null)ht=!0;else{var at=n(E);at!==null&&Ne(Nt,at.startTime-W),ht=!1}}break t}finally{N=null,O=Rt,K=!1}ht=void 0}}finally{ht?j():Yt=!1}}}var j;if(typeof Tt=="function")j=function(){Tt(z)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tn=x.port2;x.port1.onmessage=z,j=function(){tn.postMessage(null)}}else j=function(){ut(z,0)};function Ne(W,ht){k=ut(function(){W(r.unstable_now())},ht)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(W){switch(O){case 1:case 2:case 3:var ht=3;break;default:ht=O}var Rt=O;O=ht;try{return W()}finally{O=Rt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(W,ht){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Rt=O;O=W;try{return ht()}finally{O=Rt}},r.unstable_scheduleCallback=function(W,ht,Rt){var ue=r.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?ue+Rt:ue):Rt=ue,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Rt+I,W={id:w++,callback:ht,priorityLevel:W,startTime:Rt,expirationTime:I,sortIndex:-1},Rt>ue?(W.sortIndex=Rt,t(E,W),n(y)===null&&W===n(E)&&(tt?(dt(k),k=-1):tt=!0,Ne(Nt,Rt-ue))):(W.sortIndex=I,t(y,W),G||K||(G=!0,Yt||(Yt=!0,j()))),W},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(W){var ht=O;return function(){var Rt=O;O=ht;try{return W.apply(this,arguments)}finally{O=Rt}}}}(Vm)),Vm}var Vy;function Jb(){return Vy||(Vy=1,xm.exports=Wb()),xm.exports}var km={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function tA(){if(ky)return Yn;ky=1;var r=Ep();function t(y){var E="https://react.dev/errors/"+y;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)E+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,E,w){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:y,containerInfo:E,implementation:w}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,E){if(y==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yn.createPortal=function(y,E){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(t(299));return c(y,E,null,w)},Yn.flushSync=function(y){var E=d.T,w=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=E,s.p=w,s.d.f()}},Yn.preconnect=function(y,E){typeof y=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,s.d.C(y,E))},Yn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Yn.preinit=function(y,E){if(typeof y=="string"&&E&&typeof E.as=="string"){var w=E.as,N=g(w,E.crossOrigin),O=typeof E.integrity=="string"?E.integrity:void 0,K=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;w==="style"?s.d.S(y,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:N,integrity:O,fetchPriority:K}):w==="script"&&s.d.X(y,{crossOrigin:N,integrity:O,fetchPriority:K,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},Yn.preinitModule=function(y,E){if(typeof y=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var w=g(E.as,E.crossOrigin);s.d.M(y,{crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&s.d.M(y)},Yn.preload=function(y,E){if(typeof y=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var w=E.as,N=g(w,E.crossOrigin);s.d.L(y,w,{crossOrigin:N,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},Yn.preloadModule=function(y,E){if(typeof y=="string")if(E){var w=g(E.as,E.crossOrigin);s.d.m(y,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:w,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else s.d.m(y)},Yn.requestFormReset=function(y){s.d.r(y)},Yn.unstable_batchedUpdates=function(y,E){return y(E)},Yn.useFormState=function(y,E,w){return d.H.useFormState(y,E,w)},Yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var Py;function eA(){if(Py)return km.exports;Py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),km.exports=tA(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function nA(){if(Ly)return Rc;Ly=1;var r=Jb(),t=Ep(),n=eA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),e;if(m===o)return g(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=m;else{for(var T=!1,A=h.child;A;){if(A===a){T=!0,a=h,o=m;break}if(A===o){T=!0,o=h,a=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===a){T=!0,a=m,o=h;break}if(A===o){T=!0,o=m,a=h;break}A=A.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),Yt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function tn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case Nt:return"Suspense";case Yt:return"SuspenseList";case M:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case Tt:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case zt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return i=e.displayName||null,i!==null?i:tn(e.type)||"Memo";case C:i=e._payload,e=e._init;try{return tn(e(i))}catch{}}return null}var Ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},ue=[],I=-1;function at(e){return{current:e}}function mt(e){0>I||(e.current=ue[I],ue[I]=null,I--)}function ot(e,i){I++,ue[I]=e.current,e.current=i}var wt=at(null),Ft=at(null),St=at(null),je=at(null);function ft(e,i){switch(ot(St,i),ot(Ft,e),ot(wt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?iy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=iy(i),e=ry(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}mt(wt),ot(wt,e)}function ti(){mt(wt),mt(Ft),mt(St)}function cr(e){e.memoizedState!==null&&ot(je,e);var i=wt.current,a=ry(i,e.type);i!==a&&(ot(Ft,e),ot(wt,a))}function hr(e){Ft.current===e&&(mt(wt),mt(Ft)),je.current===e&&(mt(je),Ec._currentValue=Rt)}var ys=Object.prototype.hasOwnProperty,wi=r.unstable_scheduleCallback,Ur=r.unstable_cancelCallback,fr=r.unstable_shouldYield,dr=r.unstable_requestPaint,ui=r.unstable_now,Eu=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,la=r.unstable_UserBlockingPriority,vs=r.unstable_NormalPriority,Tu=r.unstable_LowPriority,ua=r.unstable_IdlePriority,zr=r.log,Si=r.unstable_setDisableYieldValue,Me=null,ge=null;function ei(e){if(typeof zr=="function"&&Si(e),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(Me,e)}catch{}}var qe=Math.clz32?Math.clz32:qi,mr=Math.log,Br=Math.LN2;function qi(e){return e>>>=0,e===0?32:31-(mr(e)/Br|0)|0}var Es=256,pr=4194304;function Ri(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ca(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?h=Ri(o):(T&=A,T!==0?h=Ri(T):a||(a=A&~e,a!==0&&(h=Ri(a))))):(A=o&~m,A!==0?h=Ri(A):T!==0?h=Ri(T):a||(a=o&~e,a!==0&&(h=Ri(a)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:h}function Ts(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _o(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),e}function vo(){var e=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),e}function Hi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ci(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ha(e,i,a,o,h,m){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var A=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(a=T&~a;0<a;){var J=31-qe(a),it=1<<J;A[J]=0,D[J]=-1;var Q=F[J];if(Q!==null)for(F[J]=null,J=0;J<Q.length;J++){var Y=Q[J];Y!==null&&(Y.lane&=-536870913)}a&=~it}o!==0&&Ii(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~i))}function Ii(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-qe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qr(){var e=ht.p;return e!==0?e:(e=window.event,e===void 0?32:Ay(e.type))}function gr(e,i){var a=ht.p;try{return ht.p=e,i()}finally{ht.p=a}}var ye=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ye,He="__reactProps$"+ye,hi="__reactContainer$"+ye,To="__reactEvents$"+ye,bu="__reactListeners$"+ye,Fi="__reactHandles$"+ye,_r="__reactResources$"+ye,Gi="__reactMarker$"+ye;function Hr(e){delete e[Qe],delete e[He],delete e[To],delete e[bu],delete e[Fi]}function Ci(e){var i=e[Qe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[hi]||a[Qe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=ly(e);e!==null;){if(a=e[Qe])return a;e=ly(e)}return i}e=a,a=e.parentNode}return null}function Qi(e){if(e=e[Qe]||e[hi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ki(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Fe(e){var i=e[_r];return i||(i=e[_r]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[Gi]=!0}var fn=new Set,en={};function Re(e,i){fi(e,i),fi(e+"Capture",i)}function fi(e,i){for(en[e]=i,e=0;e<i.length;e++)fn.add(i[e])}var yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},di={};function bo(e){return ys.call(di,e)?!0:ys.call(Yi,e)?!1:yr.test(e)?di[e]=!0:(Yi[e]=!0,!1)}function $i(e,i,a){if(bo(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function nn(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var vr,da;function Xi(e){if(vr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vr=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+e+da}var bs=!1;function As(e,i){if(!e||bs)return"";bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Y){var Q=Y}Reflect.construct(e,[],it)}else{try{it.call()}catch(Y){Q=Y}e.call(it.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(it=e())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var D=T.split(`
`),F=A.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===F.length)for(o=D.length-1,h=F.length-1;1<=o&&0<=h&&D[o]!==F[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==F[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==F[h]){var J=`
`+D[o].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=o&&0<=h);break}}}finally{bs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Xi(a):""}function ma(e){switch(e.tag){case 26:case 27:case 5:return Xi(e.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return As(e.type,!1);case 11:return As(e.type.render,!1);case 1:return As(e.type,!0);case 31:return Xi("Activity");default:return""}}function ws(e){try{var i="";do i+=ma(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pa(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hl(e){var i=pa(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ss(e){e._valueTracker||(e._valueTracker=hl(e))}function ga(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=pa(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function An(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nn=/[\n"\\]/g;function Ae(e){return e.replace(Nn,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ce(e,i,a,o,h,m,T,A){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+bn(i)):e.value!==""+bn(i)&&(e.value=""+bn(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,T,bn(i)):a!=null?Zi(e,T,bn(a)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+bn(A):e.removeAttribute("name")}function Er(e,i,a,o,h,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+bn(a):"",i=i!=null?""+bn(i):a,A||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=A?e.checked:!!o,e.defaultChecked=!!o,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function Zi(e,i,a){i==="number"&&An(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rn(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+bn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ne(e,i,a){if(i!=null&&(i=""+bn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+bn(a):""}function Wi(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=bn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Tr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Tr.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ji(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Ao(e,h,o)}else for(var m in i)i.hasOwnProperty(m)&&Ao(e,m,i[m])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Oi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wn=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tr=null,ni=null;function Is(e){var i=Qi(e);if(i&&(e=i.stateNode)){var a=e[He]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ce(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ae(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[He]||null;if(!h)throw Error(s(90));Ce(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ga(o)}break t;case"textarea":ne(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&rn(e,!!a.multiple,i,!1)}}}var Fn=!1;function wo(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var o=e(i);return o}finally{if(Fn=!1,(tr!==null||ni!==null)&&(Kh(),tr&&(i=tr,e=ni,ni=tr=null,Is(i),e)))for(i=0;i<e.length;i++)Is(e[i])}}function Fr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[He]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(mi)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{mn=!1}var Di=null,er=null,pi=null;function Os(){if(pi)return pi;var e,i=er,a=i.length,o,h="value"in Di?Di.value:Di.textContent,m=h.length;for(e=0;e<a&&i[e]===h[e];e++);var T=a-e;for(o=1;o<=T&&i[a-o]===h[m-o];o++);return pi=h.slice(e,1<o?1-o:void 0)}function nr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function So(){return!1}function Ke(e){function i(a,o,h,m,T){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(a=e[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ii:So,this.isPropagationStopped=So,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=Ke(ce),br=w({},ce,{view:0,detail:0}),Ro=Ke(br),ir,Qr,Ni,Kr=w({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?(ir=e.screenX-Ni.screenX,Qr=e.screenY-Ni.screenY):Qr=ir=0,Ni=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:Qr}}),pn=Ke(Kr),dl=w({},Kr,{dataTransfer:0}),ml=Ke(dl),Yr=w({},br,{relatedTarget:0}),Ds=Ke(Yr),ya=w({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ns=Ke(ya),va=w({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ms=Ke(va),Au=w({},ce,{data:0}),Io=Ke(Au),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=xs[e])?!!i[e]:!1}function Vs(){return Oo}var Ea=w({},br,{key:function(e){if(e.key){var i=$r[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Co[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ks=Ke(Ea),Do=w({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Ke(Do),xi=w({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),pl=Ke(xi),No=w({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),gl=Ke(No),_l=w({},Kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=Ke(_l),xn=w({},ce,{newState:0,oldState:0}),Mo=Ke(xn),xo=[9,13,27,32],rr=mi&&"CompositionEvent"in window,u=null;mi&&"documentMode"in document&&(u=document.documentMode);var p=mi&&"TextEvent"in window&&!u,v=mi&&(!rr||u&&8<u&&11>=u),R=" ",q=!1;function $(e,i){switch(e){case"keyup":return xo.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function Ye(e,i){switch(e){case"compositionend":return ct(i);case"keypress":return i.which!==32?null:(q=!0,R);case"textInput":return e=i.data,e===R&&q?null:e;default:return null}}function re(e,i){if(ie)return e==="compositionend"||!rr&&$(e,i)?(e=Os(),pi=er=Di=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $e(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!sn[e.type]:i==="textarea"}function Xe(e,i,a,o){tr?ni?ni.push(o):ni=[o]:tr=o,i=Jh(i,"onChange"),0<i.length&&(a=new Gr("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var an=null,Vi=null;function ba(e){W_(e,0)}function yl(e){var i=Ki(e);if(ga(i))return e}function ah(e,i){if(e==="change")return i}var wu=!1;if(mi){var Aa;if(mi){var Su="oninput"in document;if(!Su){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Su=typeof oh.oninput=="function"}Aa=Su}else Aa=!1;wu=Aa&&(!document.documentMode||9<document.documentMode)}function Ru(){an&&(an.detachEvent("onpropertychange",lh),Vi=an=null)}function lh(e){if(e.propertyName==="value"&&yl(Vi)){var i=[];Xe(i,Vi,e,Mn(e)),wo(ba,i)}}function vd(e,i,a){e==="focusin"?(Ru(),an=i,Vi=a,an.attachEvent("onpropertychange",lh)):e==="focusout"&&Ru()}function uh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yl(Vi)}function ch(e,i){if(e==="click")return yl(i)}function hh(e,i){if(e==="input"||e==="change")return yl(i)}function vl(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Gn=typeof Object.is=="function"?Object.is:vl;function Ps(e,i){if(Gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ys.call(i,h)||!Gn(e[h],i[h]))return!1}return!0}function ri(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fh(e,i){var a=ri(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ri(a)}}function dh(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?dh(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Iu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=An(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=An(e.document)}return i}function El(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ed=mi&&"documentMode"in document&&11>=document.documentMode,wa=null,Cu=null,Vo=null,Ou=!1;function mh(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ou||wa==null||wa!==An(o)||(o=wa,"selectionStart"in o&&El(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Ps(Vo,o)||(Vo=o,o=Jh(Cu,"onSelect"),0<o.length&&(i=new Gr("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=wa)))}function Xr(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ls={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionrun:Xr("Transition","TransitionRun"),transitionstart:Xr("Transition","TransitionStart"),transitioncancel:Xr("Transition","TransitionCancel"),transitionend:Xr("Transition","TransitionEnd")},ko={},ph={};mi&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Us(e){if(ko[e])return ko[e];if(!Ls[e])return e;var i=Ls[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ph)return ko[e]=i[a];return e}var Zr=Us("animationend"),sr=Us("animationiteration"),Du=Us("animationstart"),Td=Us("transitionrun"),gh=Us("transitionstart"),_h=Us("transitioncancel"),Nu=Us("transitionend"),Mu=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function ki(e,i){Mu.set(e,i),Re(i,[e])}var yh=new WeakMap;function si(e,i){if(typeof e=="object"&&e!==null){var a=yh.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ws(i)},yh.set(e,i),i)}return{value:e,source:i,stack:ws(i)}}var ai=[],Sa=0,Vu=0;function Tl(){for(var e=Sa,i=Vu=Sa=0;i<e;){var a=ai[i];ai[i++]=null;var o=ai[i];ai[i++]=null;var h=ai[i];ai[i++]=null;var m=ai[i];if(ai[i++]=null,o!==null&&h!==null){var T=o.pending;T===null?h.next=h:(h.next=T.next,T.next=h),o.pending=h}m!==0&&Pu(a,h,m)}}function bl(e,i,a,o){ai[Sa++]=e,ai[Sa++]=i,ai[Sa++]=a,ai[Sa++]=o,Vu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ku(e,i,a,o){return bl(e,i,a,o),Al(e)}function Qn(e,i){return bl(e,null,null,i),Al(e)}function Pu(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&i!==null&&(h=31-qe(a),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),m):null}function Al(e){if(50<fc)throw fc=0,tm=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ra={};function bd(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(e,i,a,o){return new bd(e,i,a,o)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,i){var a=e.alternate;return a===null?(a=oi(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vh(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function wl(e,i,a,o,h,m){var T=0;if(o=e,typeof e=="function")Lu(e)&&(T=1);else if(typeof e=="string")T=Pb(e,a,wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case M:return e=oi(31,a,i,h),e.elementType=M,e.lanes=m,e;case G:return wr(a.children,h,m,i);case tt:T=8,h|=24;break;case Z:return e=oi(12,a,i,h|2),e.elementType=Z,e.lanes=m,e;case Nt:return e=oi(13,a,i,h),e.elementType=Nt,e.lanes=m,e;case Yt:return e=oi(19,a,i,h),e.elementType=Yt,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:case Tt:T=10;break t;case dt:T=9;break t;case zt:T=11;break t;case k:T=14;break t;case C:T=16,o=null;break t}T=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=oi(T,a,i,h),i.elementType=e,i.type=o,i.lanes=m,i}function wr(e,i,a,o){return e=oi(7,e,o,i),e.lanes=a,e}function Ia(e,i,a){return e=oi(6,e,null,i),e.lanes=a,e}function Uu(e,i,a){return i=oi(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var zs=[],Bs=0,Wr=null,Ca=0,gi=[],_i=0,js=null,Vn=1,Sr="";function qs(e,i){zs[Bs++]=Ca,zs[Bs++]=Wr,Wr=e,Ca=i}function Eh(e,i,a){gi[_i++]=Vn,gi[_i++]=Sr,gi[_i++]=js,js=e;var o=Vn;e=Sr;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var m=32-qe(i)+h;if(30<m){var T=h-h%5;m=(o&(1<<T)-1).toString(32),o>>=T,h-=T,Vn=1<<32-qe(i)+h|a<<h|o,Sr=m+e}else Vn=1<<m|a<<h|o,Sr=e}function zu(e){e.return!==null&&(qs(e,1),Eh(e,1,0))}function Oa(e){for(;e===Wr;)Wr=zs[--Bs],zs[Bs]=null,Ca=zs[--Bs],zs[Bs]=null;for(;e===js;)js=gi[--_i],gi[_i]=null,Sr=gi[--_i],gi[_i]=null,Vn=gi[--_i],gi[_i]=null}var gn=null,Ve=null,he=!1,Hs=null,kn=!1,Po=Error(s(519));function Jr(e){var i=Error(s(418,""));throw Uo(si(i,e)),Po}function Th(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Qe]=e,i[He]=o,a){case"dialog":ee("cancel",i),ee("close",i);break;case"iframe":case"object":case"embed":ee("load",i);break;case"video":case"audio":for(a=0;a<mc.length;a++)ee(mc[a],i);break;case"source":ee("error",i);break;case"img":case"image":case"link":ee("error",i),ee("load",i);break;case"details":ee("toggle",i);break;case"input":ee("invalid",i),Er(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ss(i);break;case"select":ee("invalid",i);break;case"textarea":ee("invalid",i),Wi(i,o.value,o.defaultValue,o.children),Ss(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||ny(i.textContent,a)?(o.popover!=null&&(ee("beforetoggle",i),ee("toggle",i)),o.onScroll!=null&&ee("scroll",i),o.onScrollEnd!=null&&ee("scrollend",i),o.onClick!=null&&(i.onclick=tf),i=!0):i=!1,i||Jr(e)}function bh(e){for(gn=e.return;gn;)switch(gn.tag){case 5:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:gn=gn.return}}function Lo(e){if(e!==gn)return!1;if(!he)return bh(e),he=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gm(e.type,e.memoizedProps)),a=!a),a&&Ve&&Jr(e),bh(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ve=Mr(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ve=null}}else i===27?(i=Ve,Ga(e.type)?(e=Em,Em=null,Ve=e):Ve=i):Ve=gn?Mr(e.stateNode.nextSibling):null;return!0}function Rr(){Ve=gn=null,he=!1}function ts(){var e=Hs;return e!==null&&(Ei===null?Ei=e:Ei.push.apply(Ei,e),Hs=null),e}function Uo(e){Hs===null?Hs=[e]:Hs.push(e)}var Bu=at(null),Fs=null,Ir=null;function es(e,i,a){ot(Bu,i._currentValue),i._currentValue=a}function Cr(e){e._currentValue=Bu.current,mt(Bu)}function ju(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function qu(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var T=h.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=h;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),ju(m.return,a,e),o||(T=null);break t}m=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),ju(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Da(e,i,a,o){e=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=h.type;Gn(h.pendingProps.value,T.value)||(e!==null?e.push(A):e=[A])}}else if(h===je.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ec):e=[Ec])}h=h.return}e!==null&&qu(i,e,a,o),i.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ns(e){Fs=e,Ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function on(e){return is(Fs,e)}function zo(e,i){return Fs===null&&ns(e),is(e,i)}function is(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ir===null){if(e===null)throw Error(s(308));Ir=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ir=Ir.next=i;return a}var Ah=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Hu=r.unstable_scheduleCallback,wh=r.unstable_NormalPriority,Le={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rl(){return{controller:new Ah,data:new Map,refCount:0}}function Gs(e){e.refCount--,e.refCount===0&&Hu(wh,function(){e.controller.abort()})}var Bo=null,Or=0,li=0,Na=null;function Ad(e,i){if(Bo===null){var a=Bo=[];Or=0,li=om(),Na={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Or++,i.then(Sh,Sh),i}function Sh(){if(--Or===0&&Bo!==null){Na!==null&&(Na.status="fulfilled");var e=Bo;Bo=null,li=0,Na=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function wd(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Rh=W.S;W.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ad(e,i),Rh!==null&&Rh(e,i)};var Qs=at(null);function Fu(){var e=Qs.current;return e!==null?e:De.pooledCache}function Il(e,i){i===null?ot(Qs,Qs.current):ot(Qs,i.pool)}function Gu(){var e=Fu();return e===null?null:{parent:Le._currentValue,pool:e}}var rs=Error(s(460)),jo=Error(s(474)),Cl=Error(s(542)),Qu={then:function(){}};function Ma(e){return e=e.status,e==="fulfilled"||e==="rejected"}function b(){}function f(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(b,b),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,L(e),e;default:if(typeof i.status=="string")i.then(b,b);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,L(e),e}throw _=i,rs}}var _=null;function S(){if(_===null)throw Error(s(459));var e=_;return _=null,e}function L(e){if(e===rs||e===Cl)throw Error(s(483))}var U=!1;function X(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nt(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function lt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gt(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Te&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Al(e),Pu(e,null,a),i}return bl(e,o,i,a),Al(e)}function _t(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}function pt(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var qt=!1;function Ot(){if(qt){var e=Na;if(e!==null)throw e}}function xt(e,i,a,o){qt=!1;var h=e.updateQueue;U=!1;var m=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var D=A,F=D.next;D.next=null,T===null?m=F:T.next=F,T=D;var J=e.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==T&&(A===null?J.firstBaseUpdate=F:A.next=F,J.lastBaseUpdate=D))}if(m!==null){var it=h.baseState;T=0,J=F=D=null,A=m;do{var Q=A.lane&-536870913,Y=Q!==A.lane;if(Y?(fe&Q)===Q:(o&Q)===Q){Q!==0&&Q===li&&(qt=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Ut=e,Mt=A;Q=i;var Se=a;switch(Mt.tag){case 1:if(Ut=Mt.payload,typeof Ut=="function"){it=Ut.call(Se,it,Q);break t}it=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Mt.payload,Q=typeof Ut=="function"?Ut.call(Se,it,Q):Ut,Q==null)break t;it=w({},it,Q);break t;case 2:U=!0}}Q=A.callback,Q!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(F=J=Y,D=it):J=J.next=Y,T|=Q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(D=it),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),ja|=T,e.lanes=T,e.memoizedState=it}}function Pt(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Bt(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Pt(a[e],i)}var oe=at(null),_e=at(0);function $t(e,i){e=Ws,ot(_e,e),ot(oe,i),Ws=e|i.baseLanes}function le(){ot(_e,Ws),ot(oe,oe.current)}function Gt(){Ws=_e.current,mt(oe),mt(_e)}var Qt=0,yt=null,It=null,Vt=null,Oe=!1,ln=!1,_n=!1,un=0,Sn=0,yn=null,ke=0;function me(){throw Error(s(321))}function yi(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Gn(e[a],i[a]))return!1;return!0}function ss(e,i,a,o,h,m){return Qt=m,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=e===null||e.memoizedState===null?Pg:Lg,_n=!1,m=a(o,h),_n=!1,ln&&(m=ve(i,a,o,h)),Ze(e),m}function Ze(e){W.H=Vh;var i=It!==null&&It.next!==null;if(Qt=0,Vt=It=yt=null,Oe=!1,Sn=0,yn=null,i)throw Error(s(300));e===null||Rn||(e=e.dependencies,e!==null&&Sl(e)&&(Rn=!0))}function ve(e,i,a,o){yt=e;var h=0;do{if(ln&&(yn=null),Sn=0,ln=!1,25<=h)throw Error(s(301));if(h+=1,Vt=It=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=KT,m=i(a,o)}while(ln);return m}function Pn(){var e=W.H,i=e.useState()[0];return i=typeof i.then=="function"?qo(i):i,e=e.useState()[0],(It!==null?It.memoizedState:null)!==e&&(yt.flags|=1024),i}function Kn(){var e=un!==0;return un=0,e}function ar(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function xa(e){if(Oe){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Oe=!1}Qt=0,Vt=It=yt=null,ln=!1,Sn=un=0,yn=null}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?yt.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function Ue(){if(It===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var i=Vt===null?yt.memoizedState:Vt.next;if(i!==null)Vt=i,It=e;else{if(e===null)throw yt.alternate===null?Error(s(467)):Error(s(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Vt===null?yt.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Va(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var i=Sn;return Sn+=1,yn===null&&(yn=[]),e=f(yn,e,i),i=yt,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Pg:Lg),e}function Ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===Tt)return on(e)}throw Error(s(438,String(e)))}function Ho(e){var i=null,a=yt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=yt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Va(),yt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=P;return i.index++,a}function Dr(e,i){return typeof i=="function"?i(e):i}function Fo(e){var i=Ue();return Ku(i,It,e)}function Ku(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var T=h.next;h.next=m.next,m.next=T}i.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{i=h.next;var A=T=null,D=null,F=i,J=!1;do{var it=F.lane&-536870913;if(it!==F.lane?(fe&it)===it:(Qt&it)===it){var Q=F.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),it===li&&(J=!0);else if((Qt&Q)===Q){F=F.next,Q===li&&(J=!0);continue}else it={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=it,T=m):D=D.next=it,yt.lanes|=Q,ja|=Q;it=F.action,_n&&a(m,it),m=F.hasEagerState?F.eagerState:a(m,it)}else Q={lane:it,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=Q,T=m):D=D.next=Q,yt.lanes|=it,ja|=it;F=F.next}while(F!==null&&F!==i);if(D===null?T=m:D.next=A,!Gn(m,e.memoizedState)&&(Rn=!0,J&&(a=Na,a!==null)))throw a;e.memoizedState=m,e.baseState=T,e.baseQueue=D,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Dl(e){var i=Ue(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do m=e(m,T.action),T=T.next;while(T!==h);Gn(m,i.memoizedState)||(Rn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function Yu(e,i,a){var o=yt,h=Ue(),m=he;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Gn((It||h).memoizedState,a);T&&(h.memoizedState=a,Rn=!0),h=h.queue;var A=as.bind(null,o,h,e);if(ec(2048,8,A,[e]),h.getSnapshot!==i||T||Vt!==null&&Vt.memoizedState.tag&1){if(o.flags|=2048,Vl(9,Nh(),Ch.bind(null,o,h,a,i),null),De===null)throw Error(s(349));m||(Qt&124)!==0||Ih(o,i,a)}return a}function Ih(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=yt.updateQueue,i===null?(i=Va(),yt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ch(e,i,a,o){i.value=a,i.getSnapshot=o,Go(i)&&$u(e)}function as(e,i,a){return a(function(){Go(i)&&$u(e)})}function Go(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Gn(e,a)}catch{return!0}}function $u(e){var i=Qn(e,2);i!==null&&Bi(i,e,2)}function Nl(e){var i=Ln();if(typeof e=="function"){var a=e;if(e=a(),_n){ei(!0);try{a()}finally{ei(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},i}function Ml(e,i,a,o){return e.baseState=a,Ku(e,It,typeof o=="function"?o:Dr)}function Oh(e,i,a,o,h){if(xh(e))throw Error(s(485));if(e=i.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};W.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,Xu(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Xu(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var m=W.T,T={};W.T=T;try{var A=a(h,o),D=W.S;D!==null&&D(T,A),Zu(e,i,A)}catch(F){Ju(e,i,F)}finally{W.T=m}}else try{m=a(h,o),Zu(e,i,m)}catch(F){Ju(e,i,F)}}function Zu(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Wu(e,i,o)},function(o){return Ju(e,i,o)}):Wu(e,i,a)}function Wu(e,i,a){i.status="fulfilled",i.value=a,Dh(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Xu(e,a)))}function Ju(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Dh(i),i=i.next;while(i!==o)}e.action=null}function Dh(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function xl(e,i){return i}function tc(e,i){if(he){var a=De.formState;if(a!==null){t:{var o=yt;if(he){if(Ve){e:{for(var h=Ve,m=kn;h.nodeType!==8;){if(!m){h=null;break e}if(h=Mr(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ve=Mr(h.nextSibling),o=h.data==="F!";break t}}Jr(o)}o=!1}o&&(i=a[0])}}return a=Ln(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:i},a.queue=o,a=xg.bind(null,yt,o),o.dispatch=a,o=Nl(!1),m=Od.bind(null,yt,!1,o.queue),o=Ln(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=Oh.bind(null,yt,h,m,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function pg(e){var i=Ue();return gg(i,It,e)}function gg(e,i,a){if(i=Ku(e,i,xl)[0],e=Fo(Dr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=qo(i)}catch(T){throw T===rs?Cl:T}else o=i;i=Ue();var h=i.queue,m=h.dispatch;return a!==i.memoizedState&&(yt.flags|=2048,Vl(9,Nh(),HT.bind(null,h,a),null)),[o,m,e]}function HT(e,i){e.action=i}function _g(e){var i=Ue(),a=It;if(a!==null)return gg(i,a,e);Ue(),i=i.memoizedState,a=Ue();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Vl(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=yt.updateQueue,i===null&&(i=Va(),yt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Nh(){return{destroy:void 0,resource:void 0}}function yg(){return Ue().memoizedState}function Mh(e,i,a,o){var h=Ln();o=o===void 0?null:o,yt.flags|=e,h.memoizedState=Vl(1|i,Nh(),a,o)}function ec(e,i,a,o){var h=Ue();o=o===void 0?null:o;var m=h.memoizedState.inst;It!==null&&o!==null&&yi(o,It.memoizedState.deps)?h.memoizedState=Vl(i,m,a,o):(yt.flags|=e,h.memoizedState=Vl(1|i,m,a,o))}function vg(e,i){Mh(8390656,8,e,i)}function Eg(e,i){ec(2048,8,e,i)}function Tg(e,i){return ec(4,2,e,i)}function bg(e,i){return ec(4,4,e,i)}function Ag(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function wg(e,i,a){a=a!=null?a.concat([e]):null,ec(4,4,Ag.bind(null,i,e),a)}function Sd(){}function Sg(e,i){var a=Ue();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&yi(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Rg(e,i){var a=Ue();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&yi(i,o[1]))return o[0];if(o=e(),_n){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[o,i],o}function Rd(e,i,a){return a===void 0||(Qt&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=O_(),yt.lanes|=e,ja|=e,a)}function Ig(e,i,a,o){return Gn(a,i)?a:oe.current!==null?(e=Rd(e,a,o),Gn(e,i)||(Rn=!0),e):(Qt&42)===0?(Rn=!0,e.memoizedState=a):(e=O_(),yt.lanes|=e,ja|=e,i)}function Cg(e,i,a,o,h){var m=ht.p;ht.p=m!==0&&8>m?m:8;var T=W.T,A={};W.T=A,Od(e,!1,i,a);try{var D=h(),F=W.S;if(F!==null&&F(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=wd(D,o);nc(e,i,J,zi(e))}else nc(e,i,o,zi(e))}catch(it){nc(e,i,{then:function(){},status:"rejected",reason:it},zi())}finally{ht.p=m,W.T=T}}function FT(){}function Id(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Og(e).queue;Cg(e,h,i,Rt,a===null?FT:function(){return Dg(e),a(o)})}function Og(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:Rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dg(e){var i=Og(e).next.queue;nc(e,i,{},zi())}function Cd(){return on(Ec)}function Ng(){return Ue().memoizedState}function Mg(){return Ue().memoizedState}function GT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=zi();e=lt(a);var o=gt(i,e,a);o!==null&&(Bi(o,i,a),_t(o,i,a)),i={cache:Rl()},e.payload=i;return}i=i.return}}function QT(e,i,a){var o=zi();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xh(e)?Vg(i,a):(a=ku(e,i,a,o),a!==null&&(Bi(a,e,o),kg(a,i,o)))}function xg(e,i,a){var o=zi();nc(e,i,a,o)}function nc(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xh(e))Vg(i,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var T=i.lastRenderedState,A=m(T,a);if(h.hasEagerState=!0,h.eagerState=A,Gn(A,T))return bl(e,i,h,0),De===null&&Tl(),!1}catch{}finally{}if(a=ku(e,i,h,o),a!==null)return Bi(a,e,o),kg(a,i,o),!0}return!1}function Od(e,i,a,o){if(o={lane:2,revertLane:om(),action:o,hasEagerState:!1,eagerState:null,next:null},xh(e)){if(i)throw Error(s(479))}else i=ku(e,a,o,2),i!==null&&Bi(i,e,2)}function xh(e){var i=e.alternate;return e===yt||i!==null&&i===yt}function Vg(e,i){ln=Oe=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function kg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}var Vh={readContext:on,use:Ol,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},Pg={readContext:on,use:Ol,useCallback:function(e,i){return Ln().memoizedState=[e,i===void 0?null:i],e},useContext:on,useEffect:vg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mh(4194308,4,Ag.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mh(4194308,4,e,i)},useInsertionEffect:function(e,i){Mh(4,2,e,i)},useMemo:function(e,i){var a=Ln();i=i===void 0?null:i;var o=e();if(_n){ei(!0);try{e()}finally{ei(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Ln();if(a!==void 0){var h=a(i);if(_n){ei(!0);try{a(i)}finally{ei(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=QT.bind(null,yt,e),[o.memoizedState,e]},useRef:function(e){var i=Ln();return e={current:e},i.memoizedState=e},useState:function(e){e=Nl(e);var i=e.queue,a=xg.bind(null,yt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(e,i){var a=Ln();return Rd(a,e,i)},useTransition:function(){var e=Nl(!1);return e=Cg.bind(null,yt,e.queue,!0,!1),Ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=yt,h=Ln();if(he){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),De===null)throw Error(s(349));(fe&124)!==0||Ih(o,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,vg(as.bind(null,o,m,e),[e]),o.flags|=2048,Vl(9,Nh(),Ch.bind(null,o,m,a,i),null),a},useId:function(){var e=Ln(),i=De.identifierPrefix;if(he){var a=Sr,o=Vn;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=un++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=ke++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Cd,useFormState:tc,useActionState:tc,useOptimistic:function(e){var i=Ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Od.bind(null,yt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ho,useCacheRefresh:function(){return Ln().memoizedState=GT.bind(null,yt)}},Lg={readContext:on,use:Ol,useCallback:Sg,useContext:on,useEffect:Eg,useImperativeHandle:wg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Fo,useRef:yg,useState:function(){return Fo(Dr)},useDebugValue:Sd,useDeferredValue:function(e,i){var a=Ue();return Ig(a,It.memoizedState,e,i)},useTransition:function(){var e=Fo(Dr)[0],i=Ue().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Yu,useId:Ng,useHostTransitionStatus:Cd,useFormState:pg,useActionState:pg,useOptimistic:function(e,i){var a=Ue();return Ml(a,It,e,i)},useMemoCache:Ho,useCacheRefresh:Mg},KT={readContext:on,use:Ol,useCallback:Sg,useContext:on,useEffect:Eg,useImperativeHandle:wg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Dl,useRef:yg,useState:function(){return Dl(Dr)},useDebugValue:Sd,useDeferredValue:function(e,i){var a=Ue();return It===null?Rd(a,e,i):Ig(a,It.memoizedState,e,i)},useTransition:function(){var e=Dl(Dr)[0],i=Ue().memoizedState;return[typeof e=="boolean"?e:qo(e),i]},useSyncExternalStore:Yu,useId:Ng,useHostTransitionStatus:Cd,useFormState:_g,useActionState:_g,useOptimistic:function(e,i){var a=Ue();return It!==null?Ml(a,It,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Mg},kl=null,ic=0;function kh(e){var i=ic;return ic+=1,kl===null&&(kl=[]),f(kl,e,i)}function rc(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ph(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ug(e){var i=e._init;return i(e._payload)}function zg(e){function i(B,V){if(e){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function a(B,V){if(!e)return null;for(;V!==null;)i(B,V),V=V.sibling;return null}function o(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=Ar(B,V),B.index=0,B.sibling=null,B}function m(B,V,H){return B.index=H,e?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=67108866,V):H):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function T(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function A(B,V,H,et){return V===null||V.tag!==6?(V=Ia(H,B.mode,et),V.return=B,V):(V=h(V,H),V.return=B,V)}function D(B,V,H,et){var At=H.type;return At===G?J(B,V,H.props.children,et,H.key):V!==null&&(V.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&Ug(At)===V.type)?(V=h(V,H.props),rc(V,H),V.return=B,V):(V=wl(H.type,H.key,H.props,null,B.mode,et),rc(V,H),V.return=B,V)}function F(B,V,H,et){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Uu(H,B.mode,et),V.return=B,V):(V=h(V,H.children||[]),V.return=B,V)}function J(B,V,H,et,At){return V===null||V.tag!==7?(V=wr(H,B.mode,et,At),V.return=B,V):(V=h(V,H),V.return=B,V)}function it(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ia(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case O:return H=wl(V.type,V.key,V.props,null,B.mode,H),rc(H,V),H.return=B,H;case K:return V=Uu(V,B.mode,H),V.return=B,V;case C:var et=V._init;return V=et(V._payload),it(B,V,H)}if(Ne(V)||j(V))return V=wr(V,B.mode,H,null),V.return=B,V;if(typeof V.then=="function")return it(B,kh(V),H);if(V.$$typeof===Tt)return it(B,zo(B,V),H);Ph(B,V)}return null}function Q(B,V,H,et){var At=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return At!==null?null:A(B,V,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return H.key===At?D(B,V,H,et):null;case K:return H.key===At?F(B,V,H,et):null;case C:return At=H._init,H=At(H._payload),Q(B,V,H,et)}if(Ne(H)||j(H))return At!==null?null:J(B,V,H,et,null);if(typeof H.then=="function")return Q(B,V,kh(H),et);if(H.$$typeof===Tt)return Q(B,V,zo(B,H),et);Ph(B,H)}return null}function Y(B,V,H,et,At){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(H)||null,A(V,B,""+et,At);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case O:return B=B.get(et.key===null?H:et.key)||null,D(V,B,et,At);case K:return B=B.get(et.key===null?H:et.key)||null,F(V,B,et,At);case C:var Wt=et._init;return et=Wt(et._payload),Y(B,V,H,et,At)}if(Ne(et)||j(et))return B=B.get(H)||null,J(V,B,et,At,null);if(typeof et.then=="function")return Y(B,V,H,kh(et),At);if(et.$$typeof===Tt)return Y(B,V,H,zo(V,et),At);Ph(V,et)}return null}function Ut(B,V,H,et){for(var At=null,Wt=null,Ct=V,kt=V=0,Cn=null;Ct!==null&&kt<H.length;kt++){Ct.index>kt?(Cn=Ct,Ct=null):Cn=Ct.sibling;var pe=Q(B,Ct,H[kt],et);if(pe===null){Ct===null&&(Ct=Cn);break}e&&Ct&&pe.alternate===null&&i(B,Ct),V=m(pe,V,kt),Wt===null?At=pe:Wt.sibling=pe,Wt=pe,Ct=Cn}if(kt===H.length)return a(B,Ct),he&&qs(B,kt),At;if(Ct===null){for(;kt<H.length;kt++)Ct=it(B,H[kt],et),Ct!==null&&(V=m(Ct,V,kt),Wt===null?At=Ct:Wt.sibling=Ct,Wt=Ct);return he&&qs(B,kt),At}for(Ct=o(Ct);kt<H.length;kt++)Cn=Y(Ct,B,kt,H[kt],et),Cn!==null&&(e&&Cn.alternate!==null&&Ct.delete(Cn.key===null?kt:Cn.key),V=m(Cn,V,kt),Wt===null?At=Cn:Wt.sibling=Cn,Wt=Cn);return e&&Ct.forEach(function(Xa){return i(B,Xa)}),he&&qs(B,kt),At}function Mt(B,V,H,et){if(H==null)throw Error(s(151));for(var At=null,Wt=null,Ct=V,kt=V=0,Cn=null,pe=H.next();Ct!==null&&!pe.done;kt++,pe=H.next()){Ct.index>kt?(Cn=Ct,Ct=null):Cn=Ct.sibling;var Xa=Q(B,Ct,pe.value,et);if(Xa===null){Ct===null&&(Ct=Cn);break}e&&Ct&&Xa.alternate===null&&i(B,Ct),V=m(Xa,V,kt),Wt===null?At=Xa:Wt.sibling=Xa,Wt=Xa,Ct=Cn}if(pe.done)return a(B,Ct),he&&qs(B,kt),At;if(Ct===null){for(;!pe.done;kt++,pe=H.next())pe=it(B,pe.value,et),pe!==null&&(V=m(pe,V,kt),Wt===null?At=pe:Wt.sibling=pe,Wt=pe);return he&&qs(B,kt),At}for(Ct=o(Ct);!pe.done;kt++,pe=H.next())pe=Y(Ct,B,kt,pe.value,et),pe!==null&&(e&&pe.alternate!==null&&Ct.delete(pe.key===null?kt:pe.key),V=m(pe,V,kt),Wt===null?At=pe:Wt.sibling=pe,Wt=pe);return e&&Ct.forEach(function(Yb){return i(B,Yb)}),he&&qs(B,kt),At}function Se(B,V,H,et){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case O:t:{for(var At=H.key;V!==null;){if(V.key===At){if(At=H.type,At===G){if(V.tag===7){a(B,V.sibling),et=h(V,H.props.children),et.return=B,B=et;break t}}else if(V.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===C&&Ug(At)===V.type){a(B,V.sibling),et=h(V,H.props),rc(et,H),et.return=B,B=et;break t}a(B,V);break}else i(B,V);V=V.sibling}H.type===G?(et=wr(H.props.children,B.mode,et,H.key),et.return=B,B=et):(et=wl(H.type,H.key,H.props,null,B.mode,et),rc(et,H),et.return=B,B=et)}return T(B);case K:t:{for(At=H.key;V!==null;){if(V.key===At)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(B,V.sibling),et=h(V,H.children||[]),et.return=B,B=et;break t}else{a(B,V);break}else i(B,V);V=V.sibling}et=Uu(H,B.mode,et),et.return=B,B=et}return T(B);case C:return At=H._init,H=At(H._payload),Se(B,V,H,et)}if(Ne(H))return Ut(B,V,H,et);if(j(H)){if(At=j(H),typeof At!="function")throw Error(s(150));return H=At.call(H),Mt(B,V,H,et)}if(typeof H.then=="function")return Se(B,V,kh(H),et);if(H.$$typeof===Tt)return Se(B,V,zo(B,H),et);Ph(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(B,V.sibling),et=h(V,H),et.return=B,B=et):(a(B,V),et=Ia(H,B.mode,et),et.return=B,B=et),T(B)):a(B,V)}return function(B,V,H,et){try{ic=0;var At=Se(B,V,H,et);return kl=null,At}catch(Ct){if(Ct===rs||Ct===Cl)throw Ct;var Wt=oi(29,Ct,null,B.mode);return Wt.lanes=et,Wt.return=B,Wt}finally{}}}var Pl=zg(!0),Bg=zg(!1),or=at(null),os=null;function ka(e){var i=e.alternate;ot(vn,vn.current&1),ot(or,e),os===null&&(i===null||oe.current!==null||i.memoizedState!==null)&&(os=e)}function jg(e){if(e.tag===22){if(ot(vn,vn.current),ot(or,e),os===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(os=e)}}else Pa()}function Pa(){ot(vn,vn.current),ot(or,or.current)}function Ks(e){mt(or),os===e&&(os=null),mt(vn)}var vn=at(0);function Lh(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Dd(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nd={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=zi(),h=lt(o);h.payload=i,a!=null&&(h.callback=a),i=gt(e,h,o),i!==null&&(Bi(i,e,o),_t(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=zi(),h=lt(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=gt(e,h,o),i!==null&&(Bi(i,e,o),_t(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=zi(),o=lt(a);o.tag=2,i!=null&&(o.callback=i),i=gt(e,o,a),i!==null&&(Bi(i,e,a),_t(i,e,a))}};function qg(e,i,a,o,h,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,T):i.prototype&&i.prototype.isPureReactComponent?!Ps(a,o)||!Ps(h,m):!0}function Hg(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Nd.enqueueReplaceState(i,i.state,null)}function Qo(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Uh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Fg(e){Uh(e)}function Gg(e){console.error(e)}function Qg(e){Uh(e)}function zh(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Md(e,i,a){return a=lt(a),a.tag=3,a.payload={element:null},a.callback=function(){zh(e,i)},a}function Yg(e){return e=lt(e),e.tag=3,e}function $g(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){Kg(i,a,o)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Kg(i,a,o),typeof h!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function YT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Da(i,a,h,!0),a=or.current,a!==null){switch(a.tag){case 13:return os===null?nm():a.alternate===null&&Ge===0&&(Ge=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),rm(e,o,h)),!1;case 22:return a.flags|=65536,o===Qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),rm(e,o,h)),!1}throw Error(s(435,a.tag))}return rm(e,o,h),nm(),!1}if(he)return i=or.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Po&&(e=Error(s(422),{cause:o}),Uo(si(e,a)))):(o!==Po&&(i=Error(s(423),{cause:o}),Uo(si(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=si(o,a),h=Md(e.stateNode,o,h),pt(e,h),Ge!==4&&(Ge=2)),!1;var m=Error(s(520),{cause:o});if(m=si(m,a),hc===null?hc=[m]:hc.push(m),Ge!==4&&(Ge=2),i===null)return!0;o=si(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Md(a.stateNode,o,e),pt(a,e),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qa===null||!qa.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),$g(h,e,a,o),pt(a,h),!1}a=a.return}while(a!==null);return!1}var Xg=Error(s(461)),Rn=!1;function Un(e,i,a,o){i.child=e===null?Bg(i,null,a,o):Pl(i,e.child,a,o)}function Zg(e,i,a,o,h){a=a.render;var m=i.ref;if("ref"in o){var T={};for(var A in o)A!=="ref"&&(T[A]=o[A])}else T=o;return ns(i),o=ss(e,i,a,T,m,h),A=Kn(),e!==null&&!Rn?(ar(e,i,h),Ys(e,i,h)):(he&&A&&zu(i),i.flags|=1,Un(e,i,o,h),i.child)}function Wg(e,i,a,o,h){if(e===null){var m=a.type;return typeof m=="function"&&!Lu(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Jg(e,i,m,o,h)):(e=wl(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Bd(e,h)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ps,a(T,o)&&e.ref===i.ref)return Ys(e,i,h)}return i.flags|=1,e=Ar(m,o),e.ref=i.ref,e.return=i,i.child=e}function Jg(e,i,a,o,h){if(e!==null){var m=e.memoizedProps;if(Ps(m,o)&&e.ref===i.ref)if(Rn=!1,i.pendingProps=o=m,Bd(e,h))(e.flags&131072)!==0&&(Rn=!0);else return i.lanes=e.lanes,Ys(e,i,h)}return xd(e,i,a,o,h)}function t_(e,i,a){var o=i.pendingProps,h=o.children,m=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=m!==null?m.baseLanes|a:a,e!==null){for(h=i.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~o}else i.childLanes=0,i.child=null;return e_(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Il(i,m!==null?m.cachePool:null),m!==null?$t(i,m):le(),jg(i);else return i.lanes=i.childLanes=536870912,e_(e,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(Il(i,m.cachePool),$t(i,m),Pa(),i.memoizedState=null):(e!==null&&Il(i,null),le(),Pa());return Un(e,i,h,a),i.child}function e_(e,i,a,o){var h=Fu();return h=h===null?null:{parent:Le._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Il(i,null),le(),jg(i),e!==null&&Da(e,i,o,!0),null}function Bh(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function xd(e,i,a,o,h){return ns(i),a=ss(e,i,a,o,void 0,h),o=Kn(),e!==null&&!Rn?(ar(e,i,h),Ys(e,i,h)):(he&&o&&zu(i),i.flags|=1,Un(e,i,a,h),i.child)}function n_(e,i,a,o,h,m){return ns(i),i.updateQueue=null,a=ve(i,o,a,h),Ze(e),o=Kn(),e!==null&&!Rn?(ar(e,i,m),Ys(e,i,m)):(he&&o&&zu(i),i.flags|=1,Un(e,i,a,m),i.child)}function i_(e,i,a,o,h){if(ns(i),i.stateNode===null){var m=Ra,T=a.contextType;typeof T=="object"&&T!==null&&(m=on(T)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},X(i),T=a.contextType,m.context=typeof T=="object"&&T!==null?on(T):Ra,m.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Dd(i,a,T,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Nd.enqueueReplaceState(m,m.state,null),xt(i,o,m,h),Ot(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){m=i.stateNode;var A=i.memoizedProps,D=Qo(a,A);m.props=D;var F=m.context,J=a.contextType;T=Ra,typeof J=="object"&&J!==null&&(T=on(J));var it=a.getDerivedStateFromProps;J=typeof it=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||F!==T)&&Hg(i,m,o,T),U=!1;var Q=i.memoizedState;m.state=Q,xt(i,o,m,h),Ot(),F=i.memoizedState,A||Q!==F||U?(typeof it=="function"&&(Dd(i,a,it,o),F=i.memoizedState),(D=U||qg(i,a,D,o,Q,F,T))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=F),m.props=o,m.state=F,m.context=T,o=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,nt(e,i),T=i.memoizedProps,J=Qo(a,T),m.props=J,it=i.pendingProps,Q=m.context,F=a.contextType,D=Ra,typeof F=="object"&&F!==null&&(D=on(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==it||Q!==D)&&Hg(i,m,o,D),U=!1,Q=i.memoizedState,m.state=Q,xt(i,o,m,h),Ot();var Y=i.memoizedState;T!==it||Q!==Y||U||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof A=="function"&&(Dd(i,a,A,o),Y=i.memoizedState),(J=U||qg(i,a,J,o,Q,Y,D)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Y,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Y,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),m.props=o,m.state=Y,m.context=D,o=J):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),o=!1)}return m=o,Bh(e,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&o?(i.child=Pl(i,e.child,null,h),i.child=Pl(i,null,a,h)):Un(e,i,a,h),i.memoizedState=m.state,e=i.child):e=Ys(e,i,h),e}function r_(e,i,a,o){return Rr(),i.flags|=256,Un(e,i,a,o),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(e){return{baseLanes:e,cachePool:Gu()}}function Pd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=lr),e}function s_(e,i,a){var o=i.pendingProps,h=!1,m=(i.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(vn.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(he){if(h?ka(i):Pa(),he){var A=Ve,D;if(D=A){t:{for(D=A,A=kn;D.nodeType!==8;){if(!A){A=null;break t}if(D=Mr(D.nextSibling),D===null){A=null;break t}}A=D}A!==null?(i.memoizedState={dehydrated:A,treeContext:js!==null?{id:Vn,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},D=oi(18,null,null,0),D.stateNode=A,D.return=i,i.child=D,gn=i,Ve=null,D=!0):D=!1}D||Jr(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return vm(A)?i.lanes=32:i.lanes=536870912,null;Ks(i)}return A=o.children,o=o.fallback,h?(Pa(),h=i.mode,A=jh({mode:"hidden",children:A},h),o=wr(o,h,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,h=i.child,h.memoizedState=kd(a),h.childLanes=Pd(e,T,a),i.memoizedState=Vd,o):(ka(i),Ld(i,A))}if(D=e.memoizedState,D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(ka(i),i.flags&=-257,i=Ud(e,i,a)):i.memoizedState!==null?(Pa(),i.child=e.child,i.flags|=128,i=null):(Pa(),h=o.fallback,A=i.mode,o=jh({mode:"visible",children:o.children},A),h=wr(h,A,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Pl(i,e.child,null,a),o=i.child,o.memoizedState=kd(a),o.childLanes=Pd(e,T,a),i.memoizedState=Vd,i=h);else if(ka(i),vm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var F=T.dgst;T=F,o=Error(s(419)),o.stack="",o.digest=T,Uo({value:o,source:null,stack:null}),i=Ud(e,i,a)}else if(Rn||Da(e,i,a,!1),T=(a&e.childLanes)!==0,Rn||T){if(T=De,T!==null&&(o=a&-a,o=(o&42)!==0?1:jr(o),o=(o&(T.suspendedLanes|a))!==0?0:o,o!==0&&o!==D.retryLane))throw D.retryLane=o,Qn(e,o),Bi(T,e,o),Xg;A.data==="$?"||nm(),i=Ud(e,i,a)}else A.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,Ve=Mr(A.nextSibling),gn=i,he=!0,Hs=null,kn=!1,e!==null&&(gi[_i++]=Vn,gi[_i++]=Sr,gi[_i++]=js,Vn=e.id,Sr=e.overflow,js=i),i=Ld(i,o.children),i.flags|=4096);return i}return h?(Pa(),h=o.fallback,A=i.mode,D=e.child,F=D.sibling,o=Ar(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=Ar(F,h):(h=wr(h,A,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,A=e.child.memoizedState,A===null?A=kd(a):(D=A.cachePool,D!==null?(F=Le._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Gu(),A={baseLanes:A.baseLanes|a,cachePool:D}),h.memoizedState=A,h.childLanes=Pd(e,T,a),i.memoizedState=Vd,o):(ka(i),a=e.child,e=a.sibling,a=Ar(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=a,i.memoizedState=null,a)}function Ld(e,i){return i=jh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function jh(e,i){return e=oi(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ud(e,i,a){return Pl(i,e.child,null,a),e=Ld(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function a_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),ju(e.return,i,a)}function zd(e,i,a,o,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=a,m.tailMode=h)}function o_(e,i,a){var o=i.pendingProps,h=o.revealOrder,m=o.tail;if(Un(e,i,o.children,a),o=vn.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a_(e,a,i);else if(e.tag===19)a_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(ot(vn,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Lh(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),zd(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Lh(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}zd(i,!0,a,null,m);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ys(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ja|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Da(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ar(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Bd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function $T(e,i,a){switch(i.tag){case 3:ft(i,i.stateNode.containerInfo),es(i,Le,e.memoizedState.cache),Rr();break;case 27:case 5:cr(i);break;case 4:ft(i,i.stateNode.containerInfo);break;case 10:es(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ka(i),i.flags|=128,null):(a&i.child.childLanes)!==0?s_(e,i,a):(ka(i),e=Ys(e,i,a),e!==null?e.sibling:null);ka(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Da(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return o_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(vn,vn.current),o)break;return null;case 22:case 23:return i.lanes=0,t_(e,i,a);case 24:es(i,Le,e.memoizedState.cache)}return Ys(e,i,a)}function l_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Rn=!0;else{if(!Bd(e,a)&&(i.flags&128)===0)return Rn=!1,$T(e,i,a);Rn=(e.flags&131072)!==0}else Rn=!1,he&&(i.flags&1048576)!==0&&Eh(i,Ca,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Lu(o)?(e=Qo(o,e),i.tag=1,i=i_(null,i,o,e,a)):(i.tag=0,i=xd(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===zt){i.tag=11,i=Zg(null,i,o,e,a);break t}else if(h===k){i.tag=14,i=Wg(null,i,o,e,a);break t}}throw i=tn(o)||o,Error(s(306,i,""))}}return i;case 0:return xd(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Qo(o,i.pendingProps),i_(e,i,o,h,a);case 3:t:{if(ft(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var m=i.memoizedState;h=m.element,nt(e,i),xt(i,o,null,a);var T=i.memoizedState;if(o=T.cache,es(i,Le,o),o!==m.cache&&qu(i,[Le],a,!0),Ot(),o=T.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=r_(e,i,o,a);break t}else if(o!==h){h=si(Error(s(424)),i),Uo(h),i=r_(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Mr(e.firstChild),gn=i,he=!0,Hs=null,kn=!0,a=Bg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rr(),o===h){i=Ys(e,i,a);break t}Un(e,i,o,a)}i=i.child}return i;case 26:return Bh(e,i),e===null?(a=fy(i.type,null,i.pendingProps,null))?i.memoizedState=a:he||(a=i.type,e=i.pendingProps,o=ef(St.current).createElement(a),o[Qe]=i,o[He]=e,Bn(o,a,e),Jt(o),i.stateNode=o):i.memoizedState=fy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return cr(i),e===null&&he&&(o=i.stateNode=uy(i.type,i.pendingProps,St.current),gn=i,kn=!0,h=Ve,Ga(i.type)?(Em=h,Ve=Mr(o.firstChild)):Ve=h),Un(e,i,i.pendingProps.children,a),Bh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&he&&((h=o=Ve)&&(o=Ab(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,gn=i,Ve=Mr(o.firstChild),kn=!1,h=!0):h=!1),h||Jr(i)),cr(i),h=i.type,m=i.pendingProps,T=e!==null?e.memoizedProps:null,o=m.children,gm(h,m)?o=null:T!==null&&gm(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=ss(e,i,Pn,null,null,a),Ec._currentValue=h),Bh(e,i),Un(e,i,o,a),i.child;case 6:return e===null&&he&&((e=a=Ve)&&(a=wb(a,i.pendingProps,kn),a!==null?(i.stateNode=a,gn=i,Ve=null,e=!0):e=!1),e||Jr(i)),null;case 13:return s_(e,i,a);case 4:return ft(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Pl(i,null,o,a):Un(e,i,o,a),i.child;case 11:return Zg(e,i,i.type,i.pendingProps,a);case 7:return Un(e,i,i.pendingProps,a),i.child;case 8:return Un(e,i,i.pendingProps.children,a),i.child;case 12:return Un(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,es(i,i.type,o.value),Un(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,ns(i),h=on(h),o=o(h),i.flags|=1,Un(e,i,o,a),i.child;case 14:return Wg(e,i,i.type,i.pendingProps,a);case 15:return Jg(e,i,i.type,i.pendingProps,a);case 19:return o_(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=jh(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ar(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return t_(e,i,a);case 24:return ns(i),o=on(Le),e===null?(h=Fu(),h===null&&(h=De,m=Rl(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:o,cache:h},X(i),es(i,Le,h)):((e.lanes&a)!==0&&(nt(e,i),xt(i,null,null,a),Ot()),h=e.memoizedState,m=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),es(i,Le,o)):(o=m.cache,es(i,Le,o),o!==h.cache&&qu(i,[Le],a,!0))),Un(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $s(e){e.flags|=4}function u_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_y(i)){if(i=or.current,i!==null&&((fe&4194048)===fe?os!==null:(fe&62914560)!==fe&&(fe&536870912)===0||i!==os))throw _=Qu,jo;e.flags|=8192}}function qh(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?vo():536870912,e.lanes|=i,Bl|=i)}function sc(e,i){if(!he)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ze(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function XT(e,i,a){var o=i.pendingProps;switch(Oa(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(i),null;case 1:return ze(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Cr(Le),ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lo(i)?$s(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ts())),ze(i),null;case 26:return a=i.memoizedState,e===null?($s(i),a!==null?(ze(i),u_(i,a)):(ze(i),i.flags&=-16777217)):a?a!==e.memoizedState?($s(i),ze(i),u_(i,a)):(ze(i),i.flags&=-16777217):(e.memoizedProps!==o&&$s(i),ze(i),i.flags&=-16777217),null;case 27:hr(i),a=St.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ze(i),null}e=wt.current,Lo(i)?Th(i):(e=uy(h,o,a),i.stateNode=e,$s(i))}return ze(i),null;case 5:if(hr(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ze(i),null}if(e=wt.current,Lo(i))Th(i);else{switch(h=ef(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Qe]=i,e[He]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Bn(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&$s(i)}}return ze(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Lo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=gn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Qe]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ny(e.nodeValue,a)),e||Jr(i)}else e=ef(e).createTextNode(o),e[Qe]=i,i.stateNode=e}return ze(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Lo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Qe]=i}else Rr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ze(i),h=!1}else h=ts(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ks(i),i):(Ks(i),null)}if(Ks(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),qh(i,i.updateQueue),ze(i),null;case 4:return ti(),e===null&&hm(i.stateNode.containerInfo),ze(i),null;case 10:return Cr(i.type),ze(i),null;case 19:if(mt(vn),h=i.memoizedState,h===null)return ze(i),null;if(o=(i.flags&128)!==0,m=h.rendering,m===null)if(o)sc(h,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Lh(e),m!==null){for(i.flags|=128,sc(h,!1),e=m.updateQueue,i.updateQueue=e,qh(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vh(a,e),a=a.sibling;return ot(vn,vn.current&1|2),i.child}e=e.sibling}h.tail!==null&&ui()>Gh&&(i.flags|=128,o=!0,sc(h,!1),i.lanes=4194304)}else{if(!o)if(e=Lh(m),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,qh(i,e),sc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!he)return ze(i),null}else 2*ui()-h.renderingStartTime>Gh&&a!==536870912&&(i.flags|=128,o=!0,sc(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(e=h.last,e!==null?e.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ui(),i.sibling=null,e=vn.current,ot(vn,o?e&1|2:e&1),i):(ze(i),null);case 22:case 23:return Ks(i),Gt(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ze(i),i.subtreeFlags&6&&(i.flags|=8192)):ze(i),a=i.updateQueue,a!==null&&qh(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&mt(Qs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Cr(Le),ze(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function ZT(e,i){switch(Oa(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Cr(Le),ti(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return hr(i),null;case 13:if(Ks(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Rr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return mt(vn),null;case 4:return ti(),null;case 10:return Cr(i.type),null;case 22:case 23:return Ks(i),Gt(),e!==null&&mt(Qs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Cr(Le),null;case 25:return null;default:return null}}function c_(e,i){switch(Oa(i),i.tag){case 3:Cr(Le),ti();break;case 26:case 27:case 5:hr(i);break;case 4:ti();break;case 13:Ks(i);break;case 19:mt(vn);break;case 10:Cr(i.type);break;case 22:case 23:Ks(i),Gt(),e!==null&&mt(Qs);break;case 24:Cr(Le)}}function ac(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var m=a.create,T=a.inst;o=m(),T.destroy=o}a=a.next}while(a!==h)}}catch(A){Ie(i,i.return,A)}}function La(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var T=o.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=i;var D=a,F=A;try{F()}catch(J){Ie(h,D,J)}}}o=o.next}while(o!==m)}}catch(J){Ie(i,i.return,J)}}function h_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Bt(i,a)}catch(o){Ie(e,e.return,o)}}}function f_(e,i,a){a.props=Qo(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ie(e,i,o)}}function oc(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Ie(e,i,h)}}function ls(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ie(e,i,h)}else a.current=null}function d_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ie(e,e.return,h)}}function jd(e,i,a){try{var o=e.stateNode;yb(o,e.type,a,i),o[He]=i}catch(h){Ie(e,e.return,h)}}function m_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function qd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||m_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=tf));else if(o!==4&&(o===27&&Ga(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Hd(e,i,a),e=e.sibling;e!==null;)Hd(e,i,a),e=e.sibling}function Hh(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Ga(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Hh(e,i,a),e=e.sibling;e!==null;)Hh(e,i,a),e=e.sibling}function p_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bn(i,o,a),i[Qe]=e,i[He]=a}catch(m){Ie(e,e.return,m)}}var Xs=!1,We=!1,Fd=!1,g_=typeof WeakSet=="function"?WeakSet:Set,In=null;function WT(e,i){if(e=e.containerInfo,mm=lf,e=Iu(e),El(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var T=0,A=-1,D=-1,F=0,J=0,it=e,Q=null;e:for(;;){for(var Y;it!==a||h!==0&&it.nodeType!==3||(A=T+h),it!==m||o!==0&&it.nodeType!==3||(D=T+o),it.nodeType===3&&(T+=it.nodeValue.length),(Y=it.firstChild)!==null;)Q=it,it=Y;for(;;){if(it===e)break e;if(Q===a&&++F===h&&(A=T),Q===m&&++J===o&&(D=T),(Y=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=Y}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:e,selectionRange:a},lf=!1,In=i;In!==null;)if(i=In,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,In=e;else for(;In!==null;){switch(i=In,m=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var Ut=Qo(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Ut,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){Ie(a,a.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ym(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ym(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,In=e;break}In=i.return}}function __(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ua(e,a),o&4&&ac(5,a);break;case 1:if(Ua(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Ie(a,a.return,T)}else{var h=Qo(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ie(a,a.return,T)}}o&64&&h_(a),o&512&&oc(a,a.return);break;case 3:if(Ua(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Bt(e,i)}catch(T){Ie(a,a.return,T)}}break;case 27:i===null&&o&4&&p_(a);case 26:case 5:Ua(e,a),i===null&&o&4&&d_(a),o&512&&oc(a,a.return);break;case 12:Ua(e,a);break;case 13:Ua(e,a),o&4&&E_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ob.bind(null,a),Sb(e,a))));break;case 22:if(o=a.memoizedState!==null||Xs,!o){i=i!==null&&i.memoizedState!==null||We,h=Xs;var m=We;Xs=o,(We=i)&&!m?za(e,a,(a.subtreeFlags&8772)!==0):Ua(e,a),Xs=h,We=m}break;case 30:break;default:Ua(e,a)}}function y_(e){var i=e.alternate;i!==null&&(e.alternate=null,y_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Hr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,vi=!1;function Zs(e,i,a){for(a=a.child;a!==null;)v_(e,i,a),a=a.sibling}function v_(e,i,a){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:We||ls(a,i),Zs(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||ls(a,i);var o=Pe,h=vi;Ga(a.type)&&(Pe=a.stateNode,vi=!1),Zs(e,i,a),gc(a.stateNode),Pe=o,vi=h;break;case 5:We||ls(a,i);case 6:if(o=Pe,h=vi,Pe=null,Zs(e,i,a),Pe=o,vi=h,Pe!==null)if(vi)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(a.stateNode)}catch(m){Ie(a,i,m)}else try{Pe.removeChild(a.stateNode)}catch(m){Ie(a,i,m)}break;case 18:Pe!==null&&(vi?(e=Pe,oy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),wc(e)):oy(Pe,a.stateNode));break;case 4:o=Pe,h=vi,Pe=a.stateNode.containerInfo,vi=!0,Zs(e,i,a),Pe=o,vi=h;break;case 0:case 11:case 14:case 15:We||La(2,a,i),We||La(4,a,i),Zs(e,i,a);break;case 1:We||(ls(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&f_(a,i,o)),Zs(e,i,a);break;case 21:Zs(e,i,a);break;case 22:We=(o=We)||a.memoizedState!==null,Zs(e,i,a),We=o;break;default:Zs(e,i,a)}}function E_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wc(e)}catch(a){Ie(i,i.return,a)}}function JT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new g_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new g_),i;default:throw Error(s(435,e.tag))}}function Gd(e,i){var a=JT(e);i.forEach(function(o){var h=lb.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Pi(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=e,T=i,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ga(A.type)){Pe=A.stateNode,vi=!1;break t}break;case 5:Pe=A.stateNode,vi=!1;break t;case 3:case 4:Pe=A.stateNode.containerInfo,vi=!0;break t}A=A.return}if(Pe===null)throw Error(s(160));v_(m,T,h),Pe=null,vi=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)T_(i,e),i=i.sibling}var Nr=null;function T_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pi(i,e),Li(e),o&4&&(La(3,e,e.return),ac(3,e),La(5,e,e.return));break;case 1:Pi(i,e),Li(e),o&512&&(We||a===null||ls(a,a.return)),o&64&&Xs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Nr;if(Pi(i,e),Li(e),o&512&&(We||a===null||ls(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Gi]||m[Qe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),Bn(m,o,a),m[Qe]=e,Jt(m),o=m;break t;case"link":var T=py("link","href",h).get(o+(a.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(A,1);break e}}m=h.createElement(o),Bn(m,o,a),h.head.appendChild(m);break;case"meta":if(T=py("meta","content",h).get(o+(a.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(A,1);break e}}m=h.createElement(o),Bn(m,o,a),h.head.appendChild(m);break;default:throw Error(s(468,o))}m[Qe]=e,Jt(m),o=m}e.stateNode=o}else gy(h,e.type,e.stateNode);else e.stateNode=my(h,o,e.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?gy(h,e.type,e.stateNode):my(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jd(e,e.memoizedProps,a.memoizedProps)}break;case 27:Pi(i,e),Li(e),o&512&&(We||a===null||ls(a,a.return)),a!==null&&o&4&&jd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Pi(i,e),Li(e),o&512&&(We||a===null||ls(a,a.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(Y){Ie(e,e.return,Y)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jd(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Fd=!0);break;case 6:if(Pi(i,e),Li(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Y){Ie(e,e.return,Y)}}break;case 3:if(sf=null,h=Nr,Nr=nf(i.containerInfo),Pi(i,e),Nr=h,Li(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{wc(i.containerInfo)}catch(Y){Ie(e,e.return,Y)}Fd&&(Fd=!1,b_(e));break;case 4:o=Nr,Nr=nf(e.stateNode.containerInfo),Pi(i,e),Li(e),Nr=o;break;case 12:Pi(i,e),Li(e);break;case 13:Pi(i,e),Li(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zd=ui()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gd(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Xs,J=We;if(Xs=F||h,We=J||D,Pi(i,e),We=J,Xs=F,Li(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Xs||We||Ko(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(m=D.stateNode,h)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var it=D.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){Ie(D,D.return,Y)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Y){Ie(D,D.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gd(e,a))));break;case 19:Pi(i,e),Li(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gd(e,o)));break;case 30:break;case 21:break;default:Pi(i,e),Li(e)}}function Li(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(m_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=qd(e);Hh(e,m,h);break;case 5:var T=a.stateNode;a.flags&32&&(dn(T,""),a.flags&=-33);var A=qd(e);Hh(e,A,T);break;case 3:case 4:var D=a.stateNode.containerInfo,F=qd(e);Hd(e,F,D);break;default:throw Error(s(161))}}catch(J){Ie(e,e.return,J)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function b_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;b_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ua(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)__(e,i.alternate,i),i=i.sibling}function Ko(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:La(4,i,i.return),Ko(i);break;case 1:ls(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&f_(i,i.return,a),Ko(i);break;case 27:gc(i.stateNode);case 26:case 5:ls(i,i.return),Ko(i);break;case 22:i.memoizedState===null&&Ko(i);break;case 30:Ko(i);break;default:Ko(i)}e=e.sibling}}function za(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,m=i,T=m.flags;switch(m.tag){case 0:case 11:case 15:za(h,m,a),ac(4,m);break;case 1:if(za(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ie(o,o.return,F)}if(o=m,h=o.updateQueue,h!==null){var A=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Pt(D[h],A)}catch(F){Ie(o,o.return,F)}}a&&T&64&&h_(m),oc(m,m.return);break;case 27:p_(m);case 26:case 5:za(h,m,a),a&&o===null&&T&4&&d_(m),oc(m,m.return);break;case 12:za(h,m,a);break;case 13:za(h,m,a),a&&T&4&&E_(h,m);break;case 22:m.memoizedState===null&&za(h,m,a),oc(m,m.return);break;case 30:break;default:za(h,m,a)}i=i.sibling}}function Qd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gs(a))}function Kd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gs(e))}function us(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(e,i,a,o),i=i.sibling}function A_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:us(e,i,a,o),h&2048&&ac(9,i);break;case 1:us(e,i,a,o);break;case 3:us(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gs(e)));break;case 12:if(h&2048){us(e,i,a,o),e=i.stateNode;try{var m=i.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Ie(i,i.return,D)}}else us(e,i,a,o);break;case 13:us(e,i,a,o);break;case 23:break;case 22:m=i.stateNode,T=i.alternate,i.memoizedState!==null?m._visibility&2?us(e,i,a,o):lc(e,i):m._visibility&2?us(e,i,a,o):(m._visibility|=2,Ll(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Qd(T,i);break;case 24:us(e,i,a,o),h&2048&&Kd(i.alternate,i);break;default:us(e,i,a,o)}}function Ll(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=e,T=i,A=a,D=o,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ll(m,T,A,D,h),ac(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Ll(m,T,A,D,h):lc(m,T):(J._visibility|=2,Ll(m,T,A,D,h)),h&&F&2048&&Qd(T.alternate,T);break;case 24:Ll(m,T,A,D,h),h&&F&2048&&Kd(T.alternate,T);break;default:Ll(m,T,A,D,h)}i=i.sibling}}function lc(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:lc(a,o),h&2048&&Qd(o.alternate,o);break;case 24:lc(a,o),h&2048&&Kd(o.alternate,o);break;default:lc(a,o)}i=i.sibling}}var uc=8192;function Ul(e){if(e.subtreeFlags&uc)for(e=e.child;e!==null;)w_(e),e=e.sibling}function w_(e){switch(e.tag){case 26:Ul(e),e.flags&uc&&e.memoizedState!==null&&Ub(Nr,e.memoizedState,e.memoizedProps);break;case 5:Ul(e);break;case 3:case 4:var i=Nr;Nr=nf(e.stateNode.containerInfo),Ul(e),Nr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=uc,uc=16777216,Ul(e),uc=i):Ul(e));break;default:Ul(e)}}function S_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];In=o,I_(o,e)}S_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)R_(e),e=e.sibling}function R_(e){switch(e.tag){case 0:case 11:case 15:cc(e),e.flags&2048&&La(9,e,e.return);break;case 3:cc(e);break;case 12:cc(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Fh(e)):cc(e);break;default:cc(e)}}function Fh(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];In=o,I_(o,e)}S_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:La(8,i,i.return),Fh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fh(i));break;default:Fh(i)}e=e.sibling}}function I_(e,i){for(;In!==null;){var a=In;switch(a.tag){case 0:case 11:case 15:La(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Gs(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,In=o;else t:for(a=e;In!==null;){o=In;var h=o.sibling,m=o.return;if(y_(o),o===a){In=null;break t}if(h!==null){h.return=m,In=h;break t}In=m}}}var tb={getCacheForType:function(e){var i=on(Le),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},eb=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,te=null,fe=0,be=0,Ui=null,Ba=!1,zl=!1,Yd=!1,Ws=0,Ge=0,ja=0,Yo=0,$d=0,lr=0,Bl=0,hc=null,Ei=null,Xd=!1,Zd=0,Gh=1/0,Qh=null,qa=null,zn=0,Ha=null,jl=null,ql=0,Wd=0,Jd=null,C_=null,fc=0,tm=null;function zi(){if((Te&2)!==0&&fe!==0)return fe&-fe;if(W.T!==null){var e=li;return e!==0?e:om()}return qr()}function O_(){lr===0&&(lr=(fe&536870912)===0||he?yo():536870912);var e=or.current;return e!==null&&(e.flags|=32),lr}function Bi(e,i,a){(e===De&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Hl(e,0),Fa(e,fe,lr,!1)),ci(e,a),((Te&2)===0||e!==De)&&(e===De&&((Te&2)===0&&(Yo|=a),Ge===4&&Fa(e,fe,lr,!1)),cs(e))}function D_(e,i,a){if((Te&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Ts(e,i),h=o?rb(e,i):im(e,i,!0),m=o;do{if(h===0){zl&&!o&&Fa(e,i,0,!1);break}else{if(a=e.current.alternate,m&&!nb(a)){h=im(e,i,!1),m=!1;continue}if(h===2){if(m=i,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var A=e;h=hc;var D=A.current.memoizedState.isDehydrated;if(D&&(Hl(A,T).flags|=256),T=im(A,T,!1),T!==2){if(Yd&&!D){A.errorRecoveryDisabledLanes|=m,Yo|=m,h=4;break t}m=Ei,Ei=h,m!==null&&(Ei===null?Ei=m:Ei.push.apply(Ei,m))}h=T}if(m=!1,h!==2)continue}}if(h===1){Hl(e,0),Fa(e,i,0,!0);break}t:{switch(o=e,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fa(o,i,lr,!Ba);break t;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Zd+300-ui(),10<h)){if(Fa(o,i,lr,!Ba),ca(o,0,!0)!==0)break t;o.timeoutHandle=sy(N_.bind(null,o,a,Ei,Qh,Xd,i,lr,Yo,Bl,Ba,m,2,-0,0),h);break t}N_(o,a,Ei,Qh,Xd,i,lr,Yo,Bl,Ba,m,0,-0,0)}}break}while(!0);cs(e)}function N_(e,i,a,o,h,m,T,A,D,F,J,it,Q,Y){if(e.timeoutHandle=-1,it=i.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:Lb},w_(i),it=zb(),it!==null)){e.cancelPendingCommit=it(U_.bind(null,e,i,m,a,o,h,T,A,D,J,1,Q,Y)),Fa(e,m,T,!F);return}U_(e,i,m,a,o,h,T,A,D)}function nb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!Gn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fa(e,i,a,o){i&=~$d,i&=~Yo,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var m=31-qe(h),T=1<<m;o[m]=-1,h&=~T}a!==0&&Ii(e,a,i)}function Kh(){return(Te&6)===0?(dc(0),!1):!0}function em(){if(te!==null){if(be===0)var e=te.return;else e=te,Ir=Fs=null,xa(e),kl=null,ic=0,e=te;for(;e!==null;)c_(e.alternate,e),e=e.return;te=null}}function Hl(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Eb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),em(),De=e,te=a=Ar(e.current,null),fe=i,be=0,Ui=null,Ba=!1,zl=Ts(e,i),Yd=!1,Bl=lr=$d=Yo=ja=Ge=0,Ei=hc=null,Xd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-qe(o),m=1<<h;i|=e[h],o&=~m}return Ws=i,Tl(),a}function M_(e,i){yt=null,W.H=Vh,i===rs||i===Cl?(i=S(),be=3):i===jo?(i=S(),be=4):be=i===Xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ui=i,te===null&&(Ge=1,zh(e,si(i,e.current)))}function x_(){var e=W.H;return W.H=Vh,e===null?Vh:e}function V_(){var e=W.A;return W.A=tb,e}function nm(){Ge=4,Ba||(fe&4194048)!==fe&&or.current!==null||(zl=!0),(ja&134217727)===0&&(Yo&134217727)===0||De===null||Fa(De,fe,lr,!1)}function im(e,i,a){var o=Te;Te|=2;var h=x_(),m=V_();(De!==e||fe!==i)&&(Qh=null,Hl(e,i)),i=!1;var T=Ge;t:do try{if(be!==0&&te!==null){var A=te,D=Ui;switch(be){case 8:em(),T=6;break t;case 3:case 2:case 9:case 6:or.current===null&&(i=!0);var F=be;if(be=0,Ui=null,Fl(e,A,D,F),a&&zl){T=0;break t}break;default:F=be,be=0,Ui=null,Fl(e,A,D,F)}}ib(),T=Ge;break}catch(J){M_(e,J)}while(!0);return i&&e.shellSuspendCounter++,Ir=Fs=null,Te=o,W.H=h,W.A=m,te===null&&(De=null,fe=0,Tl()),T}function ib(){for(;te!==null;)k_(te)}function rb(e,i){var a=Te;Te|=2;var o=x_(),h=V_();De!==e||fe!==i?(Qh=null,Gh=ui()+500,Hl(e,i)):zl=Ts(e,i);t:do try{if(be!==0&&te!==null){i=te;var m=Ui;e:switch(be){case 1:be=0,Ui=null,Fl(e,i,m,1);break;case 2:case 9:if(Ma(m)){be=0,Ui=null,P_(i);break}i=function(){be!==2&&be!==9||De!==e||(be=7),cs(e)},m.then(i,i);break t;case 3:be=7;break t;case 4:be=5;break t;case 7:Ma(m)?(be=0,Ui=null,P_(i)):(be=0,Ui=null,Fl(e,i,m,7));break;case 5:var T=null;switch(te.tag){case 26:T=te.memoizedState;case 5:case 27:var A=te;if(!T||_y(T)){be=0,Ui=null;var D=A.sibling;if(D!==null)te=D;else{var F=A.return;F!==null?(te=F,Yh(F)):te=null}break e}}be=0,Ui=null,Fl(e,i,m,5);break;case 6:be=0,Ui=null,Fl(e,i,m,6);break;case 8:em(),Ge=6;break t;default:throw Error(s(462))}}sb();break}catch(J){M_(e,J)}while(!0);return Ir=Fs=null,W.H=o,W.A=h,Te=a,te!==null?0:(De=null,fe=0,Tl(),Ge)}function sb(){for(;te!==null&&!fr();)k_(te)}function k_(e){var i=l_(e.alternate,e,Ws);e.memoizedProps=e.pendingProps,i===null?Yh(e):te=i}function P_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=n_(a,i,i.pendingProps,i.type,void 0,fe);break;case 11:i=n_(a,i,i.pendingProps,i.type.render,i.ref,fe);break;case 5:xa(i);default:c_(a,i),i=te=vh(i,Ws),i=l_(a,i,Ws)}e.memoizedProps=e.pendingProps,i===null?Yh(e):te=i}function Fl(e,i,a,o){Ir=Fs=null,xa(i),kl=null,ic=0;var h=i.return;try{if(YT(e,h,i,a,fe)){Ge=1,zh(e,si(a,e.current)),te=null;return}}catch(m){if(h!==null)throw te=h,m;Ge=1,zh(e,si(a,e.current)),te=null;return}i.flags&32768?(he||o===1?e=!0:zl||(fe&536870912)!==0?e=!1:(Ba=e=!0,(o===2||o===9||o===3||o===6)&&(o=or.current,o!==null&&o.tag===13&&(o.flags|=16384))),L_(i,e)):Yh(i)}function Yh(e){var i=e;do{if((i.flags&32768)!==0){L_(i,Ba);return}e=i.return;var a=XT(i.alternate,i,Ws);if(a!==null){te=a;return}if(i=i.sibling,i!==null){te=i;return}te=i=e}while(i!==null);Ge===0&&(Ge=5)}function L_(e,i){do{var a=ZT(e.alternate,e);if(a!==null){a.flags&=32767,te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){te=e;return}te=e=a}while(e!==null);Ge=6,te=null}function U_(e,i,a,o,h,m,T,A,D){e.cancelPendingCommit=null;do $h();while(zn!==0);if((Te&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Vu,ha(e,a,m,T,A,D),e===De&&(te=De=null,fe=0),jl=i,Ha=e,ql=a,Wd=m,Jd=h,C_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ub(vs,function(){return H_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,h=ht.p,ht.p=2,T=Te,Te|=4;try{WT(e,i,a)}finally{Te=T,ht.p=h,W.T=o}}zn=1,z_(),B_(),j_()}}function z_(){if(zn===1){zn=0;var e=Ha,i=jl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var o=ht.p;ht.p=2;var h=Te;Te|=4;try{T_(i,e);var m=pm,T=Iu(e.containerInfo),A=m.focusedElem,D=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&dh(A.ownerDocument.documentElement,A)){if(D!==null&&El(A)){var F=D.start,J=D.end;if(J===void 0&&(J=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(J,A.value.length);else{var it=A.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),Ut=A.textContent.length,Mt=Math.min(D.start,Ut),Se=D.end===void 0?Mt:Math.min(D.end,Ut);!Y.extend&&Mt>Se&&(T=Se,Se=Mt,Mt=T);var B=fh(A,Mt),V=fh(A,Se);if(B&&V&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=it.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),Mt>Se?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(it=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&it.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<it.length;A++){var et=it[A];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}lf=!!mm,pm=mm=null}finally{Te=h,ht.p=o,W.T=a}}e.current=i,zn=2}}function B_(){if(zn===2){zn=0;var e=Ha,i=jl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var o=ht.p;ht.p=2;var h=Te;Te|=4;try{__(e,i.alternate,i)}finally{Te=h,ht.p=o,W.T=a}}zn=3}}function j_(){if(zn===4||zn===3){zn=0,dr();var e=Ha,i=jl,a=ql,o=C_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zn=5:(zn=0,jl=Ha=null,q_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(qa=null),fa(a),i=i.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(Me,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=W.T,h=ht.p,ht.p=2,W.T=null;try{for(var m=e.onRecoverableError,T=0;T<o.length;T++){var A=o[T];m(A.value,{componentStack:A.stack})}}finally{W.T=i,ht.p=h}}(ql&3)!==0&&$h(),cs(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===tm?fc++:(fc=0,tm=e):fc=0,dc(0)}}function q_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Gs(i)))}function $h(e){return z_(),B_(),j_(),H_()}function H_(){if(zn!==5)return!1;var e=Ha,i=Wd;Wd=0;var a=fa(ql),o=W.T,h=ht.p;try{ht.p=32>a?32:a,W.T=null,a=Jd,Jd=null;var m=Ha,T=ql;if(zn=0,jl=Ha=null,ql=0,(Te&6)!==0)throw Error(s(331));var A=Te;if(Te|=4,R_(m.current),A_(m,m.current,T,a),Te=A,dc(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(Me,m)}catch{}return!0}finally{ht.p=h,W.T=o,q_(e,i)}}function F_(e,i,a){i=si(a,i),i=Md(e.stateNode,i,2),e=gt(e,i,2),e!==null&&(ci(e,2),cs(e))}function Ie(e,i,a){if(e.tag===3)F_(e,e,a);else for(;i!==null;){if(i.tag===3){F_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){e=si(a,e),a=Yg(2),o=gt(i,a,2),o!==null&&($g(a,o,i,e),ci(o,2),cs(o));break}}i=i.return}}function rm(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new eb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Yd=!0,h.add(a),e=ab.bind(null,e,i,a),i.then(e,e))}function ab(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(fe&a)===a&&(Ge===4||Ge===3&&(fe&62914560)===fe&&300>ui()-Zd?(Te&2)===0&&Hl(e,0):$d|=a,Bl===fe&&(Bl=0)),cs(e)}function G_(e,i){i===0&&(i=vo()),e=Qn(e,i),e!==null&&(ci(e,i),cs(e))}function ob(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),G_(e,a)}function lb(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),G_(e,a)}function ub(e,i){return wi(e,i)}var Xh=null,Gl=null,sm=!1,Zh=!1,am=!1,$o=0;function cs(e){e!==Gl&&e.next===null&&(Gl===null?Xh=Gl=e:Gl=Gl.next=e),Zh=!0,sm||(sm=!0,hb())}function dc(e,i){if(!am&&Zh){am=!0;do for(var a=!1,o=Xh;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var T=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-qe(42|e)+1)-1,m&=h&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,$_(o,m))}else m=fe,m=ca(o,o===De?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Ts(o,m)||(a=!0,$_(o,m));o=o.next}while(a);am=!1}}function cb(){Q_()}function Q_(){Zh=sm=!1;var e=0;$o!==0&&(vb()&&(e=$o),$o=0);for(var i=ui(),a=null,o=Xh;o!==null;){var h=o.next,m=K_(o,i);m===0?(o.next=null,a===null?Xh=h:a.next=h,h===null&&(Gl=a)):(a=o,(e!==0||(m&3)!==0)&&(Zh=!0)),o=h}dc(e)}function K_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-qe(m),A=1<<T,D=h[T];D===-1?((A&a)===0||(A&o)!==0)&&(h[T]=_o(A,i)):D<=i&&(e.expiredLanes|=A),m&=~A}if(i=De,a=fe,a=ca(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(be===2||be===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ur(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ts(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Ur(o),fa(a)){case 2:case 8:a=la;break;case 32:a=vs;break;case 268435456:a=ua;break;default:a=vs}return o=Y_.bind(null,e),a=wi(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Ur(o),e.callbackPriority=2,e.callbackNode=null,2}function Y_(e,i){if(zn!==0&&zn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($h()&&e.callbackNode!==a)return null;var o=fe;return o=ca(e,e===De?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(D_(e,o,i),K_(e,ui()),e.callbackNode!=null&&e.callbackNode===a?Y_.bind(null,e):null)}function $_(e,i){if($h())return null;D_(e,i,!0)}function hb(){Tb(function(){(Te&6)!==0?wi(go,cb):Q_()})}function om(){return $o===0&&($o=yo()),$o}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function Z_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function fb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var m=X_((h[He]||null).action),T=o.submitter;T&&(i=(i=T[He]||null)?X_(i.formAction):T.getAttribute("formAction"),i!==null&&(m=i,T=null));var A=new Gr("action","action",null,o,h);e.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if($o!==0){var D=T?Z_(h,T):new FormData(h);Id(a,{pending:!0,data:D,method:h.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=T?Z_(h,T):new FormData(h),Id(a,{pending:!0,data:D,method:h.method,action:m},m,D))},currentTarget:h}]})}}for(var lm=0;lm<xu.length;lm++){var um=xu[lm],db=um.toLowerCase(),mb=um[0].toUpperCase()+um.slice(1);ki(db,"on"+mb)}ki(Zr,"onAnimationEnd"),ki(sr,"onAnimationIteration"),ki(Du,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Td,"onTransitionRun"),ki(gh,"onTransitionStart"),ki(_h,"onTransitionCancel"),ki(Nu,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function W_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var m=void 0;if(i)for(var T=o.length-1;0<=T;T--){var A=o[T],D=A.instance,F=A.currentTarget;if(A=A.listener,D!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=F;try{m(h)}catch(J){Uh(J)}h.currentTarget=null,m=D}else for(T=0;T<o.length;T++){if(A=o[T],D=A.instance,F=A.currentTarget,A=A.listener,D!==m&&h.isPropagationStopped())break t;m=A,h.currentTarget=F;try{m(h)}catch(J){Uh(J)}h.currentTarget=null,m=D}}}}function ee(e,i){var a=i[To];a===void 0&&(a=i[To]=new Set);var o=e+"__bubble";a.has(o)||(J_(i,e,2,!1),a.add(o))}function cm(e,i,a){var o=0;i&&(o|=4),J_(a,e,o,i)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function hm(e){if(!e[Wh]){e[Wh]=!0,fn.forEach(function(a){a!=="selectionchange"&&(pb.has(a)||cm(a,!1,e),cm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Wh]||(i[Wh]=!0,cm("selectionchange",!1,i))}}function J_(e,i,a,o){switch(Ay(i)){case 2:var h=qb;break;case 8:h=Hb;break;default:h=Sm}a=h.bind(null,i,a,e),h=void 0,!mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function fm(e,i,a,o,h){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var T=o.tag;if(T===3||T===4){var A=o.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=o.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Ci(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){o=m=T;continue t}A=A.parentNode}}o=o.return}wo(function(){var F=m,J=Mn(a),it=[];t:{var Q=Mu.get(e);if(Q!==void 0){var Y=Gr,Ut=e;switch(e){case"keypress":if(nr(a)===0)break t;case"keydown":case"keyup":Y=ks;break;case"focusin":Ut="focus",Y=Ds;break;case"focusout":Ut="blur",Y=Ds;break;case"beforeblur":case"afterblur":Y=Ds;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=pl;break;case Zr:case sr:case Du:Y=Ns;break;case Nu:Y=gl;break;case"scroll":case"scrollend":Y=Ro;break;case"wheel":Y=Ta;break;case"copy":case"cut":case"paste":Y=Ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Mi;break;case"toggle":case"beforetoggle":Y=Mo}var Mt=(i&4)!==0,Se=!Mt&&(e==="scroll"||e==="scrollend"),B=Mt?Q!==null?Q+"Capture":null:Q;Mt=[];for(var V=F,H;V!==null;){var et=V;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||B===null||(et=Fr(V,B),et!=null&&Mt.push(pc(V,et,H))),Se)break;V=V.return}0<Mt.length&&(Q=new Y(Q,Ut,null,a,J),it.push({event:Q,listeners:Mt}))}}if((i&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",Q&&a!==wn&&(Ut=a.relatedTarget||a.fromElement)&&(Ci(Ut)||Ut[hi]))break t;if((Y||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(Ut=a.relatedTarget||a.toElement,Y=F,Ut=Ut?Ci(Ut):null,Ut!==null&&(Se=c(Ut),Mt=Ut.tag,Ut!==Se||Mt!==5&&Mt!==27&&Mt!==6)&&(Ut=null)):(Y=null,Ut=F),Y!==Ut)){if(Mt=pn,et="onMouseLeave",B="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=Mi,et="onPointerLeave",B="onPointerEnter",V="pointer"),Se=Y==null?Q:Ki(Y),H=Ut==null?Q:Ki(Ut),Q=new Mt(et,V+"leave",Y,a,J),Q.target=Se,Q.relatedTarget=H,et=null,Ci(J)===F&&(Mt=new Mt(B,V+"enter",Ut,a,J),Mt.target=H,Mt.relatedTarget=Se,et=Mt),Se=et,Y&&Ut)e:{for(Mt=Y,B=Ut,V=0,H=Mt;H;H=Ql(H))V++;for(H=0,et=B;et;et=Ql(et))H++;for(;0<V-H;)Mt=Ql(Mt),V--;for(;0<H-V;)B=Ql(B),H--;for(;V--;){if(Mt===B||B!==null&&Mt===B.alternate)break e;Mt=Ql(Mt),B=Ql(B)}Mt=null}else Mt=null;Y!==null&&ty(it,Q,Y,Mt,!1),Ut!==null&&Se!==null&&ty(it,Se,Ut,Mt,!0)}}t:{if(Q=F?Ki(F):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var At=ah;else if($e(Q))if(wu)At=hh;else{At=uh;var Wt=vd}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Rs(F.elementType)&&(At=ah):At=ch;if(At&&(At=At(e,F))){Xe(it,At,a,J);break t}Wt&&Wt(e,Q,F),e==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Zi(Q,"number",Q.value)}switch(Wt=F?Ki(F):window,e){case"focusin":($e(Wt)||Wt.contentEditable==="true")&&(wa=Wt,Cu=F,Vo=null);break;case"focusout":Vo=Cu=wa=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,mh(it,a,J);break;case"selectionchange":if(Ed)break;case"keydown":case"keyup":mh(it,a,J)}var Ct;if(rr)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else ie?$(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(v&&a.locale!=="ko"&&(ie||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ie&&(Ct=Os()):(Di=J,er="value"in Di?Di.value:Di.textContent,ie=!0)),Wt=Jh(F,kt),0<Wt.length&&(kt=new Io(kt,e,null,a,J),it.push({event:kt,listeners:Wt}),Ct?kt.data=Ct:(Ct=ct(a),Ct!==null&&(kt.data=Ct)))),(Ct=p?Ye(e,a):re(e,a))&&(kt=Jh(F,"onBeforeInput"),0<kt.length&&(Wt=new Io("onBeforeInput","beforeinput",null,a,J),it.push({event:Wt,listeners:kt}),Wt.data=Ct)),fb(it,e,F,a,J)}W_(it,i)})}function pc(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Jh(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Fr(e,a),h!=null&&o.unshift(pc(e,h,m)),h=Fr(e,i),h!=null&&o.push(pc(e,h,m))),e.tag===3)return o;e=e.return}return[]}function Ql(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ty(e,i,a,o,h){for(var m=i._reactName,T=[];a!==null&&a!==o;){var A=a,D=A.alternate,F=A.stateNode;if(A=A.tag,D!==null&&D===o)break;A!==5&&A!==26&&A!==27||F===null||(D=F,h?(F=Fr(a,m),F!=null&&T.unshift(pc(a,F,D))):h||(F=Fr(a,m),F!=null&&T.push(pc(a,F,D)))),a=a.return}T.length!==0&&e.push({event:i,listeners:T})}var gb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(gb,`
`).replace(_b,"")}function ny(e,i){return i=ey(i),ey(e)===i}function tf(){}function we(e,i,a,o,h,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&dn(e,""+o);break;case"className":Dn(e,"class",o);break;case"tabIndex":Dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(e,a,o);break;case"style":Ji(e,o,m);break;case"data":if(i!=="object"){Dn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&we(e,i,"name",h.name,h,null),we(e,i,"formEncType",h.formEncType,h,null),we(e,i,"formMethod",h.formMethod,h,null),we(e,i,"formTarget",h.formTarget,h,null)):(we(e,i,"encType",h.encType,h,null),we(e,i,"method",h.method,h,null),we(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=tf);break;case"onScroll":o!=null&&ee("scroll",e);break;case"onScrollEnd":o!=null&&ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ee("beforetoggle",e),ee("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fl.get(a)||a,$i(e,a,o))}}function dm(e,i,a,o,h,m){switch(a){case"style":Ji(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&ee("scroll",e);break;case"onScrollEnd":o!=null&&ee("scrollend",e);break;case"onClick":o!=null&&(e.onclick=tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!en.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=e[He]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(i,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):$i(e,a,o)}}}function Bn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ee("error",e),ee("load",e);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:we(e,i,m,T,a,null)}}h&&we(e,i,"srcSet",a.srcSet,a,null),o&&we(e,i,"src",a.src,a,null);return;case"input":ee("invalid",e);var A=m=T=h=null,D=null,F=null;for(o in a)if(a.hasOwnProperty(o)){var J=a[o];if(J!=null)switch(o){case"name":h=J;break;case"type":T=J;break;case"checked":D=J;break;case"defaultChecked":F=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:we(e,i,o,J,a,null)}}Er(e,m,A,D,F,T,h,!1),Ss(e);return;case"select":ee("invalid",e),o=T=m=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":o=A;default:we(e,i,h,A,a,null)}i=m,a=T,e.multiple=!!o,i!=null?rn(e,!!o,i,!1):a!=null&&rn(e,!!o,a,!0);return;case"textarea":ee("invalid",e),m=h=o=null;for(T in a)if(a.hasOwnProperty(T)&&(A=a[T],A!=null))switch(T){case"value":o=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:we(e,i,T,A,a,null)}Wi(e,o,h,m),Ss(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:we(e,i,D,o,a,null)}return;case"dialog":ee("beforetoggle",e),ee("toggle",e),ee("cancel",e),ee("close",e);break;case"iframe":case"object":ee("load",e);break;case"video":case"audio":for(o=0;o<mc.length;o++)ee(mc[o],e);break;case"image":ee("error",e),ee("load",e);break;case"details":ee("toggle",e);break;case"embed":case"source":case"link":ee("error",e),ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(o=a[F],o!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:we(e,i,F,o,a,null)}return;default:if(Rs(i)){for(J in a)a.hasOwnProperty(J)&&(o=a[J],o!==void 0&&dm(e,i,J,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&we(e,i,A,o,a,null))}function yb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,T=null,A=null,D=null,F=null,J=null;for(Y in a){var it=a[Y];if(a.hasOwnProperty(Y)&&it!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=it;default:o.hasOwnProperty(Y)||we(e,i,Y,null,o,it)}}for(var Q in o){var Y=o[Q];if(it=a[Q],o.hasOwnProperty(Q)&&(Y!=null||it!=null))switch(Q){case"type":m=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":J=Y;break;case"value":T=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==it&&we(e,i,Q,Y,o,it)}}Ce(e,T,A,D,F,J,m,h);return;case"select":Y=T=A=Q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Y=D;default:o.hasOwnProperty(m)||we(e,i,m,null,o,D)}for(h in o)if(m=o[h],D=a[h],o.hasOwnProperty(h)&&(m!=null||D!=null))switch(h){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==D&&we(e,i,h,m,o,D)}i=A,a=T,o=Y,Q!=null?rn(e,!!a,Q,!1):!!o!=!!a&&(i!=null?rn(e,!!a,i,!0):rn(e,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:we(e,i,A,null,o,h)}for(T in o)if(h=o[T],m=a[T],o.hasOwnProperty(T)&&(h!=null||m!=null))switch(T){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&we(e,i,T,h,o,m)}ne(e,Q,Y);return;case"option":for(var Ut in a)if(Q=a[Ut],a.hasOwnProperty(Ut)&&Q!=null&&!o.hasOwnProperty(Ut))switch(Ut){case"selected":e.selected=!1;break;default:we(e,i,Ut,null,o,Q)}for(D in o)if(Q=o[D],Y=a[D],o.hasOwnProperty(D)&&Q!==Y&&(Q!=null||Y!=null))switch(D){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:we(e,i,D,Q,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in a)Q=a[Mt],a.hasOwnProperty(Mt)&&Q!=null&&!o.hasOwnProperty(Mt)&&we(e,i,Mt,null,o,Q);for(F in o)if(Q=o[F],Y=a[F],o.hasOwnProperty(F)&&Q!==Y&&(Q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:we(e,i,F,Q,o,Y)}return;default:if(Rs(i)){for(var Se in a)Q=a[Se],a.hasOwnProperty(Se)&&Q!==void 0&&!o.hasOwnProperty(Se)&&dm(e,i,Se,void 0,o,Q);for(J in o)Q=o[J],Y=a[J],!o.hasOwnProperty(J)||Q===Y||Q===void 0&&Y===void 0||dm(e,i,J,Q,o,Y);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!o.hasOwnProperty(B)&&we(e,i,B,null,o,Q);for(it in o)Q=o[it],Y=a[it],!o.hasOwnProperty(it)||Q===Y||Q==null&&Y==null||we(e,i,it,Q,o,Y)}var mm=null,pm=null;function ef(e){return e.nodeType===9?e:e.ownerDocument}function iy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function gm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _m=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===_m?!1:(_m=e,!0):(_m=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(e){return ay.resolve(null).then(e).catch(bb)}:sy;function bb(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function oy(e,i){var a=i,o=0,h=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<o&&8>o){a=o;var T=e.ownerDocument;if(a&1&&gc(T.documentElement),a&2&&gc(T.body),a&4)for(a=T.head,gc(a),T=a.firstChild;T;){var A=T.nextSibling,D=T.nodeName;T[Gi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=A}}if(h===0){e.removeChild(m),wc(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=m}while(a);wc(i)}function ym(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ab(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Mr(e.nextSibling),e===null)break}return null}function wb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mr(e.nextSibling),e===null))return null;return e}function vm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Sb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Em=null;function ly(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function uy(e,i,a){switch(i=ef(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gc(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Hr(e)}var ur=new Map,cy=new Set;function nf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Js=ht.d;ht.d={f:Rb,r:Ib,D:Cb,C:Ob,L:Db,m:Nb,X:xb,S:Mb,M:Vb};function Rb(){var e=Js.f(),i=Kh();return e||i}function Ib(e){var i=Qi(e);i!==null&&i.tag===5&&i.type==="form"?Dg(i):Js.r(e)}var Kl=typeof document>"u"?null:document;function hy(e,i,a){var o=Kl;if(o&&typeof i=="string"&&i){var h=Ae(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cy.has(h)||(cy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Bn(i,"link",e),Jt(i),o.head.appendChild(i)))}}function Cb(e){Js.D(e),hy("dns-prefetch",e,null)}function Ob(e,i){Js.C(e,i),hy("preconnect",e,i)}function Db(e,i,a){Js.L(e,i,a);var o=Kl;if(o&&e&&i){var h='link[rel="preload"][as="'+Ae(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ae(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ae(a.imageSizes)+'"]')):h+='[href="'+Ae(e)+'"]';var m=h;switch(i){case"style":m=Yl(e);break;case"script":m=$l(e)}ur.has(m)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ur.set(m,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(_c(m))||i==="script"&&o.querySelector(yc(m))||(i=o.createElement("link"),Bn(i,"link",e),Jt(i),o.head.appendChild(i)))}}function Nb(e,i){Js.m(e,i);var a=Kl;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ae(o)+'"][href="'+Ae(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$l(e)}if(!ur.has(m)&&(e=w({rel:"modulepreload",href:e},i),ur.set(m,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yc(m)))return}o=a.createElement("link"),Bn(o,"link",e),Jt(o),a.head.appendChild(o)}}}function Mb(e,i,a){Js.S(e,i,a);var o=Kl;if(o&&e){var h=Fe(o).hoistableStyles,m=Yl(e);i=i||"default";var T=h.get(m);if(!T){var A={loading:0,preload:null};if(T=o.querySelector(_c(m)))A.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ur.get(m))&&Tm(e,a);var D=T=o.createElement("link");Jt(D),Bn(D,"link",e),D._p=new Promise(function(F,J){D.onload=F,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,rf(T,i,o)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(m,T)}}}function xb(e,i){Js.X(e,i);var a=Kl;if(a&&e){var o=Fe(a).hoistableScripts,h=$l(e),m=o.get(h);m||(m=a.querySelector(yc(h)),m||(e=w({src:e,async:!0},i),(i=ur.get(h))&&bm(e,i),m=a.createElement("script"),Jt(m),Bn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Vb(e,i){Js.M(e,i);var a=Kl;if(a&&e){var o=Fe(a).hoistableScripts,h=$l(e),m=o.get(h);m||(m=a.querySelector(yc(h)),m||(e=w({src:e,async:!0,type:"module"},i),(i=ur.get(h))&&bm(e,i),m=a.createElement("script"),Jt(m),Bn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function fy(e,i,a,o){var h=(h=St.current)?nf(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Yl(a.href),a=Fe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Yl(a.href);var m=Fe(h).hoistableStyles,T=m.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=h.querySelector(_c(e)))&&!m._p&&(T.instance=m,T.state.loading=5),ur.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ur.set(e,a),m||kb(h,e,a,T.state))),i&&o===null)throw Error(s(528,""));return T}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$l(a),a=Fe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yl(e){return'href="'+Ae(e)+'"'}function _c(e){return'link[rel="stylesheet"]['+e+"]"}function dy(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Bn(i,"link",a),Jt(i),e.head.appendChild(i))}function $l(e){return'[src="'+Ae(e)+'"]'}function yc(e){return"script[async]"+e}function my(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+Ae(a.href)+'"]');if(o)return i.instance=o,Jt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Jt(o),Bn(o,"style",h),rf(o,a.precedence,e),i.instance=o;case"stylesheet":h=Yl(a.href);var m=e.querySelector(_c(h));if(m)return i.state.loading|=4,i.instance=m,Jt(m),m;o=dy(a),(h=ur.get(h))&&Tm(o,h),m=(e.ownerDocument||e).createElement("link"),Jt(m);var T=m;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Bn(m,"link",o),i.state.loading|=4,rf(m,a.precedence,e),i.instance=m;case"script":return m=$l(a.src),(h=e.querySelector(yc(m)))?(i.instance=h,Jt(h),h):(o=a,(h=ur.get(m))&&(o=w({},a),bm(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),Bn(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,rf(o,a.precedence,e));return i.instance}function rf(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,T=0;T<o.length;T++){var A=o[T];if(A.dataset.precedence===i)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Tm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function bm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sf=null;function py(e,i,a){if(sf===null){var o=new Map,h=sf=new Map;h.set(a,o)}else h=sf,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Gi]||m[Qe]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(i)||"";T=e+T;var A=o.get(T);A?A.push(m):o.set(T,[m])}}return o}function gy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Pb(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function _y(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vc=null;function Lb(){}function Ub(e,i,a){if(vc===null)throw Error(s(475));var o=vc;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Yl(a.href),m=e.querySelector(_c(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=af.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=m,Jt(m);return}m=e.ownerDocument||e,a=dy(a),(h=ur.get(h))&&Tm(a,h),m=m.createElement("link"),Jt(m);var T=m;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),Bn(m,"link",a),i.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=af.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function zb(){if(vc===null)throw Error(s(475));var e=vc;return e.stylesheets&&e.count===0&&Am(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Am(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function af(){if(this.count--,this.count===0){if(this.stylesheets)Am(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var of=null;function Am(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,of=new Map,i.forEach(Bb,e),of=null,af.call(e))}function Bb(e,i){if(!(i.state.loading&4)){var a=of.get(e);if(a)var o=a.get(null);else{a=new Map,of.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var T=h[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),o=T)}o&&a.set(null,o)}h=i.instance,T=h.getAttribute("data-precedence"),m=a.get(T)||o,m===o&&a.set(null,h),a.set(T,h),this.count++,o=af.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Ec={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function jb(e,i,a,o,h,m,T,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function yy(e,i,a,o,h,m,T,A,D,F,J,it){return e=new jb(e,i,a,T,A,D,F,it),i=1,m===!0&&(i|=24),m=oi(3,null,null,i),e.current=m,m.stateNode=e,i=Rl(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},X(m),e}function vy(e){return e?(e=Ra,e):Ra}function Ey(e,i,a,o,h,m){h=vy(h),o.context===null?o.context=h:o.pendingContext=h,o=lt(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=gt(e,o,i),a!==null&&(Bi(a,e,i),_t(a,e,i))}function Ty(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function wm(e,i){Ty(e,i),(e=e.alternate)&&Ty(e,i)}function by(e){if(e.tag===13){var i=Qn(e,67108864);i!==null&&Bi(i,e,67108864),wm(e,67108864)}}var lf=!0;function qb(e,i,a,o){var h=W.T;W.T=null;var m=ht.p;try{ht.p=2,Sm(e,i,a,o)}finally{ht.p=m,W.T=h}}function Hb(e,i,a,o){var h=W.T;W.T=null;var m=ht.p;try{ht.p=8,Sm(e,i,a,o)}finally{ht.p=m,W.T=h}}function Sm(e,i,a,o){if(lf){var h=Rm(o);if(h===null)fm(e,i,o,uf,a),wy(e,o);else if(Gb(h,e,i,a,o))o.stopPropagation();else if(wy(e,o),i&4&&-1<Fb.indexOf(e)){for(;h!==null;){var m=Qi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Ri(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-qe(T);A.entanglements[1]|=D,T&=~D}cs(m),(Te&6)===0&&(Gh=ui()+500,dc(0))}}break;case 13:A=Qn(m,2),A!==null&&Bi(A,m,2),Kh(),wm(m,2)}if(m=Rm(o),m===null&&fm(e,i,o,uf,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else fm(e,i,o,null,a)}}function Rm(e){return e=Mn(e),Im(e)}var uf=null;function Im(e){if(uf=null,e=Ci(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return uf=e,null}function Ay(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case go:return 2;case la:return 8;case vs:case Tu:return 32;case ua:return 268435456;default:return 32}default:return 32}}var Cm=!1,Qa=null,Ka=null,Ya=null,Tc=new Map,bc=new Map,$a=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(e,i){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Tc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(i.pointerId)}}function Ac(e,i,a,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Qi(i),i!==null&&by(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Gb(e,i,a,o,h){switch(i){case"focusin":return Qa=Ac(Qa,e,i,a,o,h),!0;case"dragenter":return Ka=Ac(Ka,e,i,a,o,h),!0;case"mouseover":return Ya=Ac(Ya,e,i,a,o,h),!0;case"pointerover":var m=h.pointerId;return Tc.set(m,Ac(Tc.get(m)||null,e,i,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,bc.set(m,Ac(bc.get(m)||null,e,i,a,o,h)),!0}return!1}function Sy(e){var i=Ci(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,gr(e.priority,function(){if(a.tag===13){var o=zi();o=jr(o);var h=Qn(a,o);h!==null&&Bi(h,a,o),wm(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cf(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rm(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wn=o,a.target.dispatchEvent(o),wn=null}else return i=Qi(a),i!==null&&by(i),e.blockedOn=a,!1;i.shift()}return!0}function Ry(e,i,a){cf(e)&&a.delete(i)}function Qb(){Cm=!1,Qa!==null&&cf(Qa)&&(Qa=null),Ka!==null&&cf(Ka)&&(Ka=null),Ya!==null&&cf(Ya)&&(Ya=null),Tc.forEach(Ry),bc.forEach(Ry)}function hf(e,i){e.blockedOn===i&&(e.blockedOn=null,Cm||(Cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qb)))}var ff=null;function Iy(e){ff!==e&&(ff=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ff===e&&(ff=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Im(o||a)===null)continue;break}var m=Qi(a);m!==null&&(e.splice(i,3),i-=3,Id(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function wc(e){function i(D){return hf(D,e)}Qa!==null&&hf(Qa,e),Ka!==null&&hf(Ka,e),Ya!==null&&hf(Ya,e),Tc.forEach(i),bc.forEach(i);for(var a=0;a<$a.length;a++){var o=$a[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$a.length&&(a=$a[0],a.blockedOn===null);)Sy(a),a.blockedOn===null&&$a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],T=h[He]||null;if(typeof m=="function")T||Iy(a);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,T=m[He]||null)A=T.formAction;else if(Im(h)!==null)continue}else A=T.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),Iy(a)}}}function Om(e){this._internalRoot=e}df.prototype.render=Om.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=zi();Ey(a,o,e,i,null,null)},df.prototype.unmount=Om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Ey(e.current,2,null,e,null,null),Kh(),i[hi]=null}};function df(e){this._internalRoot=e}df.prototype.unstable_scheduleHydration=function(e){if(e){var i=qr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<$a.length&&i!==0&&i<$a[a].priority;a++);$a.splice(a,0,e),a===0&&Sy(e)}};var Cy=t.version;if(Cy!=="19.1.0")throw Error(s(527,Cy,"19.1.0"));ht.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Kb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Me=mf.inject(Kb),ge=mf}catch{}}return Rc.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Fg,m=Gg,T=Qg,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=yy(e,1,!1,null,null,a,o,h,m,T,A,null),e[hi]=i.current,hm(e),new Om(i)},Rc.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",m=Fg,T=Gg,A=Qg,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=yy(e,1,!0,i,a??null,o,h,m,T,A,D,F),i.context=vy(null),a=i.current,o=zi(),o=jr(o),h=lt(o),h.callback=null,gt(a,h,o),a=o,i.current.lanes=a,ci(i,a),cs(i),e[hi]=i.current,hm(e),new df(i)},Rc.version="19.1.0",Rc}var Uy;function iA(){if(Uy)return Mm.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Mm.exports=nA(),Mm.exports}var rA=iA(),Tf={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var sA=Tf.exports,zy;function aA(){return zy||(zy=1,function(r,t){(function(n,s){r.exports=s()})(sA,function(){const n=new Map,s={set(b,f,_){n.has(b)||n.set(b,new Map);const S=n.get(b);S.has(f)||S.size===0?S.set(f,_):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(S.keys())[0]}.`)},get:(b,f)=>n.has(b)&&n.get(b).get(f)||null,remove(b,f){if(!n.has(b))return;const _=n.get(b);_.delete(f),_.size===0&&n.delete(b)}},l="transitionend",c=b=>(b&&window.CSS&&window.CSS.escape&&(b=b.replace(/#([^\s"#']+)/g,(f,_)=>`#${CSS.escape(_)}`)),b),d=b=>{b.dispatchEvent(new Event(l))},g=b=>!(!b||typeof b!="object")&&(b.jquery!==void 0&&(b=b[0]),b.nodeType!==void 0),y=b=>g(b)?b.jquery?b[0]:b:typeof b=="string"&&b.length>0?document.querySelector(c(b)):null,E=b=>{if(!g(b)||b.getClientRects().length===0)return!1;const f=getComputedStyle(b).getPropertyValue("visibility")==="visible",_=b.closest("details:not([open])");if(!_)return f;if(_!==b){const S=b.closest("summary");if(S&&S.parentNode!==_||S===null)return!1}return f},w=b=>!b||b.nodeType!==Node.ELEMENT_NODE||!!b.classList.contains("disabled")||(b.disabled!==void 0?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false"),N=b=>{if(!document.documentElement.attachShadow)return null;if(typeof b.getRootNode=="function"){const f=b.getRootNode();return f instanceof ShadowRoot?f:null}return b instanceof ShadowRoot?b:b.parentNode?N(b.parentNode):null},O=()=>{},K=b=>{b.offsetHeight},G=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,tt=[],Z=()=>document.documentElement.dir==="rtl",ut=b=>{var f;f=()=>{const _=G();if(_){const S=b.NAME,L=_.fn[S];_.fn[S]=b.jQueryInterface,_.fn[S].Constructor=b,_.fn[S].noConflict=()=>(_.fn[S]=L,b.jQueryInterface)}},document.readyState==="loading"?(tt.length||document.addEventListener("DOMContentLoaded",()=>{for(const _ of tt)_()}),tt.push(f)):f()},dt=(b,f=[],_=b)=>typeof b=="function"?b.call(...f):_,Tt=(b,f,_=!0)=>{if(!_)return void dt(b);const S=(X=>{if(!X)return 0;let{transitionDuration:nt,transitionDelay:lt}=window.getComputedStyle(X);const gt=Number.parseFloat(nt),_t=Number.parseFloat(lt);return gt||_t?(nt=nt.split(",")[0],lt=lt.split(",")[0],1e3*(Number.parseFloat(nt)+Number.parseFloat(lt))):0})(f)+5;let L=!1;const U=({target:X})=>{X===f&&(L=!0,f.removeEventListener(l,U),dt(b))};f.addEventListener(l,U),setTimeout(()=>{L||d(f)},S)},zt=(b,f,_,S)=>{const L=b.length;let U=b.indexOf(f);return U===-1?!_&&S?b[L-1]:b[0]:(U+=_?1:-1,S&&(U=(U+L)%L),b[Math.max(0,Math.min(U,L-1))])},Nt=/[^.]*(?=\..*)\.|.*/,Yt=/\..*/,k=/::\d+$/,C={};let M=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},z=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(b,f){return f&&`${f}::${M++}`||b.uidEvent||M++}function x(b){const f=j(b);return b.uidEvent=f,C[f]=C[f]||{},C[f]}function tn(b,f,_=null){return Object.values(b).find(S=>S.callable===f&&S.delegationSelector===_)}function Ne(b,f,_){const S=typeof f=="string",L=S?_:f||_;let U=ue(b);return z.has(U)||(U=b),[S,L,U]}function W(b,f,_,S,L){if(typeof f!="string"||!b)return;let[U,X,nt]=Ne(f,_,S);f in P&&(X=(xt=>function(Pt){if(!Pt.relatedTarget||Pt.relatedTarget!==Pt.delegateTarget&&!Pt.delegateTarget.contains(Pt.relatedTarget))return xt.call(this,Pt)})(X));const lt=x(b),gt=lt[nt]||(lt[nt]={}),_t=tn(gt,X,U?_:null);if(_t)return void(_t.oneOff=_t.oneOff&&L);const pt=j(X,f.replace(Nt,"")),qt=U?function(Ot,xt,Pt){return function Bt(oe){const _e=Ot.querySelectorAll(xt);for(let{target:$t}=oe;$t&&$t!==this;$t=$t.parentNode)for(const le of _e)if(le===$t)return at(oe,{delegateTarget:$t}),Bt.oneOff&&I.off(Ot,oe.type,xt,Pt),Pt.apply($t,[oe])}}(b,_,X):function(Ot,xt){return function Pt(Bt){return at(Bt,{delegateTarget:Ot}),Pt.oneOff&&I.off(Ot,Bt.type,xt),xt.apply(Ot,[Bt])}}(b,X);qt.delegationSelector=U?_:null,qt.callable=X,qt.oneOff=L,qt.uidEvent=pt,gt[pt]=qt,b.addEventListener(nt,qt,U)}function ht(b,f,_,S,L){const U=tn(f[_],S,L);U&&(b.removeEventListener(_,U,!!L),delete f[_][U.uidEvent])}function Rt(b,f,_,S){const L=f[_]||{};for(const[U,X]of Object.entries(L))U.includes(S)&&ht(b,f,_,X.callable,X.delegationSelector)}function ue(b){return b=b.replace(Yt,""),P[b]||b}const I={on(b,f,_,S){W(b,f,_,S,!1)},one(b,f,_,S){W(b,f,_,S,!0)},off(b,f,_,S){if(typeof f!="string"||!b)return;const[L,U,X]=Ne(f,_,S),nt=X!==f,lt=x(b),gt=lt[X]||{},_t=f.startsWith(".");if(U===void 0){if(_t)for(const pt of Object.keys(lt))Rt(b,lt,pt,f.slice(1));for(const[pt,qt]of Object.entries(gt)){const Ot=pt.replace(k,"");nt&&!f.includes(Ot)||ht(b,lt,X,qt.callable,qt.delegationSelector)}}else{if(!Object.keys(gt).length)return;ht(b,lt,X,U,L?_:null)}},trigger(b,f,_){if(typeof f!="string"||!b)return null;const S=G();let L=null,U=!0,X=!0,nt=!1;f!==ue(f)&&S&&(L=S.Event(f,_),S(b).trigger(L),U=!L.isPropagationStopped(),X=!L.isImmediatePropagationStopped(),nt=L.isDefaultPrevented());const lt=at(new Event(f,{bubbles:U,cancelable:!0}),_);return nt&&lt.preventDefault(),X&&b.dispatchEvent(lt),lt.defaultPrevented&&L&&L.preventDefault(),lt}};function at(b,f={}){for(const[_,S]of Object.entries(f))try{b[_]=S}catch{Object.defineProperty(b,_,{configurable:!0,get:()=>S})}return b}function mt(b){if(b==="true")return!0;if(b==="false")return!1;if(b===Number(b).toString())return Number(b);if(b===""||b==="null")return null;if(typeof b!="string")return b;try{return JSON.parse(decodeURIComponent(b))}catch{return b}}function ot(b){return b.replace(/[A-Z]/g,f=>`-${f.toLowerCase()}`)}const wt={setDataAttribute(b,f,_){b.setAttribute(`data-bs-${ot(f)}`,_)},removeDataAttribute(b,f){b.removeAttribute(`data-bs-${ot(f)}`)},getDataAttributes(b){if(!b)return{};const f={},_=Object.keys(b.dataset).filter(S=>S.startsWith("bs")&&!S.startsWith("bsConfig"));for(const S of _){let L=S.replace(/^bs/,"");L=L.charAt(0).toLowerCase()+L.slice(1),f[L]=mt(b.dataset[S])}return f},getDataAttribute:(b,f)=>mt(b.getAttribute(`data-bs-${ot(f)}`))};class Ft{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(f){return f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f}_mergeConfigObj(f,_){const S=g(_)?wt.getDataAttribute(_,"config"):{};return{...this.constructor.Default,...typeof S=="object"?S:{},...g(_)?wt.getDataAttributes(_):{},...typeof f=="object"?f:{}}}_typeCheckConfig(f,_=this.constructor.DefaultType){for(const[L,U]of Object.entries(_)){const X=f[L],nt=g(X)?"element":(S=X)==null?`${S}`:Object.prototype.toString.call(S).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(U).test(nt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${L}" provided type "${nt}" but expected type "${U}".`)}var S}}class St extends Ft{constructor(f,_){super(),(f=y(f))&&(this._element=f,this._config=this._getConfig(_),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY);for(const f of Object.getOwnPropertyNames(this))this[f]=null}_queueCallback(f,_,S=!0){Tt(f,_,S)}_getConfig(f){return f=this._mergeConfigObj(f,this._element),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}static getInstance(f){return s.get(y(f),this.DATA_KEY)}static getOrCreateInstance(f,_={}){return this.getInstance(f)||new this(f,typeof _=="object"?_:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(f){return`${f}${this.EVENT_KEY}`}}const je=b=>{let f=b.getAttribute("data-bs-target");if(!f||f==="#"){let _=b.getAttribute("href");if(!_||!_.includes("#")&&!_.startsWith("."))return null;_.includes("#")&&!_.startsWith("#")&&(_=`#${_.split("#")[1]}`),f=_&&_!=="#"?_.trim():null}return f?f.split(",").map(_=>c(_)).join(","):null},ft={find:(b,f=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(f,b)),findOne:(b,f=document.documentElement)=>Element.prototype.querySelector.call(f,b),children:(b,f)=>[].concat(...b.children).filter(_=>_.matches(f)),parents(b,f){const _=[];let S=b.parentNode.closest(f);for(;S;)_.push(S),S=S.parentNode.closest(f);return _},prev(b,f){let _=b.previousElementSibling;for(;_;){if(_.matches(f))return[_];_=_.previousElementSibling}return[]},next(b,f){let _=b.nextElementSibling;for(;_;){if(_.matches(f))return[_];_=_.nextElementSibling}return[]},focusableChildren(b){const f=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(_=>`${_}:not([tabindex^="-"])`).join(",");return this.find(f,b).filter(_=>!w(_)&&E(_))},getSelectorFromElement(b){const f=je(b);return f&&ft.findOne(f)?f:null},getElementFromSelector(b){const f=je(b);return f?ft.findOne(f):null},getMultipleElementsFromSelector(b){const f=je(b);return f?ft.find(f):[]}},ti=(b,f="hide")=>{const _=`click.dismiss${b.EVENT_KEY}`,S=b.NAME;I.on(document,_,`[data-bs-dismiss="${S}"]`,function(L){if(["A","AREA"].includes(this.tagName)&&L.preventDefault(),w(this))return;const U=ft.getElementFromSelector(this)||this.closest(`.${S}`);b.getOrCreateInstance(U)[f]()})},cr=".bs.alert",hr=`close${cr}`,ys=`closed${cr}`;class wi extends St{static get NAME(){return"alert"}close(){if(I.trigger(this._element,hr).defaultPrevented)return;this._element.classList.remove("show");const f=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),I.trigger(this._element,ys),this.dispose()}static jQueryInterface(f){return this.each(function(){const _=wi.getOrCreateInstance(this);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f](this)}})}}ti(wi,"close"),ut(wi);const Ur='[data-bs-toggle="button"]';class fr extends St{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(f){return this.each(function(){const _=fr.getOrCreateInstance(this);f==="toggle"&&_[f]()})}}I.on(document,"click.bs.button.data-api",Ur,b=>{b.preventDefault();const f=b.target.closest(Ur);fr.getOrCreateInstance(f).toggle()}),ut(fr);const dr=".bs.swipe",ui=`touchstart${dr}`,Eu=`touchmove${dr}`,go=`touchend${dr}`,la=`pointerdown${dr}`,vs=`pointerup${dr}`,Tu={endCallback:null,leftCallback:null,rightCallback:null},ua={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class zr extends Ft{constructor(f,_){super(),this._element=f,f&&zr.isSupported()&&(this._config=this._getConfig(_),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Tu}static get DefaultType(){return ua}static get NAME(){return"swipe"}dispose(){I.off(this._element,dr)}_start(f){this._supportPointerEvents?this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX):this._deltaX=f.touches[0].clientX}_end(f){this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX-this._deltaX),this._handleSwipe(),dt(this._config.endCallback)}_move(f){this._deltaX=f.touches&&f.touches.length>1?0:f.touches[0].clientX-this._deltaX}_handleSwipe(){const f=Math.abs(this._deltaX);if(f<=40)return;const _=f/this._deltaX;this._deltaX=0,_&&dt(_>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(I.on(this._element,la,f=>this._start(f)),I.on(this._element,vs,f=>this._end(f)),this._element.classList.add("pointer-event")):(I.on(this._element,ui,f=>this._start(f)),I.on(this._element,Eu,f=>this._move(f)),I.on(this._element,go,f=>this._end(f)))}_eventIsPointerPenTouch(f){return this._supportPointerEvents&&(f.pointerType==="pen"||f.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Si=".bs.carousel",Me=".data-api",ge="ArrowLeft",ei="ArrowRight",qe="next",mr="prev",Br="left",qi="right",Es=`slide${Si}`,pr=`slid${Si}`,Ri=`keydown${Si}`,ca=`mouseenter${Si}`,Ts=`mouseleave${Si}`,_o=`dragstart${Si}`,yo=`load${Si}${Me}`,vo=`click${Si}${Me}`,Hi="carousel",ci="active",ha=".active",Ii=".carousel-item",Eo=ha+Ii,jr={[ge]:qi,[ei]:Br},fa={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class gr extends St{constructor(f,_){super(f,_),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ft.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Hi&&this.cycle()}static get Default(){return fa}static get DefaultType(){return qr}static get NAME(){return"carousel"}next(){this._slide(qe)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(mr)}pause(){this._isSliding&&d(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?I.one(this._element,pr,()=>this.cycle()):this.cycle())}to(f){const _=this._getItems();if(f>_.length-1||f<0)return;if(this._isSliding)return void I.one(this._element,pr,()=>this.to(f));const S=this._getItemIndex(this._getActive());if(S===f)return;const L=f>S?qe:mr;this._slide(L,_[f])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(f){return f.defaultInterval=f.interval,f}_addEventListeners(){this._config.keyboard&&I.on(this._element,Ri,f=>this._keydown(f)),this._config.pause==="hover"&&(I.on(this._element,ca,()=>this.pause()),I.on(this._element,Ts,()=>this._maybeEnableCycle())),this._config.touch&&zr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const _ of ft.find(".carousel-item img",this._element))I.on(_,_o,S=>S.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(Br)),rightCallback:()=>this._slide(this._directionToOrder(qi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new zr(this._element,f)}_keydown(f){if(/input|textarea/i.test(f.target.tagName))return;const _=jr[f.key];_&&(f.preventDefault(),this._slide(this._directionToOrder(_)))}_getItemIndex(f){return this._getItems().indexOf(f)}_setActiveIndicatorElement(f){if(!this._indicatorsElement)return;const _=ft.findOne(ha,this._indicatorsElement);_.classList.remove(ci),_.removeAttribute("aria-current");const S=ft.findOne(`[data-bs-slide-to="${f}"]`,this._indicatorsElement);S&&(S.classList.add(ci),S.setAttribute("aria-current","true"))}_updateInterval(){const f=this._activeElement||this._getActive();if(!f)return;const _=Number.parseInt(f.getAttribute("data-bs-interval"),10);this._config.interval=_||this._config.defaultInterval}_slide(f,_=null){if(this._isSliding)return;const S=this._getActive(),L=f===qe,U=_||zt(this._getItems(),S,L,this._config.wrap);if(U===S)return;const X=this._getItemIndex(U),nt=pt=>I.trigger(this._element,pt,{relatedTarget:U,direction:this._orderToDirection(f),from:this._getItemIndex(S),to:X});if(nt(Es).defaultPrevented||!S||!U)return;const lt=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(X),this._activeElement=U;const gt=L?"carousel-item-start":"carousel-item-end",_t=L?"carousel-item-next":"carousel-item-prev";U.classList.add(_t),K(U),S.classList.add(gt),U.classList.add(gt),this._queueCallback(()=>{U.classList.remove(gt,_t),U.classList.add(ci),S.classList.remove(ci,_t,gt),this._isSliding=!1,nt(pr)},S,this._isAnimated()),lt&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ft.findOne(Eo,this._element)}_getItems(){return ft.find(Ii,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(f){return Z()?f===Br?mr:qe:f===Br?qe:mr}_orderToDirection(f){return Z()?f===mr?Br:qi:f===mr?qi:Br}static jQueryInterface(f){return this.each(function(){const _=gr.getOrCreateInstance(this,f);if(typeof f!="number"){if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}}else _.to(f)})}}I.on(document,vo,"[data-bs-slide], [data-bs-slide-to]",function(b){const f=ft.getElementFromSelector(this);if(!f||!f.classList.contains(Hi))return;b.preventDefault();const _=gr.getOrCreateInstance(f),S=this.getAttribute("data-bs-slide-to");return S?(_.to(S),void _._maybeEnableCycle()):wt.getDataAttribute(this,"slide")==="next"?(_.next(),void _._maybeEnableCycle()):(_.prev(),void _._maybeEnableCycle())}),I.on(window,yo,()=>{const b=ft.find('[data-bs-ride="carousel"]');for(const f of b)gr.getOrCreateInstance(f)}),ut(gr);const ye=".bs.collapse",Qe=`show${ye}`,He=`shown${ye}`,hi=`hide${ye}`,To=`hidden${ye}`,bu=`click${ye}.data-api`,Fi="show",_r="collapse",Gi="collapsing",Hr=`:scope .${_r} .${_r}`,Ci='[data-bs-toggle="collapse"]',Qi={parent:null,toggle:!0},Ki={parent:"(null|element)",toggle:"boolean"};class Fe extends St{constructor(f,_){super(f,_),this._isTransitioning=!1,this._triggerArray=[];const S=ft.find(Ci);for(const L of S){const U=ft.getSelectorFromElement(L),X=ft.find(U).filter(nt=>nt===this._element);U!==null&&X.length&&this._triggerArray.push(L)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Qi}static get DefaultType(){return Ki}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let f=[];if(this._config.parent&&(f=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(L=>L!==this._element).map(L=>Fe.getOrCreateInstance(L,{toggle:!1}))),f.length&&f[0]._isTransitioning||I.trigger(this._element,Qe).defaultPrevented)return;for(const L of f)L.hide();const _=this._getDimension();this._element.classList.remove(_r),this._element.classList.add(Gi),this._element.style[_]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const S=`scroll${_[0].toUpperCase()+_.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(_r,Fi),this._element.style[_]="",I.trigger(this._element,He)},this._element,!0),this._element.style[_]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||I.trigger(this._element,hi).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,K(this._element),this._element.classList.add(Gi),this._element.classList.remove(_r,Fi);for(const _ of this._triggerArray){const S=ft.getElementFromSelector(_);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([_],!1)}this._isTransitioning=!0,this._element.style[f]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Gi),this._element.classList.add(_r),I.trigger(this._element,To)},this._element,!0)}_isShown(f=this._element){return f.classList.contains(Fi)}_configAfterMerge(f){return f.toggle=!!f.toggle,f.parent=y(f.parent),f}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const f=this._getFirstLevelChildren(Ci);for(const _ of f){const S=ft.getElementFromSelector(_);S&&this._addAriaAndCollapsedClass([_],this._isShown(S))}}_getFirstLevelChildren(f){const _=ft.find(Hr,this._config.parent);return ft.find(f,this._config.parent).filter(S=>!_.includes(S))}_addAriaAndCollapsedClass(f,_){if(f.length)for(const S of f)S.classList.toggle("collapsed",!_),S.setAttribute("aria-expanded",_)}static jQueryInterface(f){const _={};return typeof f=="string"&&/show|hide/.test(f)&&(_.toggle=!1),this.each(function(){const S=Fe.getOrCreateInstance(this,_);if(typeof f=="string"){if(S[f]===void 0)throw new TypeError(`No method named "${f}"`);S[f]()}})}}I.on(document,bu,Ci,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();for(const f of ft.getMultipleElementsFromSelector(this))Fe.getOrCreateInstance(f,{toggle:!1}).toggle()}),ut(Fe);var Jt="top",fn="bottom",en="right",Re="left",fi="auto",yr=[Jt,fn,en,Re],Yi="start",di="end",bo="clippingParents",$i="viewport",Dn="popper",nn="reference",vr=yr.reduce(function(b,f){return b.concat([f+"-"+Yi,f+"-"+di])},[]),da=[].concat(yr,[fi]).reduce(function(b,f){return b.concat([f,f+"-"+Yi,f+"-"+di])},[]),Xi="beforeRead",bs="read",As="afterRead",ma="beforeMain",ws="main",bn="afterMain",pa="beforeWrite",hl="write",Ss="afterWrite",ga=[Xi,bs,As,ma,ws,bn,pa,hl,Ss];function An(b){return b?(b.nodeName||"").toLowerCase():null}function Nn(b){if(b==null)return window;if(b.toString()!=="[object Window]"){var f=b.ownerDocument;return f&&f.defaultView||window}return b}function Ae(b){return b instanceof Nn(b).Element||b instanceof Element}function Ce(b){return b instanceof Nn(b).HTMLElement||b instanceof HTMLElement}function Er(b){return typeof ShadowRoot<"u"&&(b instanceof Nn(b).ShadowRoot||b instanceof ShadowRoot)}const Zi={name:"applyStyles",enabled:!0,phase:"write",fn:function(b){var f=b.state;Object.keys(f.elements).forEach(function(_){var S=f.styles[_]||{},L=f.attributes[_]||{},U=f.elements[_];Ce(U)&&An(U)&&(Object.assign(U.style,S),Object.keys(L).forEach(function(X){var nt=L[X];nt===!1?U.removeAttribute(X):U.setAttribute(X,nt===!0?"":nt)}))})},effect:function(b){var f=b.state,_={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,_.popper),f.styles=_,f.elements.arrow&&Object.assign(f.elements.arrow.style,_.arrow),function(){Object.keys(f.elements).forEach(function(S){var L=f.elements[S],U=f.attributes[S]||{},X=Object.keys(f.styles.hasOwnProperty(S)?f.styles[S]:_[S]).reduce(function(nt,lt){return nt[lt]="",nt},{});Ce(L)&&An(L)&&(Object.assign(L.style,X),Object.keys(U).forEach(function(nt){L.removeAttribute(nt)}))})}},requires:["computeStyles"]};function rn(b){return b.split("-")[0]}var ne=Math.max,Wi=Math.min,dn=Math.round;function Tr(){var b=navigator.userAgentData;return b!=null&&b.brands&&Array.isArray(b.brands)?b.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function Ao(){return!/^((?!chrome|android).)*safari/i.test(Tr())}function Ji(b,f,_){f===void 0&&(f=!1),_===void 0&&(_=!1);var S=b.getBoundingClientRect(),L=1,U=1;f&&Ce(b)&&(L=b.offsetWidth>0&&dn(S.width)/b.offsetWidth||1,U=b.offsetHeight>0&&dn(S.height)/b.offsetHeight||1);var X=(Ae(b)?Nn(b):window).visualViewport,nt=!Ao()&&_,lt=(S.left+(nt&&X?X.offsetLeft:0))/L,gt=(S.top+(nt&&X?X.offsetTop:0))/U,_t=S.width/L,pt=S.height/U;return{width:_t,height:pt,top:gt,right:lt+_t,bottom:gt+pt,left:lt,x:lt,y:gt}}function Rs(b){var f=Ji(b),_=b.offsetWidth,S=b.offsetHeight;return Math.abs(f.width-_)<=1&&(_=f.width),Math.abs(f.height-S)<=1&&(S=f.height),{x:b.offsetLeft,y:b.offsetTop,width:_,height:S}}function fl(b,f){var _=f.getRootNode&&f.getRootNode();if(b.contains(f))return!0;if(_&&Er(_)){var S=f;do{if(S&&b.isSameNode(S))return!0;S=S.parentNode||S.host}while(S)}return!1}function Oi(b){return Nn(b).getComputedStyle(b)}function _a(b){return["table","td","th"].indexOf(An(b))>=0}function wn(b){return((Ae(b)?b.ownerDocument:b.document)||window.document).documentElement}function Mn(b){return An(b)==="html"?b:b.assignedSlot||b.parentNode||(Er(b)?b.host:null)||wn(b)}function tr(b){return Ce(b)&&Oi(b).position!=="fixed"?b.offsetParent:null}function ni(b){for(var f=Nn(b),_=tr(b);_&&_a(_)&&Oi(_).position==="static";)_=tr(_);return _&&(An(_)==="html"||An(_)==="body"&&Oi(_).position==="static")?f:_||function(S){var L=/firefox/i.test(Tr());if(/Trident/i.test(Tr())&&Ce(S)&&Oi(S).position==="fixed")return null;var U=Mn(S);for(Er(U)&&(U=U.host);Ce(U)&&["html","body"].indexOf(An(U))<0;){var X=Oi(U);if(X.transform!=="none"||X.perspective!=="none"||X.contain==="paint"||["transform","perspective"].indexOf(X.willChange)!==-1||L&&X.willChange==="filter"||L&&X.filter&&X.filter!=="none")return U;U=U.parentNode}return null}(b)||f}function Is(b){return["top","bottom"].indexOf(b)>=0?"x":"y"}function Fn(b,f,_){return ne(b,Wi(f,_))}function wo(b){return Object.assign({},{top:0,right:0,bottom:0,left:0},b)}function Fr(b,f){return f.reduce(function(_,S){return _[S]=b,_},{})}const mi={name:"arrow",enabled:!0,phase:"main",fn:function(b){var f,_=b.state,S=b.name,L=b.options,U=_.elements.arrow,X=_.modifiersData.popperOffsets,nt=rn(_.placement),lt=Is(nt),gt=[Re,en].indexOf(nt)>=0?"height":"width";if(U&&X){var _t=function(It,Vt){return wo(typeof(It=typeof It=="function"?It(Object.assign({},Vt.rects,{placement:Vt.placement})):It)!="number"?It:Fr(It,yr))}(L.padding,_),pt=Rs(U),qt=lt==="y"?Jt:Re,Ot=lt==="y"?fn:en,xt=_.rects.reference[gt]+_.rects.reference[lt]-X[lt]-_.rects.popper[gt],Pt=X[lt]-_.rects.reference[lt],Bt=ni(U),oe=Bt?lt==="y"?Bt.clientHeight||0:Bt.clientWidth||0:0,_e=xt/2-Pt/2,$t=_t[qt],le=oe-pt[gt]-_t[Ot],Gt=oe/2-pt[gt]/2+_e,Qt=Fn($t,Gt,le),yt=lt;_.modifiersData[S]=((f={})[yt]=Qt,f.centerOffset=Qt-Gt,f)}},effect:function(b){var f=b.state,_=b.options.element,S=_===void 0?"[data-popper-arrow]":_;S!=null&&(typeof S!="string"||(S=f.elements.popper.querySelector(S)))&&fl(f.elements.popper,S)&&(f.elements.arrow=S)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mn(b){return b.split("-")[1]}var Cs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Di(b){var f,_=b.popper,S=b.popperRect,L=b.placement,U=b.variation,X=b.offsets,nt=b.position,lt=b.gpuAcceleration,gt=b.adaptive,_t=b.roundOffsets,pt=b.isFixed,qt=X.x,Ot=qt===void 0?0:qt,xt=X.y,Pt=xt===void 0?0:xt,Bt=typeof _t=="function"?_t({x:Ot,y:Pt}):{x:Ot,y:Pt};Ot=Bt.x,Pt=Bt.y;var oe=X.hasOwnProperty("x"),_e=X.hasOwnProperty("y"),$t=Re,le=Jt,Gt=window;if(gt){var Qt=ni(_),yt="clientHeight",It="clientWidth";Qt===Nn(_)&&Oi(Qt=wn(_)).position!=="static"&&nt==="absolute"&&(yt="scrollHeight",It="scrollWidth"),(L===Jt||(L===Re||L===en)&&U===di)&&(le=fn,Pt-=(pt&&Qt===Gt&&Gt.visualViewport?Gt.visualViewport.height:Qt[yt])-S.height,Pt*=lt?1:-1),L!==Re&&(L!==Jt&&L!==fn||U!==di)||($t=en,Ot-=(pt&&Qt===Gt&&Gt.visualViewport?Gt.visualViewport.width:Qt[It])-S.width,Ot*=lt?1:-1)}var Vt,Oe=Object.assign({position:nt},gt&&Cs),ln=_t===!0?function(_n,un){var Sn=_n.x,yn=_n.y,ke=un.devicePixelRatio||1;return{x:dn(Sn*ke)/ke||0,y:dn(yn*ke)/ke||0}}({x:Ot,y:Pt},Nn(_)):{x:Ot,y:Pt};return Ot=ln.x,Pt=ln.y,lt?Object.assign({},Oe,((Vt={})[le]=_e?"0":"",Vt[$t]=oe?"0":"",Vt.transform=(Gt.devicePixelRatio||1)<=1?"translate("+Ot+"px, "+Pt+"px)":"translate3d("+Ot+"px, "+Pt+"px, 0)",Vt)):Object.assign({},Oe,((f={})[le]=_e?Pt+"px":"",f[$t]=oe?Ot+"px":"",f.transform="",f))}const er={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(b){var f=b.state,_=b.options,S=_.gpuAcceleration,L=S===void 0||S,U=_.adaptive,X=U===void 0||U,nt=_.roundOffsets,lt=nt===void 0||nt,gt={placement:rn(f.placement),variation:mn(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:L,isFixed:f.options.strategy==="fixed"};f.modifiersData.popperOffsets!=null&&(f.styles.popper=Object.assign({},f.styles.popper,Di(Object.assign({},gt,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:X,roundOffsets:lt})))),f.modifiersData.arrow!=null&&(f.styles.arrow=Object.assign({},f.styles.arrow,Di(Object.assign({},gt,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:lt})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}};var pi={passive:!0};const Os={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(b){var f=b.state,_=b.instance,S=b.options,L=S.scroll,U=L===void 0||L,X=S.resize,nt=X===void 0||X,lt=Nn(f.elements.popper),gt=[].concat(f.scrollParents.reference,f.scrollParents.popper);return U&&gt.forEach(function(_t){_t.addEventListener("scroll",_.update,pi)}),nt&&lt.addEventListener("resize",_.update,pi),function(){U&&gt.forEach(function(_t){_t.removeEventListener("scroll",_.update,pi)}),nt&&lt.removeEventListener("resize",_.update,pi)}},data:{}};var nr={left:"right",right:"left",bottom:"top",top:"bottom"};function ii(b){return b.replace(/left|right|bottom|top/g,function(f){return nr[f]})}var So={start:"end",end:"start"};function Ke(b){return b.replace(/start|end/g,function(f){return So[f]})}function ce(b){var f=Nn(b);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function Gr(b){return Ji(wn(b)).left+ce(b).scrollLeft}function br(b){var f=Oi(b),_=f.overflow,S=f.overflowX,L=f.overflowY;return/auto|scroll|overlay|hidden/.test(_+L+S)}function Ro(b){return["html","body","#document"].indexOf(An(b))>=0?b.ownerDocument.body:Ce(b)&&br(b)?b:Ro(Mn(b))}function ir(b,f){var _;f===void 0&&(f=[]);var S=Ro(b),L=S===((_=b.ownerDocument)==null?void 0:_.body),U=Nn(S),X=L?[U].concat(U.visualViewport||[],br(S)?S:[]):S,nt=f.concat(X);return L?nt:nt.concat(ir(Mn(X)))}function Qr(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function Ni(b,f,_){return f===$i?Qr(function(S,L){var U=Nn(S),X=wn(S),nt=U.visualViewport,lt=X.clientWidth,gt=X.clientHeight,_t=0,pt=0;if(nt){lt=nt.width,gt=nt.height;var qt=Ao();(qt||!qt&&L==="fixed")&&(_t=nt.offsetLeft,pt=nt.offsetTop)}return{width:lt,height:gt,x:_t+Gr(S),y:pt}}(b,_)):Ae(f)?function(S,L){var U=Ji(S,!1,L==="fixed");return U.top=U.top+S.clientTop,U.left=U.left+S.clientLeft,U.bottom=U.top+S.clientHeight,U.right=U.left+S.clientWidth,U.width=S.clientWidth,U.height=S.clientHeight,U.x=U.left,U.y=U.top,U}(f,_):Qr(function(S){var L,U=wn(S),X=ce(S),nt=(L=S.ownerDocument)==null?void 0:L.body,lt=ne(U.scrollWidth,U.clientWidth,nt?nt.scrollWidth:0,nt?nt.clientWidth:0),gt=ne(U.scrollHeight,U.clientHeight,nt?nt.scrollHeight:0,nt?nt.clientHeight:0),_t=-X.scrollLeft+Gr(S),pt=-X.scrollTop;return Oi(nt||U).direction==="rtl"&&(_t+=ne(U.clientWidth,nt?nt.clientWidth:0)-lt),{width:lt,height:gt,x:_t,y:pt}}(wn(b)))}function Kr(b){var f,_=b.reference,S=b.element,L=b.placement,U=L?rn(L):null,X=L?mn(L):null,nt=_.x+_.width/2-S.width/2,lt=_.y+_.height/2-S.height/2;switch(U){case Jt:f={x:nt,y:_.y-S.height};break;case fn:f={x:nt,y:_.y+_.height};break;case en:f={x:_.x+_.width,y:lt};break;case Re:f={x:_.x-S.width,y:lt};break;default:f={x:_.x,y:_.y}}var gt=U?Is(U):null;if(gt!=null){var _t=gt==="y"?"height":"width";switch(X){case Yi:f[gt]=f[gt]-(_[_t]/2-S[_t]/2);break;case di:f[gt]=f[gt]+(_[_t]/2-S[_t]/2)}}return f}function pn(b,f){f===void 0&&(f={});var _=f,S=_.placement,L=S===void 0?b.placement:S,U=_.strategy,X=U===void 0?b.strategy:U,nt=_.boundary,lt=nt===void 0?bo:nt,gt=_.rootBoundary,_t=gt===void 0?$i:gt,pt=_.elementContext,qt=pt===void 0?Dn:pt,Ot=_.altBoundary,xt=Ot!==void 0&&Ot,Pt=_.padding,Bt=Pt===void 0?0:Pt,oe=wo(typeof Bt!="number"?Bt:Fr(Bt,yr)),_e=qt===Dn?nn:Dn,$t=b.rects.popper,le=b.elements[xt?_e:qt],Gt=function(un,Sn,yn,ke){var me=Sn==="clippingParents"?function(ve){var Pn=ir(Mn(ve)),Kn=["absolute","fixed"].indexOf(Oi(ve).position)>=0&&Ce(ve)?ni(ve):ve;return Ae(Kn)?Pn.filter(function(ar){return Ae(ar)&&fl(ar,Kn)&&An(ar)!=="body"}):[]}(un):[].concat(Sn),yi=[].concat(me,[yn]),ss=yi[0],Ze=yi.reduce(function(ve,Pn){var Kn=Ni(un,Pn,ke);return ve.top=ne(Kn.top,ve.top),ve.right=Wi(Kn.right,ve.right),ve.bottom=Wi(Kn.bottom,ve.bottom),ve.left=ne(Kn.left,ve.left),ve},Ni(un,ss,ke));return Ze.width=Ze.right-Ze.left,Ze.height=Ze.bottom-Ze.top,Ze.x=Ze.left,Ze.y=Ze.top,Ze}(Ae(le)?le:le.contextElement||wn(b.elements.popper),lt,_t,X),Qt=Ji(b.elements.reference),yt=Kr({reference:Qt,element:$t,placement:L}),It=Qr(Object.assign({},$t,yt)),Vt=qt===Dn?It:Qt,Oe={top:Gt.top-Vt.top+oe.top,bottom:Vt.bottom-Gt.bottom+oe.bottom,left:Gt.left-Vt.left+oe.left,right:Vt.right-Gt.right+oe.right},ln=b.modifiersData.offset;if(qt===Dn&&ln){var _n=ln[L];Object.keys(Oe).forEach(function(un){var Sn=[en,fn].indexOf(un)>=0?1:-1,yn=[Jt,fn].indexOf(un)>=0?"y":"x";Oe[un]+=_n[yn]*Sn})}return Oe}function dl(b,f){f===void 0&&(f={});var _=f,S=_.placement,L=_.boundary,U=_.rootBoundary,X=_.padding,nt=_.flipVariations,lt=_.allowedAutoPlacements,gt=lt===void 0?da:lt,_t=mn(S),pt=_t?nt?vr:vr.filter(function(xt){return mn(xt)===_t}):yr,qt=pt.filter(function(xt){return gt.indexOf(xt)>=0});qt.length===0&&(qt=pt);var Ot=qt.reduce(function(xt,Pt){return xt[Pt]=pn(b,{placement:Pt,boundary:L,rootBoundary:U,padding:X})[rn(Pt)],xt},{});return Object.keys(Ot).sort(function(xt,Pt){return Ot[xt]-Ot[Pt]})}const ml={name:"flip",enabled:!0,phase:"main",fn:function(b){var f=b.state,_=b.options,S=b.name;if(!f.modifiersData[S]._skip){for(var L=_.mainAxis,U=L===void 0||L,X=_.altAxis,nt=X===void 0||X,lt=_.fallbackPlacements,gt=_.padding,_t=_.boundary,pt=_.rootBoundary,qt=_.altBoundary,Ot=_.flipVariations,xt=Ot===void 0||Ot,Pt=_.allowedAutoPlacements,Bt=f.options.placement,oe=rn(Bt),_e=lt||(oe!==Bt&&xt?function(ve){if(rn(ve)===fi)return[];var Pn=ii(ve);return[Ke(ve),Pn,Ke(Pn)]}(Bt):[ii(Bt)]),$t=[Bt].concat(_e).reduce(function(ve,Pn){return ve.concat(rn(Pn)===fi?dl(f,{placement:Pn,boundary:_t,rootBoundary:pt,padding:gt,flipVariations:xt,allowedAutoPlacements:Pt}):Pn)},[]),le=f.rects.reference,Gt=f.rects.popper,Qt=new Map,yt=!0,It=$t[0],Vt=0;Vt<$t.length;Vt++){var Oe=$t[Vt],ln=rn(Oe),_n=mn(Oe)===Yi,un=[Jt,fn].indexOf(ln)>=0,Sn=un?"width":"height",yn=pn(f,{placement:Oe,boundary:_t,rootBoundary:pt,altBoundary:qt,padding:gt}),ke=un?_n?en:Re:_n?fn:Jt;le[Sn]>Gt[Sn]&&(ke=ii(ke));var me=ii(ke),yi=[];if(U&&yi.push(yn[ln]<=0),nt&&yi.push(yn[ke]<=0,yn[me]<=0),yi.every(function(ve){return ve})){It=Oe,yt=!1;break}Qt.set(Oe,yi)}if(yt)for(var ss=function(ve){var Pn=$t.find(function(Kn){var ar=Qt.get(Kn);if(ar)return ar.slice(0,ve).every(function(xa){return xa})});if(Pn)return It=Pn,"break"},Ze=xt?3:1;Ze>0&&ss(Ze)!=="break";Ze--);f.placement!==It&&(f.modifiersData[S]._skip=!0,f.placement=It,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Yr(b,f,_){return _===void 0&&(_={x:0,y:0}),{top:b.top-f.height-_.y,right:b.right-f.width+_.x,bottom:b.bottom-f.height+_.y,left:b.left-f.width-_.x}}function Ds(b){return[Jt,en,fn,Re].some(function(f){return b[f]>=0})}const ya={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(b){var f=b.state,_=b.name,S=f.rects.reference,L=f.rects.popper,U=f.modifiersData.preventOverflow,X=pn(f,{elementContext:"reference"}),nt=pn(f,{altBoundary:!0}),lt=Yr(X,S),gt=Yr(nt,L,U),_t=Ds(lt),pt=Ds(gt);f.modifiersData[_]={referenceClippingOffsets:lt,popperEscapeOffsets:gt,isReferenceHidden:_t,hasPopperEscaped:pt},f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-reference-hidden":_t,"data-popper-escaped":pt})}},Ns={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(b){var f=b.state,_=b.options,S=b.name,L=_.offset,U=L===void 0?[0,0]:L,X=da.reduce(function(_t,pt){return _t[pt]=function(qt,Ot,xt){var Pt=rn(qt),Bt=[Re,Jt].indexOf(Pt)>=0?-1:1,oe=typeof xt=="function"?xt(Object.assign({},Ot,{placement:qt})):xt,_e=oe[0],$t=oe[1];return _e=_e||0,$t=($t||0)*Bt,[Re,en].indexOf(Pt)>=0?{x:$t,y:_e}:{x:_e,y:$t}}(pt,f.rects,U),_t},{}),nt=X[f.placement],lt=nt.x,gt=nt.y;f.modifiersData.popperOffsets!=null&&(f.modifiersData.popperOffsets.x+=lt,f.modifiersData.popperOffsets.y+=gt),f.modifiersData[S]=X}},va={name:"popperOffsets",enabled:!0,phase:"read",fn:function(b){var f=b.state,_=b.name;f.modifiersData[_]=Kr({reference:f.rects.reference,element:f.rects.popper,placement:f.placement})},data:{}},Ms={name:"preventOverflow",enabled:!0,phase:"main",fn:function(b){var f=b.state,_=b.options,S=b.name,L=_.mainAxis,U=L===void 0||L,X=_.altAxis,nt=X!==void 0&&X,lt=_.boundary,gt=_.rootBoundary,_t=_.altBoundary,pt=_.padding,qt=_.tether,Ot=qt===void 0||qt,xt=_.tetherOffset,Pt=xt===void 0?0:xt,Bt=pn(f,{boundary:lt,rootBoundary:gt,padding:pt,altBoundary:_t}),oe=rn(f.placement),_e=mn(f.placement),$t=!_e,le=Is(oe),Gt=le==="x"?"y":"x",Qt=f.modifiersData.popperOffsets,yt=f.rects.reference,It=f.rects.popper,Vt=typeof Pt=="function"?Pt(Object.assign({},f.rects,{placement:f.placement})):Pt,Oe=typeof Vt=="number"?{mainAxis:Vt,altAxis:Vt}:Object.assign({mainAxis:0,altAxis:0},Vt),ln=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,_n={x:0,y:0};if(Qt){if(U){var un,Sn=le==="y"?Jt:Re,yn=le==="y"?fn:en,ke=le==="y"?"height":"width",me=Qt[le],yi=me+Bt[Sn],ss=me-Bt[yn],Ze=Ot?-It[ke]/2:0,ve=_e===Yi?yt[ke]:It[ke],Pn=_e===Yi?-It[ke]:-yt[ke],Kn=f.elements.arrow,ar=Ot&&Kn?Rs(Kn):{width:0,height:0},xa=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ln=xa[Sn],Ue=xa[yn],Va=Fn(0,yt[ke],ar[ke]),qo=$t?yt[ke]/2-Ze-Va-Ln-Oe.mainAxis:ve-Va-Ln-Oe.mainAxis,Ol=$t?-yt[ke]/2+Ze+Va+Ue+Oe.mainAxis:Pn+Va+Ue+Oe.mainAxis,Ho=f.elements.arrow&&ni(f.elements.arrow),Dr=Ho?le==="y"?Ho.clientTop||0:Ho.clientLeft||0:0,Fo=(un=ln==null?void 0:ln[le])!=null?un:0,Ku=me+Ol-Fo,Dl=Fn(Ot?Wi(yi,me+qo-Fo-Dr):yi,me,Ot?ne(ss,Ku):ss);Qt[le]=Dl,_n[le]=Dl-me}if(nt){var Yu,Ih=le==="x"?Jt:Re,Ch=le==="x"?fn:en,as=Qt[Gt],Go=Gt==="y"?"height":"width",$u=as+Bt[Ih],Nl=as-Bt[Ch],Ml=[Jt,Re].indexOf(oe)!==-1,Oh=(Yu=ln==null?void 0:ln[Gt])!=null?Yu:0,Xu=Ml?$u:as-yt[Go]-It[Go]-Oh+Oe.altAxis,Zu=Ml?as+yt[Go]+It[Go]-Oh-Oe.altAxis:Nl,Wu=Ot&&Ml?function(Ju,Dh,xl){var tc=Fn(Ju,Dh,xl);return tc>xl?xl:tc}(Xu,as,Zu):Fn(Ot?Xu:$u,as,Ot?Zu:Nl);Qt[Gt]=Wu,_n[Gt]=Wu-as}f.modifiersData[S]=_n}},requiresIfExists:["offset"]};function Au(b,f,_){_===void 0&&(_=!1);var S,L,U=Ce(f),X=Ce(f)&&function(pt){var qt=pt.getBoundingClientRect(),Ot=dn(qt.width)/pt.offsetWidth||1,xt=dn(qt.height)/pt.offsetHeight||1;return Ot!==1||xt!==1}(f),nt=wn(f),lt=Ji(b,X,_),gt={scrollLeft:0,scrollTop:0},_t={x:0,y:0};return(U||!U&&!_)&&((An(f)!=="body"||br(nt))&&(gt=(S=f)!==Nn(S)&&Ce(S)?{scrollLeft:(L=S).scrollLeft,scrollTop:L.scrollTop}:ce(S)),Ce(f)?((_t=Ji(f,!0)).x+=f.clientLeft,_t.y+=f.clientTop):nt&&(_t.x=Gr(nt))),{x:lt.left+gt.scrollLeft-_t.x,y:lt.top+gt.scrollTop-_t.y,width:lt.width,height:lt.height}}function Io(b){var f=new Map,_=new Set,S=[];function L(U){_.add(U.name),[].concat(U.requires||[],U.requiresIfExists||[]).forEach(function(X){if(!_.has(X)){var nt=f.get(X);nt&&L(nt)}}),S.push(U)}return b.forEach(function(U){f.set(U.name,U)}),b.forEach(function(U){_.has(U.name)||L(U)}),S}var $r={placement:"bottom",modifiers:[],strategy:"absolute"};function Co(){for(var b=arguments.length,f=new Array(b),_=0;_<b;_++)f[_]=arguments[_];return!f.some(function(S){return!(S&&typeof S.getBoundingClientRect=="function")})}function xs(b){b===void 0&&(b={});var f=b,_=f.defaultModifiers,S=_===void 0?[]:_,L=f.defaultOptions,U=L===void 0?$r:L;return function(X,nt,lt){lt===void 0&&(lt=U);var gt,_t,pt={placement:"bottom",orderedModifiers:[],options:Object.assign({},$r,U),modifiersData:{},elements:{reference:X,popper:nt},attributes:{},styles:{}},qt=[],Ot=!1,xt={state:pt,setOptions:function(Bt){var oe=typeof Bt=="function"?Bt(pt.options):Bt;Pt(),pt.options=Object.assign({},U,pt.options,oe),pt.scrollParents={reference:Ae(X)?ir(X):X.contextElement?ir(X.contextElement):[],popper:ir(nt)};var _e,$t,le=function(Gt){var Qt=Io(Gt);return ga.reduce(function(yt,It){return yt.concat(Qt.filter(function(Vt){return Vt.phase===It}))},[])}((_e=[].concat(S,pt.options.modifiers),$t=_e.reduce(function(Gt,Qt){var yt=Gt[Qt.name];return Gt[Qt.name]=yt?Object.assign({},yt,Qt,{options:Object.assign({},yt.options,Qt.options),data:Object.assign({},yt.data,Qt.data)}):Qt,Gt},{}),Object.keys($t).map(function(Gt){return $t[Gt]})));return pt.orderedModifiers=le.filter(function(Gt){return Gt.enabled}),pt.orderedModifiers.forEach(function(Gt){var Qt=Gt.name,yt=Gt.options,It=yt===void 0?{}:yt,Vt=Gt.effect;if(typeof Vt=="function"){var Oe=Vt({state:pt,name:Qt,instance:xt,options:It});qt.push(Oe||function(){})}}),xt.update()},forceUpdate:function(){if(!Ot){var Bt=pt.elements,oe=Bt.reference,_e=Bt.popper;if(Co(oe,_e)){pt.rects={reference:Au(oe,ni(_e),pt.options.strategy==="fixed"),popper:Rs(_e)},pt.reset=!1,pt.placement=pt.options.placement,pt.orderedModifiers.forEach(function(Vt){return pt.modifiersData[Vt.name]=Object.assign({},Vt.data)});for(var $t=0;$t<pt.orderedModifiers.length;$t++)if(pt.reset!==!0){var le=pt.orderedModifiers[$t],Gt=le.fn,Qt=le.options,yt=Qt===void 0?{}:Qt,It=le.name;typeof Gt=="function"&&(pt=Gt({state:pt,options:yt,name:It,instance:xt})||pt)}else pt.reset=!1,$t=-1}}},update:(gt=function(){return new Promise(function(Bt){xt.forceUpdate(),Bt(pt)})},function(){return _t||(_t=new Promise(function(Bt){Promise.resolve().then(function(){_t=void 0,Bt(gt())})})),_t}),destroy:function(){Pt(),Ot=!0}};if(!Co(X,nt))return xt;function Pt(){qt.forEach(function(Bt){return Bt()}),qt=[]}return xt.setOptions(lt).then(function(Bt){!Ot&&lt.onFirstUpdate&&lt.onFirstUpdate(Bt)}),xt}}var Oo=xs(),Vs=xs({defaultModifiers:[Os,va,er,Zi]}),Ea=xs({defaultModifiers:[Os,va,er,Zi,Ns,ml,Ms,mi,ya]});const ks=Object.freeze(Object.defineProperty({__proto__:null,afterMain:bn,afterRead:As,afterWrite:Ss,applyStyles:Zi,arrow:mi,auto:fi,basePlacements:yr,beforeMain:ma,beforeRead:Xi,beforeWrite:pa,bottom:fn,clippingParents:bo,computeStyles:er,createPopper:Ea,createPopperBase:Oo,createPopperLite:Vs,detectOverflow:pn,end:di,eventListeners:Os,flip:ml,hide:ya,left:Re,main:ws,modifierPhases:ga,offset:Ns,placements:da,popper:Dn,popperGenerator:xs,popperOffsets:va,preventOverflow:Ms,read:bs,reference:nn,right:en,start:Yi,top:Jt,variationPlacements:vr,viewport:$i,write:hl},Symbol.toStringTag,{value:"Module"})),Do="dropdown",Mi=".bs.dropdown",xi=".data-api",pl="ArrowUp",No="ArrowDown",gl=`hide${Mi}`,_l=`hidden${Mi}`,Ta=`show${Mi}`,xn=`shown${Mi}`,Mo=`click${Mi}${xi}`,xo=`keydown${Mi}${xi}`,rr=`keyup${Mi}${xi}`,u="show",p='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',v=`${p}.${u}`,R=".dropdown-menu",q=Z()?"top-end":"top-start",$=Z()?"top-start":"top-end",ct=Z()?"bottom-end":"bottom-start",ie=Z()?"bottom-start":"bottom-end",Ye=Z()?"left-start":"right-start",re=Z()?"right-start":"left-start",sn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$e={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xe extends St{constructor(f,_){super(f,_),this._popper=null,this._parent=this._element.parentNode,this._menu=ft.next(this._element,R)[0]||ft.prev(this._element,R)[0]||ft.findOne(R,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sn}static get DefaultType(){return $e}static get NAME(){return Do}toggle(){return this._isShown()?this.hide():this.show()}show(){if(w(this._element)||this._isShown())return;const f={relatedTarget:this._element};if(!I.trigger(this._element,Ta,f).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const _ of[].concat(...document.body.children))I.on(_,"mouseover",O);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(u),this._element.classList.add(u),I.trigger(this._element,xn,f)}}hide(){if(w(this._element)||!this._isShown())return;const f={relatedTarget:this._element};this._completeHide(f)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(f){if(!I.trigger(this._element,gl,f).defaultPrevented){if("ontouchstart"in document.documentElement)for(const _ of[].concat(...document.body.children))I.off(_,"mouseover",O);this._popper&&this._popper.destroy(),this._menu.classList.remove(u),this._element.classList.remove(u),this._element.setAttribute("aria-expanded","false"),wt.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,_l,f),this._element.focus()}}_getConfig(f){if(typeof(f=super._getConfig(f)).reference=="object"&&!g(f.reference)&&typeof f.reference.getBoundingClientRect!="function")throw new TypeError(`${Do.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return f}_createPopper(){if(ks===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let f=this._element;this._config.reference==="parent"?f=this._parent:g(this._config.reference)?f=y(this._config.reference):typeof this._config.reference=="object"&&(f=this._config.reference);const _=this._getPopperConfig();this._popper=Ea(f,this._menu,_)}_isShown(){return this._menu.classList.contains(u)}_getPlacement(){const f=this._parent;if(f.classList.contains("dropend"))return Ye;if(f.classList.contains("dropstart"))return re;if(f.classList.contains("dropup-center"))return"top";if(f.classList.contains("dropdown-center"))return"bottom";const _=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return f.classList.contains("dropup")?_?$:q:_?ie:ct}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(_=>Number.parseInt(_,10)):typeof f=="function"?_=>f(_,this._element):f}_getPopperConfig(){const f={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(wt.setDataAttribute(this._menu,"popper","static"),f.modifiers=[{name:"applyStyles",enabled:!1}]),{...f,...dt(this._config.popperConfig,[void 0,f])}}_selectMenuItem({key:f,target:_}){const S=ft.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(L=>E(L));S.length&&zt(S,_,f===No,!S.includes(_)).focus()}static jQueryInterface(f){return this.each(function(){const _=Xe.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}static clearMenus(f){if(f.button===2||f.type==="keyup"&&f.key!=="Tab")return;const _=ft.find(v);for(const S of _){const L=Xe.getInstance(S);if(!L||L._config.autoClose===!1)continue;const U=f.composedPath(),X=U.includes(L._menu);if(U.includes(L._element)||L._config.autoClose==="inside"&&!X||L._config.autoClose==="outside"&&X||L._menu.contains(f.target)&&(f.type==="keyup"&&f.key==="Tab"||/input|select|option|textarea|form/i.test(f.target.tagName)))continue;const nt={relatedTarget:L._element};f.type==="click"&&(nt.clickEvent=f),L._completeHide(nt)}}static dataApiKeydownHandler(f){const _=/input|textarea/i.test(f.target.tagName),S=f.key==="Escape",L=[pl,No].includes(f.key);if(!L&&!S||_&&!S)return;f.preventDefault();const U=this.matches(p)?this:ft.prev(this,p)[0]||ft.next(this,p)[0]||ft.findOne(p,f.delegateTarget.parentNode),X=Xe.getOrCreateInstance(U);if(L)return f.stopPropagation(),X.show(),void X._selectMenuItem(f);X._isShown()&&(f.stopPropagation(),X.hide(),U.focus())}}I.on(document,xo,p,Xe.dataApiKeydownHandler),I.on(document,xo,R,Xe.dataApiKeydownHandler),I.on(document,Mo,Xe.clearMenus),I.on(document,rr,Xe.clearMenus),I.on(document,Mo,p,function(b){b.preventDefault(),Xe.getOrCreateInstance(this).toggle()}),ut(Xe);const an="backdrop",Vi="show",ba=`mousedown.bs.${an}`,yl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ah={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class wu extends Ft{constructor(f){super(),this._config=this._getConfig(f),this._isAppended=!1,this._element=null}static get Default(){return yl}static get DefaultType(){return ah}static get NAME(){return an}show(f){if(!this._config.isVisible)return void dt(f);this._append();const _=this._getElement();this._config.isAnimated&&K(_),_.classList.add(Vi),this._emulateAnimation(()=>{dt(f)})}hide(f){this._config.isVisible?(this._getElement().classList.remove(Vi),this._emulateAnimation(()=>{this.dispose(),dt(f)})):dt(f)}dispose(){this._isAppended&&(I.off(this._element,ba),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const f=document.createElement("div");f.className=this._config.className,this._config.isAnimated&&f.classList.add("fade"),this._element=f}return this._element}_configAfterMerge(f){return f.rootElement=y(f.rootElement),f}_append(){if(this._isAppended)return;const f=this._getElement();this._config.rootElement.append(f),I.on(f,ba,()=>{dt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(f){Tt(f,this._getElement(),this._config.isAnimated)}}const Aa=".bs.focustrap",Su=`focusin${Aa}`,oh=`keydown.tab${Aa}`,Ru="backward",lh={autofocus:!0,trapElement:null},vd={autofocus:"boolean",trapElement:"element"};class uh extends Ft{constructor(f){super(),this._config=this._getConfig(f),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return lh}static get DefaultType(){return vd}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),I.off(document,Aa),I.on(document,Su,f=>this._handleFocusin(f)),I.on(document,oh,f=>this._handleKeydown(f)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,Aa))}_handleFocusin(f){const{trapElement:_}=this._config;if(f.target===document||f.target===_||_.contains(f.target))return;const S=ft.focusableChildren(_);S.length===0?_.focus():this._lastTabNavDirection===Ru?S[S.length-1].focus():S[0].focus()}_handleKeydown(f){f.key==="Tab"&&(this._lastTabNavDirection=f.shiftKey?Ru:"forward")}}const ch=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hh=".sticky-top",vl="padding-right",Gn="margin-right";class Ps{constructor(){this._element=document.body}getWidth(){const f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){const f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vl,_=>_+f),this._setElementAttributes(ch,vl,_=>_+f),this._setElementAttributes(hh,Gn,_=>_-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vl),this._resetElementAttributes(ch,vl),this._resetElementAttributes(hh,Gn)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,_,S){const L=this.getWidth();this._applyManipulationCallback(f,U=>{if(U!==this._element&&window.innerWidth>U.clientWidth+L)return;this._saveInitialAttribute(U,_);const X=window.getComputedStyle(U).getPropertyValue(_);U.style.setProperty(_,`${S(Number.parseFloat(X))}px`)})}_saveInitialAttribute(f,_){const S=f.style.getPropertyValue(_);S&&wt.setDataAttribute(f,_,S)}_resetElementAttributes(f,_){this._applyManipulationCallback(f,S=>{const L=wt.getDataAttribute(S,_);L!==null?(wt.removeDataAttribute(S,_),S.style.setProperty(_,L)):S.style.removeProperty(_)})}_applyManipulationCallback(f,_){if(g(f))_(f);else for(const S of ft.find(f,this._element))_(S)}}const ri=".bs.modal",fh=`hide${ri}`,dh=`hidePrevented${ri}`,Iu=`hidden${ri}`,El=`show${ri}`,Ed=`shown${ri}`,wa=`resize${ri}`,Cu=`click.dismiss${ri}`,Vo=`mousedown.dismiss${ri}`,Ou=`keydown.dismiss${ri}`,mh=`click${ri}.data-api`,Xr="modal-open",Ls="show",ko="modal-static",ph={backdrop:!0,focus:!0,keyboard:!0},Us={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Zr extends St{constructor(f,_){super(f,_),this._dialog=ft.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ps,this._addEventListeners()}static get Default(){return ph}static get DefaultType(){return Us}static get NAME(){return"modal"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||this._isTransitioning||I.trigger(this._element,El,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(f)))}hide(){this._isShown&&!this._isTransitioning&&(I.trigger(this._element,fh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ls),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){I.off(window,ri),I.off(this._dialog,ri),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new wu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new uh({trapElement:this._element})}_showElement(f){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const _=ft.findOne(".modal-body",this._dialog);_&&(_.scrollTop=0),K(this._element),this._element.classList.add(Ls),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,Ed,{relatedTarget:f})},this._dialog,this._isAnimated())}_addEventListeners(){I.on(this._element,Ou,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),I.on(window,wa,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),I.on(this._element,Vo,f=>{I.one(this._element,Cu,_=>{this._element===f.target&&this._element===_.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xr),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,Iu)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,dh).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,_=this._element.style.overflowY;_==="hidden"||this._element.classList.contains(ko)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(ko),this._queueCallback(()=>{this._element.classList.remove(ko),this._queueCallback(()=>{this._element.style.overflowY=_},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const f=this._element.scrollHeight>document.documentElement.clientHeight,_=this._scrollBar.getWidth(),S=_>0;if(S&&!f){const L=Z()?"paddingLeft":"paddingRight";this._element.style[L]=`${_}px`}if(!S&&f){const L=Z()?"paddingRight":"paddingLeft";this._element.style[L]=`${_}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(f,_){return this.each(function(){const S=Zr.getOrCreateInstance(this,f);if(typeof f=="string"){if(S[f]===void 0)throw new TypeError(`No method named "${f}"`);S[f](_)}})}}I.on(document,mh,'[data-bs-toggle="modal"]',function(b){const f=ft.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),I.one(f,El,S=>{S.defaultPrevented||I.one(f,Iu,()=>{E(this)&&this.focus()})});const _=ft.findOne(".modal.show");_&&Zr.getInstance(_).hide(),Zr.getOrCreateInstance(f).toggle(this)}),ti(Zr),ut(Zr);const sr=".bs.offcanvas",Du=".data-api",Td=`load${sr}${Du}`,gh="show",_h="showing",Nu="hiding",Mu=".offcanvas.show",xu=`show${sr}`,ki=`shown${sr}`,yh=`hide${sr}`,si=`hidePrevented${sr}`,ai=`hidden${sr}`,Sa=`resize${sr}`,Vu=`click${sr}${Du}`,Tl=`keydown.dismiss${sr}`,bl={backdrop:!0,keyboard:!0,scroll:!1},ku={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qn extends St{constructor(f,_){super(f,_),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return bl}static get DefaultType(){return ku}static get NAME(){return"offcanvas"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||I.trigger(this._element,xu,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ps().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(_h),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(gh),this._element.classList.remove(_h),I.trigger(this._element,ki,{relatedTarget:f})},this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,yh).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Nu),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(gh,Nu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ps().reset(),I.trigger(this._element,ai)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const f=!!this._config.backdrop;return new wu({className:"offcanvas-backdrop",isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?()=>{this._config.backdrop!=="static"?this.hide():I.trigger(this._element,si)}:null})}_initializeFocusTrap(){return new uh({trapElement:this._element})}_addEventListeners(){I.on(this._element,Tl,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():I.trigger(this._element,si))})}static jQueryInterface(f){return this.each(function(){const _=Qn.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f](this)}})}}I.on(document,Vu,'[data-bs-toggle="offcanvas"]',function(b){const f=ft.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),w(this))return;I.one(f,ai,()=>{E(this)&&this.focus()});const _=ft.findOne(Mu);_&&_!==f&&Qn.getInstance(_).hide(),Qn.getOrCreateInstance(f).toggle(this)}),I.on(window,Td,()=>{for(const b of ft.find(Mu))Qn.getOrCreateInstance(b).show()}),I.on(window,Sa,()=>{for(const b of ft.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(b).position!=="fixed"&&Qn.getOrCreateInstance(b).hide()}),ti(Qn),ut(Qn);const Pu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Al=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ra=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bd=(b,f)=>{const _=b.nodeName.toLowerCase();return f.includes(_)?!Al.has(_)||!!Ra.test(b.nodeValue):f.filter(S=>S instanceof RegExp).some(S=>S.test(_))},oi={allowList:Pu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Lu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ar={entry:"(string|element|function|null)",selector:"(string|element)"};class vh extends Ft{constructor(f){super(),this._config=this._getConfig(f)}static get Default(){return oi}static get DefaultType(){return Lu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(f=>this._resolvePossibleFunction(f)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(f){return this._checkContent(f),this._config.content={...this._config.content,...f},this}toHtml(){const f=document.createElement("div");f.innerHTML=this._maybeSanitize(this._config.template);for(const[L,U]of Object.entries(this._config.content))this._setContent(f,U,L);const _=f.children[0],S=this._resolvePossibleFunction(this._config.extraClass);return S&&_.classList.add(...S.split(" ")),_}_typeCheckConfig(f){super._typeCheckConfig(f),this._checkContent(f.content)}_checkContent(f){for(const[_,S]of Object.entries(f))super._typeCheckConfig({selector:_,entry:S},Ar)}_setContent(f,_,S){const L=ft.findOne(S,f);L&&((_=this._resolvePossibleFunction(_))?g(_)?this._putElementInTemplate(y(_),L):this._config.html?L.innerHTML=this._maybeSanitize(_):L.textContent=_:L.remove())}_maybeSanitize(f){return this._config.sanitize?function(_,S,L){if(!_.length)return _;if(L&&typeof L=="function")return L(_);const U=new window.DOMParser().parseFromString(_,"text/html"),X=[].concat(...U.body.querySelectorAll("*"));for(const nt of X){const lt=nt.nodeName.toLowerCase();if(!Object.keys(S).includes(lt)){nt.remove();continue}const gt=[].concat(...nt.attributes),_t=[].concat(S["*"]||[],S[lt]||[]);for(const pt of gt)bd(pt,_t)||nt.removeAttribute(pt.nodeName)}return U.body.innerHTML}(f,this._config.allowList,this._config.sanitizeFn):f}_resolvePossibleFunction(f){return dt(f,[void 0,this])}_putElementInTemplate(f,_){if(this._config.html)return _.innerHTML="",void _.append(f);_.textContent=f.textContent}}const wl=new Set(["sanitize","allowList","sanitizeFn"]),wr="fade",Ia="show",Uu=".tooltip-inner",zs=".modal",Bs="hide.bs.modal",Wr="hover",Ca="focus",gi={AUTO:"auto",TOP:"top",RIGHT:Z()?"left":"right",BOTTOM:"bottom",LEFT:Z()?"right":"left"},_i={allowList:Pu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},js={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Vn extends St{constructor(f,_){if(ks===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(f,_),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _i}static get DefaultType(){return js}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(zs),Bs,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const f=I.trigger(this._element,this.constructor.eventName("show")),_=(N(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(f.defaultPrevented||!_)return;this._disposePopper();const S=this._getTipElement();this._element.setAttribute("aria-describedby",S.getAttribute("id"));const{container:L}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(L.append(S),I.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(S),S.classList.add(Ia),"ontouchstart"in document.documentElement)for(const U of[].concat(...document.body.children))I.on(U,"mouseover",O);this._queueCallback(()=>{I.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!I.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ia),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))I.off(f,"mouseover",O);this._activeTrigger.click=!1,this._activeTrigger[Ca]=!1,this._activeTrigger[Wr]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(f){const _=this._getTemplateFactory(f).toHtml();if(!_)return null;_.classList.remove(wr,Ia),_.classList.add(`bs-${this.constructor.NAME}-auto`);const S=(L=>{do L+=Math.floor(1e6*Math.random());while(document.getElementById(L));return L})(this.constructor.NAME).toString();return _.setAttribute("id",S),this._isAnimated()&&_.classList.add(wr),_}setContent(f){this._newContent=f,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(f){return this._templateFactory?this._templateFactory.changeContent(f):this._templateFactory=new vh({...this._config,content:f,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Uu]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(f){return this.constructor.getOrCreateInstance(f.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(wr)}_isShown(){return this.tip&&this.tip.classList.contains(Ia)}_createPopper(f){const _=dt(this._config.placement,[this,f,this._element]),S=gi[_.toUpperCase()];return Ea(this._element,f,this._getPopperConfig(S))}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(_=>Number.parseInt(_,10)):typeof f=="function"?_=>f(_,this._element):f}_resolvePossibleFunction(f){return dt(f,[this._element,this._element])}_getPopperConfig(f){const _={placement:f,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:S=>{this._getTipElement().setAttribute("data-popper-placement",S.state.placement)}}]};return{..._,...dt(this._config.popperConfig,[void 0,_])}}_setListeners(){const f=this._config.trigger.split(" ");for(const _ of f)if(_==="click")I.on(this._element,this.constructor.eventName("click"),this._config.selector,S=>{this._initializeOnDelegatedTarget(S).toggle()});else if(_!=="manual"){const S=_===Wr?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),L=_===Wr?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");I.on(this._element,S,this._config.selector,U=>{const X=this._initializeOnDelegatedTarget(U);X._activeTrigger[U.type==="focusin"?Ca:Wr]=!0,X._enter()}),I.on(this._element,L,this._config.selector,U=>{const X=this._initializeOnDelegatedTarget(U);X._activeTrigger[U.type==="focusout"?Ca:Wr]=X._element.contains(U.relatedTarget),X._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(zs),Bs,this._hideModalHandler)}_fixTitle(){const f=this._element.getAttribute("title");f&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",f),this._element.setAttribute("data-bs-original-title",f),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(f,_){clearTimeout(this._timeout),this._timeout=setTimeout(f,_)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(f){const _=wt.getDataAttributes(this._element);for(const S of Object.keys(_))wl.has(S)&&delete _[S];return f={..._,...typeof f=="object"&&f?f:{}},f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f.container=f.container===!1?document.body:y(f.container),typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),typeof f.title=="number"&&(f.title=f.title.toString()),typeof f.content=="number"&&(f.content=f.content.toString()),f}_getDelegateConfig(){const f={};for(const[_,S]of Object.entries(this._config))this.constructor.Default[_]!==S&&(f[_]=S);return f.selector=!1,f.trigger="manual",f}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(f){return this.each(function(){const _=Vn.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}}ut(Vn);const Sr=".popover-header",qs=".popover-body",Eh={...Vn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},zu={...Vn.DefaultType,content:"(null|string|element|function)"};class Oa extends Vn{static get Default(){return Eh}static get DefaultType(){return zu}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Sr]:this._getTitle(),[qs]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(f){return this.each(function(){const _=Oa.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f]()}})}}ut(Oa);const gn=".bs.scrollspy",Ve=`activate${gn}`,he=`click${gn}`,Hs=`load${gn}.data-api`,kn="active",Po="[href]",Jr=".nav-link",Th=`${Jr}, .nav-item > ${Jr}, .list-group-item`,bh={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Lo={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Rr extends St{constructor(f,_){super(f,_),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return bh}static get DefaultType(){return Lo}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const f of this._observableSections.values())this._observer.observe(f)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(f){return f.target=y(f.target)||document.body,f.rootMargin=f.offset?`${f.offset}px 0px -30%`:f.rootMargin,typeof f.threshold=="string"&&(f.threshold=f.threshold.split(",").map(_=>Number.parseFloat(_))),f}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(I.off(this._config.target,he),I.on(this._config.target,he,Po,f=>{const _=this._observableSections.get(f.target.hash);if(_){f.preventDefault();const S=this._rootElement||window,L=_.offsetTop-this._element.offsetTop;if(S.scrollTo)return void S.scrollTo({top:L,behavior:"smooth"});S.scrollTop=L}}))}_getNewObserver(){const f={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(_=>this._observerCallback(_),f)}_observerCallback(f){const _=X=>this._targetLinks.get(`#${X.target.id}`),S=X=>{this._previousScrollData.visibleEntryTop=X.target.offsetTop,this._process(_(X))},L=(this._rootElement||document.documentElement).scrollTop,U=L>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=L;for(const X of f){if(!X.isIntersecting){this._activeTarget=null,this._clearActiveClass(_(X));continue}const nt=X.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(U&&nt){if(S(X),!L)return}else U||nt||S(X)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const f=ft.find(Po,this._config.target);for(const _ of f){if(!_.hash||w(_))continue;const S=ft.findOne(decodeURI(_.hash),this._element);E(S)&&(this._targetLinks.set(decodeURI(_.hash),_),this._observableSections.set(_.hash,S))}}_process(f){this._activeTarget!==f&&(this._clearActiveClass(this._config.target),this._activeTarget=f,f.classList.add(kn),this._activateParents(f),I.trigger(this._element,Ve,{relatedTarget:f}))}_activateParents(f){if(f.classList.contains("dropdown-item"))ft.findOne(".dropdown-toggle",f.closest(".dropdown")).classList.add(kn);else for(const _ of ft.parents(f,".nav, .list-group"))for(const S of ft.prev(_,Th))S.classList.add(kn)}_clearActiveClass(f){f.classList.remove(kn);const _=ft.find(`${Po}.${kn}`,f);for(const S of _)S.classList.remove(kn)}static jQueryInterface(f){return this.each(function(){const _=Rr.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}})}}I.on(window,Hs,()=>{for(const b of ft.find('[data-bs-spy="scroll"]'))Rr.getOrCreateInstance(b)}),ut(Rr);const ts=".bs.tab",Uo=`hide${ts}`,Bu=`hidden${ts}`,Fs=`show${ts}`,Ir=`shown${ts}`,es=`click${ts}`,Cr=`keydown${ts}`,ju=`load${ts}`,qu="ArrowLeft",Da="ArrowRight",Sl="ArrowUp",ns="ArrowDown",on="Home",zo="End",is="active",Ah="fade",Hu="show",wh=".dropdown-toggle",Le=`:not(${wh})`,Rl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Gs=`.nav-link${Le}, .list-group-item${Le}, [role="tab"]${Le}, ${Rl}`,Bo=`.${is}[data-bs-toggle="tab"], .${is}[data-bs-toggle="pill"], .${is}[data-bs-toggle="list"]`;class Or extends St{constructor(f){super(f),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),I.on(this._element,Cr,_=>this._keydown(_)))}static get NAME(){return"tab"}show(){const f=this._element;if(this._elemIsActive(f))return;const _=this._getActiveElem(),S=_?I.trigger(_,Uo,{relatedTarget:f}):null;I.trigger(f,Fs,{relatedTarget:_}).defaultPrevented||S&&S.defaultPrevented||(this._deactivate(_,f),this._activate(f,_))}_activate(f,_){f&&(f.classList.add(is),this._activate(ft.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.removeAttribute("tabindex"),f.setAttribute("aria-selected",!0),this._toggleDropDown(f,!0),I.trigger(f,Ir,{relatedTarget:_})):f.classList.add(Hu)},f,f.classList.contains(Ah)))}_deactivate(f,_){f&&(f.classList.remove(is),f.blur(),this._deactivate(ft.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.setAttribute("aria-selected",!1),f.setAttribute("tabindex","-1"),this._toggleDropDown(f,!1),I.trigger(f,Bu,{relatedTarget:_})):f.classList.remove(Hu)},f,f.classList.contains(Ah)))}_keydown(f){if(![qu,Da,Sl,ns,on,zo].includes(f.key))return;f.stopPropagation(),f.preventDefault();const _=this._getChildren().filter(L=>!w(L));let S;if([on,zo].includes(f.key))S=_[f.key===on?0:_.length-1];else{const L=[Da,ns].includes(f.key);S=zt(_,f.target,L,!0)}S&&(S.focus({preventScroll:!0}),Or.getOrCreateInstance(S).show())}_getChildren(){return ft.find(Gs,this._parent)}_getActiveElem(){return this._getChildren().find(f=>this._elemIsActive(f))||null}_setInitialAttributes(f,_){this._setAttributeIfNotExists(f,"role","tablist");for(const S of _)this._setInitialAttributesOnChild(S)}_setInitialAttributesOnChild(f){f=this._getInnerElement(f);const _=this._elemIsActive(f),S=this._getOuterElement(f);f.setAttribute("aria-selected",_),S!==f&&this._setAttributeIfNotExists(S,"role","presentation"),_||f.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(f,"role","tab"),this._setInitialAttributesOnTargetPanel(f)}_setInitialAttributesOnTargetPanel(f){const _=ft.getElementFromSelector(f);_&&(this._setAttributeIfNotExists(_,"role","tabpanel"),f.id&&this._setAttributeIfNotExists(_,"aria-labelledby",`${f.id}`))}_toggleDropDown(f,_){const S=this._getOuterElement(f);if(!S.classList.contains("dropdown"))return;const L=(U,X)=>{const nt=ft.findOne(U,S);nt&&nt.classList.toggle(X,_)};L(wh,is),L(".dropdown-menu",Hu),S.setAttribute("aria-expanded",_)}_setAttributeIfNotExists(f,_,S){f.hasAttribute(_)||f.setAttribute(_,S)}_elemIsActive(f){return f.classList.contains(is)}_getInnerElement(f){return f.matches(Gs)?f:ft.findOne(Gs,f)}_getOuterElement(f){return f.closest(".nav-item, .list-group-item")||f}static jQueryInterface(f){return this.each(function(){const _=Or.getOrCreateInstance(this);if(typeof f=="string"){if(_[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);_[f]()}})}}I.on(document,es,Rl,function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),w(this)||Or.getOrCreateInstance(this).show()}),I.on(window,ju,()=>{for(const b of ft.find(Bo))Or.getOrCreateInstance(b)}),ut(Or);const li=".bs.toast",Na=`mouseover${li}`,Ad=`mouseout${li}`,Sh=`focusin${li}`,wd=`focusout${li}`,Rh=`hide${li}`,Qs=`hidden${li}`,Fu=`show${li}`,Il=`shown${li}`,Gu="hide",rs="show",jo="showing",Cl={animation:"boolean",autohide:"boolean",delay:"number"},Qu={animation:!0,autohide:!0,delay:5e3};class Ma extends St{constructor(f,_){super(f,_),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Qu}static get DefaultType(){return Cl}static get NAME(){return"toast"}show(){I.trigger(this._element,Fu).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Gu),K(this._element),this._element.classList.add(rs,jo),this._queueCallback(()=>{this._element.classList.remove(jo),I.trigger(this._element,Il),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(I.trigger(this._element,Rh).defaultPrevented||(this._element.classList.add(jo),this._queueCallback(()=>{this._element.classList.add(Gu),this._element.classList.remove(jo,rs),I.trigger(this._element,Qs)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rs),super.dispose()}isShown(){return this._element.classList.contains(rs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(f,_){switch(f.type){case"mouseover":case"mouseout":this._hasMouseInteraction=_;break;case"focusin":case"focusout":this._hasKeyboardInteraction=_}if(_)return void this._clearTimeout();const S=f.relatedTarget;this._element===S||this._element.contains(S)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,Na,f=>this._onInteraction(f,!0)),I.on(this._element,Ad,f=>this._onInteraction(f,!1)),I.on(this._element,Sh,f=>this._onInteraction(f,!0)),I.on(this._element,wd,f=>this._onInteraction(f,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(f){return this.each(function(){const _=Ma.getOrCreateInstance(this,f);if(typeof f=="string"){if(_[f]===void 0)throw new TypeError(`No method named "${f}"`);_[f](this)}})}}return ti(Ma),ut(Ma),{Alert:wi,Button:fr,Carousel:gr,Collapse:Fe,Dropdown:Xe,Modal:Zr,Offcanvas:Qn,Popover:Oa,ScrollSpy:Rr,Tab:Or,Toast:Ma,Tooltip:Vn}})}(Tf)),Tf.exports}aA();const oA=()=>{};var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},lA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,E=y?r[l+2]:0,w=c>>2,N=(c&3)<<4|g>>4;let O=(g&15)<<2|E>>6,K=E&63;y||(K=64,d||(O=64)),s.push(n[w],n[N],n[O],n[K])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(yE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const E=l<r.length?n[r.charAt(l)]:64;++l;const N=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||E==null||N==null)throw new uA;const O=c<<2|g>>4;if(s.push(O),E!==64){const K=g<<4&240|E>>2;if(s.push(K),N!==64){const G=E<<6&192|N;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cA=function(r){const t=yE(r);return vE.encodeByteArray(t,!0)},xf=function(r){return cA(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>hA().__FIREBASE_DEFAULTS__,dA=()=>{if(typeof process>"u"||typeof By>"u")return;const r=By.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&EE(r[1]);return t&&JSON.parse(t)},Zf=()=>{try{return oA()||fA()||dA()||mA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>{var t,n;return(n=(t=Zf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},pA=r=>{const t=TE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},bE=()=>{var r;return(r=Zf())===null||r===void 0?void 0:r.config},AE=r=>{var t;return(t=Zf())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return r.endsWith(".cloudworkstations.dev")}async function wE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xf(JSON.stringify(n)),xf(JSON.stringify(d)),""].join(".")}const Mc={};function yA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Mc))Mc[t]?r.emulator.push(t):r.prod.push(t);return r}function vA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let jy=!1;function SE(r,t){if(typeof window>"u"||typeof document>"u"||!$c(window.location.host)||Mc[r]===t||Mc[r]||jy)return;Mc[r]=t;function n(O){return`__firebase__banner__${O}`}const s="__firebase__banner",c=yA().prod.length>0;function d(){const O=document.getElementById(s);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function E(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{jy=!0,d()},O}function w(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function N(){const O=vA(s),K=n("text"),G=document.getElementById(K)||document.createElement("span"),tt=n("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ut=n("preprendIcon"),dt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const Tt=O.element;g(Tt),w(Z,tt);const zt=E();y(dt,ut),Tt.append(dt,G,Z,zt),document.body.appendChild(Tt)}c?(G.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function TA(){var r;const t=(r=Zf())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const r=Wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="FirebaseError";class oa extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=OA,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?DA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new oa(l,g,s)}}function DA(r,t){return r.replace(NA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const NA=/\{\$([^}]+)}/g;function MA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function il(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(qy(c)&&qy(d)){if(!il(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function xA(r,t){const n=new VA(r,t);return n.subscribe.bind(n)}class VA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Pm),l.error===void 0&&(l.error=Pm),l.complete===void 0&&(l.complete=Pm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r){return r&&r._delegate?r._delegate:r}class rl{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UA(t))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Xo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xo){return this.instances.has(t)}getOptions(t=Xo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xo){return this.component?this.component.multipleInstances?t:Xo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LA(r){return r===Xo?void 0:r}function UA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new PA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(se||(se={}));const BA={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},jA=se.INFO,qA={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},HA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=qA[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tp{constructor(t){this.name=t,this._logLevel=jA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}const FA=(r,t)=>t.some(n=>r instanceof n);let Hy,Fy;function GA(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Ym=new WeakMap,IE=new WeakMap,Lm=new WeakMap,bp=new WeakMap;function KA(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(no(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&RE.set(n,r)}).catch(()=>{}),bp.set(t,r),t}function YA(r){if(Ym.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ym.set(r,t)}let $m={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||IE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function $A(r){$m=r($m)}function XA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Um(this),t,...n);return IE.set(s,t.sort?t.sort():[t]),no(s)}:QA().includes(r)?function(...t){return r.apply(Um(this),t),no(RE.get(this))}:function(...t){return no(r.apply(Um(this),t))}}function ZA(r){return typeof r=="function"?XA(r):(r instanceof IDBTransaction&&YA(r),FA(r,GA())?new Proxy(r,$m):r)}function no(r){if(r instanceof IDBRequest)return KA(r);if(Lm.has(r))return Lm.get(r);const t=ZA(r);return t!==r&&(Lm.set(r,t),bp.set(t,r)),t}const Um=r=>bp.get(r);function WA(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=no(d);return s&&d.addEventListener("upgradeneeded",y=>{s(no(d.result),y.oldVersion,y.newVersion,no(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const JA=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],zm=new Map;function Gy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zm.get(t))return zm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=tw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||JA.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let E=y.store;return s&&(E=E.index(g.shift())),(await Promise.all([E[n](...g),l&&y.done]))[0]};return zm.set(t,c),c}$A(r=>({...r,get:(t,n,s)=>Gy(t,n)||r.get(t,n,s),has:(t,n)=>!!Gy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xm="@firebase/app",Qy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new Tp("@firebase/app"),iw="@firebase/app-compat",rw="@firebase/analytics-compat",sw="@firebase/analytics",aw="@firebase/app-check-compat",ow="@firebase/app-check",lw="@firebase/auth",uw="@firebase/auth-compat",cw="@firebase/database",hw="@firebase/data-connect",fw="@firebase/database-compat",dw="@firebase/functions",mw="@firebase/functions-compat",pw="@firebase/installations",gw="@firebase/installations-compat",_w="@firebase/messaging",yw="@firebase/messaging-compat",vw="@firebase/performance",Ew="@firebase/performance-compat",Tw="@firebase/remote-config",bw="@firebase/remote-config-compat",Aw="@firebase/storage",ww="@firebase/storage-compat",Sw="@firebase/firestore",Rw="@firebase/ai",Iw="@firebase/firestore-compat",Cw="firebase",Ow="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",Dw={[Xm]:"fire-core",[iw]:"fire-core-compat",[sw]:"fire-analytics",[rw]:"fire-analytics-compat",[ow]:"fire-app-check",[aw]:"fire-app-check-compat",[lw]:"fire-auth",[uw]:"fire-auth-compat",[cw]:"fire-rtdb",[hw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[dw]:"fire-fn",[mw]:"fire-fn-compat",[pw]:"fire-iid",[gw]:"fire-iid-compat",[_w]:"fire-fcm",[yw]:"fire-fcm-compat",[vw]:"fire-perf",[Ew]:"fire-perf-compat",[Tw]:"fire-rc",[bw]:"fire-rc-compat",[Aw]:"fire-gcs",[ww]:"fire-gcs-compat",[Sw]:"fire-fst",[Iw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Cw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,Nw=new Map,Wm=new Map;function Ky(r,t){try{r.container.addComponent(t)}catch(n){ia.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ru(r){const t=r.name;if(Wm.has(t))return ia.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,r);for(const n of Vf.values())Ky(n,r);for(const n of Nw.values())Ky(n,r);return!0}function Ap(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Vr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new Xc("app","Firebase",Mw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=Ow;function CE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw io.create("bad-app-name",{appName:String(l)});if(n||(n=bE()),!n)throw io.create("no-options");const c=Vf.get(l);if(c){if(il(n,c.options)&&il(s,c.config))return c;throw io.create("duplicate-app",{appName:l})}const d=new zA(l);for(const y of Wm.values())d.addComponent(y);const g=new xw(n,s,d);return Vf.set(l,g),g}function OE(r=Zm){const t=Vf.get(r);if(!t&&r===Zm&&bE())return CE();if(!t)throw io.create("no-app",{appName:r});return t}function ro(r,t,n){var s;let l=(s=Dw[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ia.warn(g.join(" "));return}ru(new rl(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="firebase-heartbeat-database",kw=1,Uc="firebase-heartbeat-store";let Bm=null;function DE(){return Bm||(Bm=WA(Vw,kw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Uc)}catch(n){console.warn(n)}}}}).catch(r=>{throw io.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function Pw(r){try{const n=(await DE()).transaction(Uc),s=await n.objectStore(Uc).get(NE(r));return await n.done,s}catch(t){if(t instanceof oa)ia.warn(t.message);else{const n=io.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ia.warn(n.message)}}}async function Yy(r,t){try{const s=(await DE()).transaction(Uc,"readwrite");await s.objectStore(Uc).put(t,NE(r)),await s.done}catch(n){if(n instanceof oa)ia.warn(n.message);else{const s=io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ia.warn(s.message)}}}function NE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1024,Uw=30;class zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$y();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Uw){const d=qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ia.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$y(),{heartbeatsToSend:s,unsentEntries:l}=Bw(this._heartbeatsCache.heartbeats),c=xf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ia.warn(n),""}}}function $y(){return new Date().toISOString().substring(0,10)}function Bw(r,t=Lw){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Xy(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Xy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Yy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Xy(r){return xf(JSON.stringify({version:2,heartbeats:r})).length}function qw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){ru(new rl("platform-logger",t=>new ew(t),"PRIVATE")),ru(new rl("heartbeat",t=>new zw(t),"PRIVATE")),ro(Xm,Qy,r),ro(Xm,Qy,"esm2017"),ro("fire-js","")}Hw("");function wp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fw=ME,xE=new Xc("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new Tp("@firebase/auth");function Gw(r,...t){kf.logLevel<=se.WARN&&kf.warn(`Auth (${du}): ${r}`,...t)}function bf(r,...t){kf.logLevel<=se.ERROR&&kf.error(`Auth (${du}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(r,...t){throw Rp(r,...t)}function Pr(r,...t){return Rp(r,...t)}function Sp(r,t,n){const s=Object.assign(Object.assign({},Fw()),{[t]:n});return new Xc("auth","Firebase",s).create(t,{appName:r.name})}function tl(r){return Sp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&gs(r,"argument-error"),Sp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xE.create(r,...t)}function jt(r,t,...n){if(!r)throw Rp(t,...n)}function ea(r){const t="INTERNAL ASSERTION FAILED: "+r;throw bf(t),new Error(t)}function ra(r,t){r||ea(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Kw(){return Zy()==="http:"||Zy()==="https:"}function Zy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||AA()||"connection"in navigator)?navigator.onLine:!0}function $w(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,n){this.shortDelay=t,this.longDelay=n,ra(n>t,"Short delay should be less than long delay!"),this.isMobile=EA()||wA()}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r,t){ra(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ww=new Wc(3e4,6e4);function Cp(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function mu(r,t,n,s,l={}){return kE(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Zc(Object.assign({key:r.config.apiKey},d)).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const E=Object.assign({method:t,headers:y},c);return bA()||(E.referrerPolicy="no-referrer"),r.emulatorConfig&&$c(r.emulatorConfig.host)&&(E.credentials="include"),VE.fetch()(await PE(r,r.config.apiHost,n,g),E)})}async function kE(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Xw),t);try{const l=new tS(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pf(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,E]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw pf(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw pf(r,"user-disabled",d);const w=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Sp(r,w,E);gs(r,w)}}catch(l){if(l instanceof oa)throw l;gs(r,"network-request-failed",{message:String(l)})}}async function Jw(r,t,n,s,l={}){const c=await mu(r,t,n,s,l);return"mfaPendingCredential"in c&&gs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function PE(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?Ip(r.config,l):`${r.config.apiScheme}://${l}`;return Zw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class tS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pr(this.auth,"network-request-failed")),Ww.get())})}}function pf(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Pr(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(r,t){return mu(r,"POST","/v1/accounts:delete",t)}async function Pf(r,t){return mu(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nS(r,t=!1){const n=Jn(r),s=await n.getIdToken(t),l=Op(s);jt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:xc(jm(l.auth_time)),issuedAtTime:xc(jm(l.iat)),expirationTime:xc(jm(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function Op(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const l=EE(n);return l?JSON.parse(l):(bf("Failed to decode base64 JWT payload"),null)}catch(l){return bf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Wy(r){const t=Op(r);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof oa&&iS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(r){var t;const n=r.auth,s=await r.getIdToken(),l=await zc(r,Pf(n,{idToken:s}));jt(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?LE(c.providerUserInfo):[],g=aS(r.providerData,d),y=r.isAnonymous,E=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),w=y?E:!1,N={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new tp(c.createdAt,c.lastLoginAt),isAnonymous:w};Object.assign(r,N)}async function sS(r){const t=Jn(r);await Lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aS(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function LE(r){return r.map(t=>{var{providerId:n}=t,s=wp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(r,t){const n=await kE(r,{},async()=>{const s=Zc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await PE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",VE.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lS(r,t){return mu(r,"POST","/v2/accounts:revokeToken",Cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const n=Wy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await oS(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new tu;return s&&(jt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(jt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(jt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r,t){jt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class kr{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=wp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new tp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await zc(this,this.stsTokenManager.getToken(this.auth,t));return jt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nS(this,t)}reload(){return sS(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(tl(this.auth));const t=await this.getIdToken();return await zc(this,eS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,d,g,y,E,w;const N=(s=n.displayName)!==null&&s!==void 0?s:void 0,O=(l=n.email)!==null&&l!==void 0?l:void 0,K=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,G=(d=n.photoURL)!==null&&d!==void 0?d:void 0,tt=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,ut=(E=n.createdAt)!==null&&E!==void 0?E:void 0,dt=(w=n.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:Tt,emailVerified:zt,isAnonymous:Nt,providerData:Yt,stsTokenManager:k}=n;jt(Tt&&k,t,"internal-error");const C=tu.fromJSON(this.name,k);jt(typeof Tt=="string",t,"internal-error"),Za(N,t.name),Za(O,t.name),jt(typeof zt=="boolean",t,"internal-error"),jt(typeof Nt=="boolean",t,"internal-error"),Za(K,t.name),Za(G,t.name),Za(tt,t.name),Za(Z,t.name),Za(ut,t.name),Za(dt,t.name);const M=new kr({uid:Tt,auth:t,email:O,emailVerified:zt,displayName:N,isAnonymous:Nt,photoURL:G,phoneNumber:K,tenantId:tt,stsTokenManager:C,createdAt:ut,lastLoginAt:dt});return Yt&&Array.isArray(Yt)&&(M.providerData=Yt.map(P=>Object.assign({},P))),Z&&(M._redirectEventId=Z),M}static async _fromIdTokenResponse(t,n,s=!1){const l=new tu;l.updateFromServerResponse(n);const c=new kr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Lf(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];jt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?LE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new tu;g.updateFromIdToken(s);const y=new kr({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,E),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;function na(r){ra(r instanceof Function,"Expected a class definition");let t=Jy.get(r);return t?(ra(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Jy.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}UE.type="NONE";const tv=UE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r,t,n){return`firebase:${r}:${t}:${n}`}class eu{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Af(this.userKey,l.apiKey,c),this.fullPersistenceKey=Af("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Pf(this.auth,{idToken:t}).catch(()=>{});return n?kr._fromGetAccountInfoResponse(this.auth,n,t):null}return kr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new eu(na(tv),t,s);const l=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let c=l[0]||na(tv);const d=Af(s,t.config.apiKey,t.name);let g=null;for(const E of n)try{const w=await E._get(d);if(w){let N;if(typeof w=="string"){const O=await Pf(t,{idToken:w}).catch(()=>{});if(!O)break;N=await kr._fromGetAccountInfoResponse(t,O,w)}else N=kr._fromJSON(t,w);E!==c&&(g=N),c=E;break}}catch{}const y=l.filter(E=>E._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new eu(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async E=>{if(E!==c)try{await E._remove(d)}catch{}})),new eu(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FE(t))return"Blackberry";if(GE(t))return"Webos";if(BE(t))return"Safari";if((t.includes("chrome/")||jE(t))&&!t.includes("edge/"))return"Chrome";if(HE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zE(r=Wn()){return/firefox\//i.test(r)}function BE(r=Wn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jE(r=Wn()){return/crios\//i.test(r)}function qE(r=Wn()){return/iemobile/i.test(r)}function HE(r=Wn()){return/android/i.test(r)}function FE(r=Wn()){return/blackberry/i.test(r)}function GE(r=Wn()){return/webos/i.test(r)}function Dp(r=Wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uS(r=Wn()){var t;return Dp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cS(){return SA()&&document.documentMode===10}function QE(r=Wn()){return Dp(r)||HE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t=[]){let n;switch(r){case"Browser":n=ev(Wn());break;case"Worker":n=`${ev(Wn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(r,t={}){return mu(r,"GET","/v2/passwordPolicy",Cp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=6;class mS{constructor(t){var n,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:dS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,d,g;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(n=y.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(c=y.containsUppercaseLetter)!==null&&c!==void 0?c:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(g=y.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),y}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new hS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await eu.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Pf(this,{idToken:t}),s=await kr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Vr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===g)&&(y!=null&&y.user)&&(l=y.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$w()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vr(this.app))return Promise.reject(tl(this));const n=t?Jn(t):null;return n&&jt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vr(this.app)?Promise.reject(tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fS(this),n=new mS(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xc("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await lS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&na(t)||this._popupRedirectResolver;jt(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Gw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wf(r){return Jn(r)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xA(n=>this.observer=n)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gS(r){Np=r}function _S(r){return Np.loadJS(r)}function yS(){return Np.gapiScript}function vS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(r,t){const n=Ap(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(il(c,t??{}))return l;gs(l,"already-initialized")}return n.initialize({options:t})}function TS(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(na);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function bS(r,t,n){const s=Wf(r);jt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=YE(t),{host:d,port:g}=AS(t),y=g===null?"":`:${g}`,E={url:`${c}//${d}${y}/`},w=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){jt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),jt(il(E,s.config.emulator)&&il(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=E,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,$c(d)?(wE(`${c}//${d}${y}`),SE("Auth",!0)):wS()}function YE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AS(r){const t=YE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:iv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:iv(d)}}}function iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wS(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ea("not implemented")}_getIdTokenResponse(t){return ea("not implemented")}_linkToIdToken(t,n){return ea("not implemented")}_getReauthenticationResolver(t){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(r,t){return Jw(r,"POST","/v1/accounts:signInWithIdp",Cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="http://localhost";class sl extends $E{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new sl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):gs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=wp(n,["providerId","signInMethod"]);if(!s||!l)return null;const d=new sl(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return nu(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,nu(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,nu(t,n)}buildRequest(){const t={requestUri:SS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Jc{constructor(){super("facebook.com")}static credential(t){return sl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wa.credentialFromTaggedObject(t)}static credentialFromError(t){return Wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wa.credential(t.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return sl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ta.credential(n,s)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Jc{constructor(){super("github.com")}static credential(t){return sl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ja.credential(t.oauthAccessToken)}catch{return null}}}Ja.GITHUB_SIGN_IN_METHOD="github.com";Ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Jc{constructor(){super("twitter.com")}static credential(t,n){return sl._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return to.credentialFromTaggedObject(t)}static credentialFromError(t){return to.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return to.credential(n,s)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await kr._fromIdTokenResponse(t,s,l),d=rv(s);return new su({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=rv(s);return new su({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function rv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends oa{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new Uf(t,n,s,l)}}function XE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uf._fromErrorAndOperation(r,c,t,s):c})}async function RS(r,t,n=!1){const s=await zc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return su._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(r,t,n=!1){const{auth:s}=r;if(Vr(s.app))return Promise.reject(tl(s));const l="reauthenticate";try{const c=await zc(r,XE(s,l,t,r),n);jt(c.idToken,s,"internal-error");const d=Op(c.idToken);jt(d,s,"internal-error");const{sub:g}=d;return jt(r.uid===g,s,"user-mismatch"),su._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&gs(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(r,t,n=!1){if(Vr(r.app))return Promise.reject(tl(r));const s="signIn",l=await XE(r,s,t),c=await su._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}function OS(r,t,n,s){return Jn(r).onIdTokenChanged(t,n,s)}function DS(r,t,n){return Jn(r).beforeAuthStateChanged(t,n)}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=1e3,MS=10;class WE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);cS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,MS):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},NS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const xS=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JE.type="SESSION";const t0=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Jf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async E=>E(n.origin,c)),y=await VS(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const E=xp("",20);l.port1.start();const w=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(N){const O=N;if(O.data.eventId===E)switch(O.data.status){case"ack":clearTimeout(w),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(w),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(){return window}function PS(r){fs().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function LS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function US(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zS(){return e0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebaseLocalStorageDb",BS=1,Bf="firebaseLocalStorage",i0="fbase_key";class th{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function td(r,t){return r.transaction([Bf],t?"readwrite":"readonly").objectStore(Bf)}function jS(){const r=indexedDB.deleteDatabase(n0);return new th(r).toPromise()}function ep(){const r=indexedDB.open(n0,BS);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Bf,{keyPath:i0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Bf)?t(s):(s.close(),await jS(),t(await ep()))})})}async function sv(r,t,n){const s=td(r,!0).put({[i0]:t,value:n});return new th(s).toPromise()}async function qS(r,t){const n=td(r,!1).get(t),s=await new th(n).toPromise();return s===void 0?null:s.value}function av(r,t){const n=td(r,!0).delete(t);return new th(n).toPromise()}const HS=800,FS=3;class r0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>FS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jf._getInstance(zS()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await LS(),!this.activeServiceWorker)return;this.sender=new kS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||US()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await sv(t,zf,"1"),await av(t,zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>qS(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>av(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=td(l,!1).getAll();return new th(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r0.type="LOCAL";const GS=r0;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r,t){return t?na(t):(jt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends $E{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nu(t,this._buildIdpRequest())}_linkToIdToken(t,n){return nu(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return nu(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QS(r){return CS(r.auth,new Vp(r),r.bypassAuthState)}function KS(r){const{auth:t,user:n}=r;return jt(n,t,"internal-error"),IS(n,new Vp(r),r.bypassAuthState)}async function YS(r){const{auth:t,user:n}=r;return jt(n,t,"internal-error"),RS(n,new Vp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QS;case"linkViaPopup":case"linkViaRedirect":return YS;case"reauthViaPopup":case"reauthViaRedirect":return KS;default:gs(this.auth,"internal-error")}}resolve(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Wc(2e3,1e4);async function XS(r,t,n){if(Vr(r.app))return Promise.reject(Pr(r,"operation-not-supported-in-this-environment"));const s=Wf(r);Qw(r,t,Mp);const l=s0(s,n);return new Wo(s,"signInViaPopup",t,l).executeNotNull()}class Wo extends a0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Wo.currentPopupAction&&Wo.currentPopupAction.cancel(),Wo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const t=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,$S.get())};t()}}Wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="pendingRedirect",wf=new Map;class WS extends a0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wf.get(this.auth._key());if(!t){try{const s=await JS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wf.set(this.auth._key(),t)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JS(r,t){const n=n1(t),s=e1(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function t1(r,t){wf.set(r._key(),t)}function e1(r){return na(r._redirectPersistence)}function n1(r){return Af(ZS,r.config.apiKey,r.name)}async function i1(r,t,n=!1){if(Vr(r.app))return Promise.reject(tl(r));const s=Wf(r),l=s0(s,t),d=await new WS(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=10*60*1e3;class s1{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!a1(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!o0(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=r1&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(t))}saveEventToCache(t){this.cachedEventUids.add(ov(t)),this.lastProcessedEventTime=Date.now()}}function ov(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function o0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function a1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(r,t={}){return mu(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u1=/^https?/;async function c1(r){if(r.config.emulator)return;const{authorizedDomains:t}=await o1(r);for(const n of t)try{if(h1(n))return}catch{}gs(r,"unauthorized-domain")}function h1(r){const t=Jm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!u1.test(n))return!1;if(l1.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Wc(3e4,6e4);function lv(){const r=fs().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function d1(r){return new Promise((t,n)=>{var s,l,c;function d(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),n(Pr(r,"network-request-failed"))},timeout:f1.get()})}if(!((l=(s=fs().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=fs().gapi)===null||c===void 0)&&c.load)d();else{const g=vS("iframefcb");return fs()[g]=()=>{gapi.load?d():n(Pr(r,"network-request-failed"))},_S(`${yS()}?onload=${g}`).catch(y=>n(y))}}).catch(t=>{throw Sf=null,t})}let Sf=null;function m1(r){return Sf=Sf||d1(r),Sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Wc(5e3,15e3),g1="__/auth/iframe",_1="emulator/auth/iframe",y1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E1(r){const t=r.config;jt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ip(t,_1):`https://${r.config.authDomain}/${g1}`,s={apiKey:t.apiKey,appName:r.name,v:du},l=v1.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Zc(s).slice(1)}`}async function T1(r){const t=await m1(r),n=fs().gapi;return jt(n,r,"internal-error"),t.open({where:document.body,url:E1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y1,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Pr(r,"network-request-failed"),g=fs().setTimeout(()=>{c(d)},p1.get());function y(){fs().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A1=500,w1=600,S1="_blank",R1="http://localhost";class uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I1(r,t,n,s=A1,l=w1){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y=Object.assign(Object.assign({},b1),{width:s.toString(),height:l.toString(),top:c,left:d}),E=Wn().toLowerCase();n&&(g=jE(E)?S1:n),zE(E)&&(t=t||R1,y.scrollbars="yes");const w=Object.entries(y).reduce((O,[K,G])=>`${O}${K}=${G},`,"");if(uS(E)&&g!=="_self")return C1(t||"",g),new uv(null);const N=window.open(t||"",g,w);jt(N,r,"popup-blocked");try{N.focus()}catch{}return new uv(N)}function C1(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__/auth/handler",D1="emulator/auth/handler",N1=encodeURIComponent("fac");async function cv(r,t,n,s,l,c){jt(r.config.authDomain,r,"auth-domain-config-required"),jt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:du,eventId:l};if(t instanceof Mp){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",MA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[w,N]of Object.entries({}))d[w]=N}if(t instanceof Jc){const w=t.getScopes().filter(N=>N!=="");w.length>0&&(d.scopes=w.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const y=await r._getAppCheckToken(),E=y?`#${N1}=${encodeURIComponent(y)}`:"";return`${M1(r)}?${Zc(g).slice(1)}${E}`}function M1({config:r}){return r.emulator?Ip(r,D1):`https://${r.authDomain}/${O1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class x1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t0,this._completeRedirectFn=i1,this._overrideRedirectResult=t1}async _openPopup(t,n,s,l){var c;ra((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await cv(t,n,s,Jm(),l);return I1(t,d,xp())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await cv(t,n,s,Jm(),l);return PS(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ra(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await T1(t),s=new s1(t);return n.register("authEvent",l=>(jt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qm,{type:qm},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[qm];d!==void 0&&n(!!d),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c1(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||BE()||Dp()}}const V1=x1;var hv="@firebase/auth",fv="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L1(r){ru(new rl("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;jt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(r)},E=new pS(s,l,c,y);return TS(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ru(new rl("auth-internal",t=>{const n=Wf(t.getProvider("auth").getImmediate());return(s=>new k1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(hv,fv,P1(r)),ro(hv,fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=5*60,z1=AE("authIdTokenMaxAge")||U1;let dv=null;const B1=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>z1)return;const l=n==null?void 0:n.token;dv!==l&&(dv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function j1(r=OE()){const t=Ap(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ES(r,{popupRedirectResolver:V1,persistence:[GS,xS,t0]}),s=AE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=B1(c.toString());DS(n,d,()=>d(n.currentUser)),OS(n,g=>d(g))}}const l=TE("auth");return l&&bS(n,`http://${l}`),n}function q1(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}gS({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=Pr("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",q1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L1("Browser");var H1="firebase",F1="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(H1,F1,"app");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,l0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,C){function M(){}M.prototype=C.prototype,k.D=C.prototype,k.prototype=new M,k.prototype.constructor=k,k.C=function(P,z,j){for(var x=Array(arguments.length-2),tn=2;tn<arguments.length;tn++)x[tn-2]=arguments[tn];return C.prototype[z].apply(P,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,C,M){M||(M=0);var P=Array(16);if(typeof C=="string")for(var z=0;16>z;++z)P[z]=C.charCodeAt(M++)|C.charCodeAt(M++)<<8|C.charCodeAt(M++)<<16|C.charCodeAt(M++)<<24;else for(z=0;16>z;++z)P[z]=C[M++]|C[M++]<<8|C[M++]<<16|C[M++]<<24;C=k.g[0],M=k.g[1],z=k.g[2];var j=k.g[3],x=C+(j^M&(z^j))+P[0]+3614090360&4294967295;C=M+(x<<7&4294967295|x>>>25),x=j+(z^C&(M^z))+P[1]+3905402710&4294967295,j=C+(x<<12&4294967295|x>>>20),x=z+(M^j&(C^M))+P[2]+606105819&4294967295,z=j+(x<<17&4294967295|x>>>15),x=M+(C^z&(j^C))+P[3]+3250441966&4294967295,M=z+(x<<22&4294967295|x>>>10),x=C+(j^M&(z^j))+P[4]+4118548399&4294967295,C=M+(x<<7&4294967295|x>>>25),x=j+(z^C&(M^z))+P[5]+1200080426&4294967295,j=C+(x<<12&4294967295|x>>>20),x=z+(M^j&(C^M))+P[6]+2821735955&4294967295,z=j+(x<<17&4294967295|x>>>15),x=M+(C^z&(j^C))+P[7]+4249261313&4294967295,M=z+(x<<22&4294967295|x>>>10),x=C+(j^M&(z^j))+P[8]+1770035416&4294967295,C=M+(x<<7&4294967295|x>>>25),x=j+(z^C&(M^z))+P[9]+2336552879&4294967295,j=C+(x<<12&4294967295|x>>>20),x=z+(M^j&(C^M))+P[10]+4294925233&4294967295,z=j+(x<<17&4294967295|x>>>15),x=M+(C^z&(j^C))+P[11]+2304563134&4294967295,M=z+(x<<22&4294967295|x>>>10),x=C+(j^M&(z^j))+P[12]+1804603682&4294967295,C=M+(x<<7&4294967295|x>>>25),x=j+(z^C&(M^z))+P[13]+4254626195&4294967295,j=C+(x<<12&4294967295|x>>>20),x=z+(M^j&(C^M))+P[14]+2792965006&4294967295,z=j+(x<<17&4294967295|x>>>15),x=M+(C^z&(j^C))+P[15]+1236535329&4294967295,M=z+(x<<22&4294967295|x>>>10),x=C+(z^j&(M^z))+P[1]+4129170786&4294967295,C=M+(x<<5&4294967295|x>>>27),x=j+(M^z&(C^M))+P[6]+3225465664&4294967295,j=C+(x<<9&4294967295|x>>>23),x=z+(C^M&(j^C))+P[11]+643717713&4294967295,z=j+(x<<14&4294967295|x>>>18),x=M+(j^C&(z^j))+P[0]+3921069994&4294967295,M=z+(x<<20&4294967295|x>>>12),x=C+(z^j&(M^z))+P[5]+3593408605&4294967295,C=M+(x<<5&4294967295|x>>>27),x=j+(M^z&(C^M))+P[10]+38016083&4294967295,j=C+(x<<9&4294967295|x>>>23),x=z+(C^M&(j^C))+P[15]+3634488961&4294967295,z=j+(x<<14&4294967295|x>>>18),x=M+(j^C&(z^j))+P[4]+3889429448&4294967295,M=z+(x<<20&4294967295|x>>>12),x=C+(z^j&(M^z))+P[9]+568446438&4294967295,C=M+(x<<5&4294967295|x>>>27),x=j+(M^z&(C^M))+P[14]+3275163606&4294967295,j=C+(x<<9&4294967295|x>>>23),x=z+(C^M&(j^C))+P[3]+4107603335&4294967295,z=j+(x<<14&4294967295|x>>>18),x=M+(j^C&(z^j))+P[8]+1163531501&4294967295,M=z+(x<<20&4294967295|x>>>12),x=C+(z^j&(M^z))+P[13]+2850285829&4294967295,C=M+(x<<5&4294967295|x>>>27),x=j+(M^z&(C^M))+P[2]+4243563512&4294967295,j=C+(x<<9&4294967295|x>>>23),x=z+(C^M&(j^C))+P[7]+1735328473&4294967295,z=j+(x<<14&4294967295|x>>>18),x=M+(j^C&(z^j))+P[12]+2368359562&4294967295,M=z+(x<<20&4294967295|x>>>12),x=C+(M^z^j)+P[5]+4294588738&4294967295,C=M+(x<<4&4294967295|x>>>28),x=j+(C^M^z)+P[8]+2272392833&4294967295,j=C+(x<<11&4294967295|x>>>21),x=z+(j^C^M)+P[11]+1839030562&4294967295,z=j+(x<<16&4294967295|x>>>16),x=M+(z^j^C)+P[14]+4259657740&4294967295,M=z+(x<<23&4294967295|x>>>9),x=C+(M^z^j)+P[1]+2763975236&4294967295,C=M+(x<<4&4294967295|x>>>28),x=j+(C^M^z)+P[4]+1272893353&4294967295,j=C+(x<<11&4294967295|x>>>21),x=z+(j^C^M)+P[7]+4139469664&4294967295,z=j+(x<<16&4294967295|x>>>16),x=M+(z^j^C)+P[10]+3200236656&4294967295,M=z+(x<<23&4294967295|x>>>9),x=C+(M^z^j)+P[13]+681279174&4294967295,C=M+(x<<4&4294967295|x>>>28),x=j+(C^M^z)+P[0]+3936430074&4294967295,j=C+(x<<11&4294967295|x>>>21),x=z+(j^C^M)+P[3]+3572445317&4294967295,z=j+(x<<16&4294967295|x>>>16),x=M+(z^j^C)+P[6]+76029189&4294967295,M=z+(x<<23&4294967295|x>>>9),x=C+(M^z^j)+P[9]+3654602809&4294967295,C=M+(x<<4&4294967295|x>>>28),x=j+(C^M^z)+P[12]+3873151461&4294967295,j=C+(x<<11&4294967295|x>>>21),x=z+(j^C^M)+P[15]+530742520&4294967295,z=j+(x<<16&4294967295|x>>>16),x=M+(z^j^C)+P[2]+3299628645&4294967295,M=z+(x<<23&4294967295|x>>>9),x=C+(z^(M|~j))+P[0]+4096336452&4294967295,C=M+(x<<6&4294967295|x>>>26),x=j+(M^(C|~z))+P[7]+1126891415&4294967295,j=C+(x<<10&4294967295|x>>>22),x=z+(C^(j|~M))+P[14]+2878612391&4294967295,z=j+(x<<15&4294967295|x>>>17),x=M+(j^(z|~C))+P[5]+4237533241&4294967295,M=z+(x<<21&4294967295|x>>>11),x=C+(z^(M|~j))+P[12]+1700485571&4294967295,C=M+(x<<6&4294967295|x>>>26),x=j+(M^(C|~z))+P[3]+2399980690&4294967295,j=C+(x<<10&4294967295|x>>>22),x=z+(C^(j|~M))+P[10]+4293915773&4294967295,z=j+(x<<15&4294967295|x>>>17),x=M+(j^(z|~C))+P[1]+2240044497&4294967295,M=z+(x<<21&4294967295|x>>>11),x=C+(z^(M|~j))+P[8]+1873313359&4294967295,C=M+(x<<6&4294967295|x>>>26),x=j+(M^(C|~z))+P[15]+4264355552&4294967295,j=C+(x<<10&4294967295|x>>>22),x=z+(C^(j|~M))+P[6]+2734768916&4294967295,z=j+(x<<15&4294967295|x>>>17),x=M+(j^(z|~C))+P[13]+1309151649&4294967295,M=z+(x<<21&4294967295|x>>>11),x=C+(z^(M|~j))+P[4]+4149444226&4294967295,C=M+(x<<6&4294967295|x>>>26),x=j+(M^(C|~z))+P[11]+3174756917&4294967295,j=C+(x<<10&4294967295|x>>>22),x=z+(C^(j|~M))+P[2]+718787259&4294967295,z=j+(x<<15&4294967295|x>>>17),x=M+(j^(z|~C))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(z+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var M=C-this.blockSize,P=this.B,z=this.h,j=0;j<C;){if(z==0)for(;j<=M;)l(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<C;)if(P[z++]=k.charCodeAt(j++),z==this.blockSize){l(this,P),z=0;break}}else for(;j<C;)if(P[z++]=k[j++],z==this.blockSize){l(this,P),z=0;break}}this.h=z,this.o+=C},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var M=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=M&255,M/=256;for(this.u(k),k=Array(16),C=M=0;4>C;++C)for(var P=0;32>P;P+=8)k[M++]=this.g[C]>>>P&255;return k};function c(k,C){var M=g;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=C(k)}function d(k,C){this.h=C;for(var M=[],P=!0,z=k.length-1;0<=z;z--){var j=k[z]|0;P&&j==C||(M[z]=j,P=!1)}this.g=M}var g={};function y(k){return-128<=k&&128>k?c(k,function(C){return new d([C|0],0>C?-1:0)}):new d([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return N;if(0>k)return Z(E(-k));for(var C=[],M=1,P=0;k>=M;P++)C[P]=k/M|0,M*=4294967296;return new d(C,0)}function w(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return Z(w(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=E(Math.pow(C,8)),P=N,z=0;z<k.length;z+=8){var j=Math.min(8,k.length-z),x=parseInt(k.substring(z,z+j),C);8>j?(j=E(Math.pow(C,j)),P=P.j(j).add(E(x))):(P=P.j(M),P=P.add(E(x)))}return P}var N=y(0),O=y(1),K=y(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();for(var k=0,C=1,M=0;M<this.g.length;M++){var P=this.i(M);k+=(0<=P?P:4294967296+P)*C,C*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if(tt(this))return"-"+Z(this).toString(k);for(var C=E(Math.pow(k,6)),M=this,P="";;){var z=zt(M,C).g;M=ut(M,z.j(C));var j=((0<M.g.length?M.g[0]:M.h)>>>0).toString(k);if(M=z,G(M))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function tt(k){return k.h==-1}r.l=function(k){return k=ut(this,k),tt(k)?-1:G(k)?0:1};function Z(k){for(var C=k.g.length,M=[],P=0;P<C;P++)M[P]=~k.g[P];return new d(M,~k.h).add(O)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0,z=0;z<=C;z++){var j=P+(this.i(z)&65535)+(k.i(z)&65535),x=(j>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);P=x>>>16,j&=65535,x&=65535,M[z]=x<<16|j}return new d(M,M[M.length-1]&-2147483648?-1:0)};function ut(k,C){return k.add(Z(C))}r.j=function(k){if(G(this)||G(k))return N;if(tt(this))return tt(k)?Z(this).j(Z(k)):Z(Z(this).j(k));if(tt(k))return Z(this.j(Z(k)));if(0>this.l(K)&&0>k.l(K))return E(this.m()*k.m());for(var C=this.g.length+k.g.length,M=[],P=0;P<2*C;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(var z=0;z<k.g.length;z++){var j=this.i(P)>>>16,x=this.i(P)&65535,tn=k.i(z)>>>16,Ne=k.i(z)&65535;M[2*P+2*z]+=x*Ne,dt(M,2*P+2*z),M[2*P+2*z+1]+=j*Ne,dt(M,2*P+2*z+1),M[2*P+2*z+1]+=x*tn,dt(M,2*P+2*z+1),M[2*P+2*z+2]+=j*tn,dt(M,2*P+2*z+2)}for(P=0;P<C;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=C;P<2*C;P++)M[P]=0;return new d(M,0)};function dt(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function Tt(k,C){this.g=k,this.h=C}function zt(k,C){if(G(C))throw Error("division by zero");if(G(k))return new Tt(N,N);if(tt(k))return C=zt(Z(k),C),new Tt(Z(C.g),Z(C.h));if(tt(C))return C=zt(k,Z(C)),new Tt(Z(C.g),C.h);if(30<k.g.length){if(tt(k)||tt(C))throw Error("slowDivide_ only works with positive integers.");for(var M=O,P=C;0>=P.l(k);)M=Nt(M),P=Nt(P);var z=Yt(M,1),j=Yt(P,1);for(P=Yt(P,2),M=Yt(M,2);!G(P);){var x=j.add(P);0>=x.l(k)&&(z=z.add(M),j=x),P=Yt(P,1),M=Yt(M,1)}return C=ut(k,z.j(C)),new Tt(z,C)}for(z=N;0<=k.l(C);){for(M=Math.max(1,Math.floor(k.m()/C.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=E(M),x=j.j(C);tt(x)||0<x.l(k);)M-=P,j=E(M),x=j.j(C);G(j)&&(j=O),z=z.add(j),k=ut(k,x)}return new Tt(z,k)}r.A=function(k){return zt(this,k).h},r.and=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)&k.i(P);return new d(M,this.h&k.h)},r.or=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)|k.i(P);return new d(M,this.h|k.h)},r.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),M=[],P=0;P<C;P++)M[P]=this.i(P)^k.i(P);return new d(M,this.h^k.h)};function Nt(k){for(var C=k.g.length+1,M=[],P=0;P<C;P++)M[P]=k.i(P)<<1|k.i(P-1)>>>31;return new d(M,k.h)}function Yt(k,C){var M=C>>5;C%=32;for(var P=k.g.length-M,z=[],j=0;j<P;j++)z[j]=0<C?k.i(j+M)>>>C|k.i(j+M+1)<<32-C:k.i(j+M);return new d(z,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=w,so=d}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,Cc,c0,Rf,np,h0,f0,d0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(u,p){if(p)t:{var v=s;u=u.split(".");for(var R=0;R<u.length-1;R++){var q=u[R];if(!(q in v))break t;v=v[q]}u=u[u.length-1],R=v[u],p=p(R),p!=R&&p!=null&&t(v,u,{configurable:!0,writable:!0,value:p})}}function c(u,p){u instanceof String&&(u+="");var v=0,R=!1,q={next:function(){if(!R&&v<u.length){var $=v++;return{value:p($,u[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}l("Array.prototype.values",function(u){return u||function(){return c(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function E(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,v){return u.call.apply(u.bind,arguments)}function N(u,p,v){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),u.apply(p,q)}}return function(){return u.apply(p,arguments)}}function O(u,p,v){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:N,O.apply(null,arguments)}function K(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function G(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(R,q,$){for(var ct=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)ct[ie-2]=arguments[ie];return p.prototype[q].apply(R,ct)}}function tt(u){const p=u.length;if(0<p){const v=Array(p);for(let R=0;R<p;R++)v[R]=u[R];return v}return[]}function Z(u,p){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(y(R)){const q=u.length||0,$=R.length||0;u.length=q+$;for(let ct=0;ct<$;ct++)u[q+ct]=R[ct]}else u.push(R)}}class ut{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function dt(u){return/^[\s\xa0]*$/.test(u)}function Tt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function zt(u){return zt[" "](u),u}zt[" "]=function(){};var Nt=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function Yt(u,p,v){for(const R in u)p.call(v,u[R],R,u)}function k(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function C(u){const p={};for(const v in u)p[v]=u[v];return p}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let v,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(v in R)u[v]=R[v];for(let $=0;$<M.length;$++)v=M[$],Object.prototype.hasOwnProperty.call(R,v)&&(u[v]=R[v])}}function z(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function j(u){g.setTimeout(()=>{throw u},0)}function x(){var u=ue;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class tn{constructor(){this.h=this.g=null}add(p,v){const R=Ne.get();R.set(p,v),this.h?this.h.next=R:this.g=R,this.h=R}}var Ne=new ut(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Rt=!1,ue=new tn,I=()=>{const u=g.Promise.resolve(void 0);ht=()=>{u.then(at)}};var at=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){j(v)}var p=Ne;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Rt=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,p),g.removeEventListener("test",v,p)}catch{}return u}();function Ft(u,p){if(ot.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Nt){t:{try{zt(p.nodeName);var q=!0;break t}catch{}q=!1}q||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ft.aa.h.call(this)}}G(Ft,ot);var St={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ft=0;function ti(u,p,v,R,q){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!R,this.ha=q,this.key=++ft,this.da=this.fa=!1}function cr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hr(u){this.src=u,this.g={},this.h=0}hr.prototype.add=function(u,p,v,R,q){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ct=wi(u,p,R,q);return-1<ct?(p=u[ct],v||(p.fa=!1)):(p=new ti(p,this.src,$,!!R,q),p.fa=v,u.push(p)),p};function ys(u,p){var v=p.type;if(v in u.g){var R=u.g[v],q=Array.prototype.indexOf.call(R,p,void 0),$;($=0<=q)&&Array.prototype.splice.call(R,q,1),$&&(cr(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wi(u,p,v,R){for(var q=0;q<u.length;++q){var $=u[q];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==R)return q}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),fr={};function dr(u,p,v,R,q){if(Array.isArray(p)){for(var $=0;$<p.length;$++)dr(u,p[$],v,R,q);return null}return v=Si(v),u&&u[je]?u.K(p,v,E(R)?!!R.capture:!1,q):ui(u,p,v,!1,R,q)}function ui(u,p,v,R,q,$){if(!p)throw Error("Invalid event type");var ct=E(q)?!!q.capture:!!q,ie=ua(u);if(ie||(u[Ur]=ie=new hr(u)),v=ie.add(p,v,R,ct,$),v.proxy)return v;if(R=Eu(),v.proxy=R,R.src=u,R.listener=v,u.addEventListener)wt||(q=ct),q===void 0&&(q=!1),u.addEventListener(p.toString(),R,q);else if(u.attachEvent)u.attachEvent(vs(p.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Eu(){function u(v){return p.call(u.src,u.listener,v)}const p=Tu;return u}function go(u,p,v,R,q){if(Array.isArray(p))for(var $=0;$<p.length;$++)go(u,p[$],v,R,q);else R=E(R)?!!R.capture:!!R,v=Si(v),u&&u[je]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],v=wi($,v,R,q),-1<v&&(cr($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=ua(u))&&(p=u.g[p.toString()],u=-1,p&&(u=wi(p,v,R,q)),(v=-1<u?p[u]:null)&&la(v))}function la(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[je])ys(p.i,u);else{var v=u.type,R=u.proxy;p.removeEventListener?p.removeEventListener(v,R,u.capture):p.detachEvent?p.detachEvent(vs(v),R):p.addListener&&p.removeListener&&p.removeListener(R),(v=ua(p))?(ys(v,u),v.h==0&&(v.src=null,p[Ur]=null)):cr(u)}}}function vs(u){return u in fr?fr[u]:fr[u]="on"+u}function Tu(u,p){if(u.da)u=!0;else{p=new Ft(p,this);var v=u.listener,R=u.ha||u.src;u.fa&&la(u),u=v.call(R,p)}return u}function ua(u){return u=u[Ur],u instanceof hr?u:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Si(u){return typeof u=="function"?u:(u[zr]||(u[zr]=function(p){return u.handleEvent(p)}),u[zr])}function Me(){mt.call(this),this.i=new hr(this),this.M=this,this.F=null}G(Me,mt),Me.prototype[je]=!0,Me.prototype.removeEventListener=function(u,p,v,R){go(this,u,p,v,R)};function ge(u,p){var v,R=u.F;if(R)for(v=[];R;R=R.F)v.push(R);if(u=u.M,R=p.type||p,typeof p=="string")p=new ot(p,u);else if(p instanceof ot)p.target=p.target||u;else{var q=p;p=new ot(R,u),P(p,q)}if(q=!0,v)for(var $=v.length-1;0<=$;$--){var ct=p.g=v[$];q=ei(ct,R,!0,p)&&q}if(ct=p.g=u,q=ei(ct,R,!0,p)&&q,q=ei(ct,R,!1,p)&&q,v)for($=0;$<v.length;$++)ct=p.g=v[$],q=ei(ct,R,!1,p)&&q}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],R=0;R<v.length;R++)cr(v[R]);delete u.g[p],u.h--}}this.F=null},Me.prototype.K=function(u,p,v,R){return this.i.add(String(u),p,!1,v,R)},Me.prototype.L=function(u,p,v,R){return this.i.add(String(u),p,!0,v,R)};function ei(u,p,v,R){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var q=!0,$=0;$<p.length;++$){var ct=p[$];if(ct&&!ct.da&&ct.capture==v){var ie=ct.listener,Ye=ct.ha||ct.src;ct.fa&&ys(u.i,ct),q=ie.call(Ye,R)!==!1&&q}}return q&&!R.defaultPrevented}function qe(u,p,v){if(typeof u=="function")v&&(u=O(u,v));else if(u&&typeof u.handleEvent=="function")u=O(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:g.setTimeout(u,p||0)}function mr(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,mr(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Br extends mt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){mt.call(this),this.h=u,this.g={}}G(qi,mt);var Es=[];function pr(u){Yt(u.g,function(p,v){this.g.hasOwnProperty(v)&&la(p)},u),u.g={}}qi.prototype.N=function(){qi.aa.N.call(this),pr(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=g.JSON.stringify,ca=g.JSON.parse,Ts=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function _o(){}_o.prototype.h=null;function yo(u){return u.h||(u.h=u.i())}function vo(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){ot.call(this,"d")}G(ci,ot);function ha(){ot.call(this,"c")}G(ha,ot);var Ii={},Eo=null;function jr(){return Eo=Eo||new Me}Ii.La="serverreachability";function fa(u){ot.call(this,Ii.La,u)}G(fa,ot);function qr(u){const p=jr();ge(p,new fa(p))}Ii.STAT_EVENT="statevent";function gr(u,p){ot.call(this,Ii.STAT_EVENT,u),this.stat=p}G(gr,ot);function ye(u){const p=jr();ge(p,new gr(p,u))}Ii.Ma="timingevent";function Qe(u,p){ot.call(this,Ii.Ma,u),this.size=p}G(Qe,ot);function He(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},p)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function To(u,p,v,R,q,$){u.info(function(){if(u.g)if($)for(var ct="",ie=$.split("&"),Ye=0;Ye<ie.length;Ye++){var re=ie[Ye].split("=");if(1<re.length){var sn=re[0];re=re[1];var $e=sn.split("_");ct=2<=$e.length&&$e[1]=="type"?ct+(sn+"="+re+"&"):ct+(sn+"=redacted&")}}else ct=null;else ct=$;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+p+`
`+v+`
`+ct})}function bu(u,p,v,R,q,$,ct){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+p+`
`+v+`
`+$+" "+ct})}function Fi(u,p,v,R){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Gi(u,v)+(R?" "+R:"")})}function _r(u,p){u.info(function(){return"TIMEOUT: "+p})}hi.prototype.info=function(){};function Gi(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var R=v[u];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var ct=1;ct<q.length;ct++)q[ct]=""}}}}return Ri(v)}catch{return p}}var Hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function Ki(){}G(Ki,_o),Ki.prototype.g=function(){return new XMLHttpRequest},Ki.prototype.i=function(){return{}},Qi=new Ki;function Fe(u,p,v,R){this.j=u,this.i=p,this.l=v,this.R=R||1,this.U=new qi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var fn={},en={};function Re(u,p,v){u.L=1,u.v=Wi(Ce(p)),u.m=v,u.P=!0,fi(u,null)}function fi(u,p){u.F=Date.now(),di(u),u.A=Ce(u.v);var v=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),Is(v.i,"t",R),u.C=0,v=u.j.J,u.h=new Jt,u.g=gl(u.j,v?p:null,!u.m),0<u.O&&(u.M=new Br(O(u.Y,u,u.g),u.O)),p=u.U,v=u.g,R=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Es[0]=q.toString()),q=Es);for(var $=0;$<q.length;$++){var ct=dr(v,q[$],R||p.handleEvent,!1,p.h||p);if(!ct)break;p.g[ct.key]=ct}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),qr(),To(u.i,u.u,u.A,u.l,u.R,u.m)}Fe.prototype.ca=function(u){u=u.target;const p=this.M;p&&pn(u)==3?p.j():this.Y(u)},Fe.prototype.Y=function(u){try{if(u==this.g)t:{const $e=pn(this.g);var p=this.g.Ba();const Xe=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||$e!=4||p==7||(p==8||0>=Xe?qr(3):qr(2)),$i(this);var v=this.g.Z();this.X=v;e:if(yr(this)){var R=dl(this.g);u="";var q=R.length,$=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Dn(this);var ct="";break e}this.h.i=new g.TextDecoder}for(p=0;p<q;p++)this.h.h=!0,u+=this.h.i.decode(R[p],{stream:!($&&p==q-1)});R.length=0,this.h.g+=u,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=v==200,bu(this.i,this.u,this.A,this.l,this.R,$e,v),this.o){if(this.T&&!this.K){e:{if(this.g){var ie,Ye=this.g;if((ie=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(ie)){var re=ie;break e}}re=null}if(v=re)Fi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vr(this,v);else{this.o=!1,this.s=3,ye(12),nn(this),Dn(this);break t}}if(this.P){v=!0;let an;for(;!this.J&&this.C<ct.length;)if(an=Yi(this,ct),an==en){$e==4&&(this.s=4,ye(14),v=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==fn){this.s=4,ye(15),Fi(this.i,this.l,ct,"[Invalid Chunk]"),v=!1;break}else Fi(this.i,this.l,an,null),vr(this,an);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||ct.length!=0||this.h.h||(this.s=1,ye(16),v=!1),this.o=this.o&&v,!v)Fi(this.i,this.l,ct,"[Invalid Chunked Response]"),nn(this),Dn(this);else if(0<ct.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Vs(sn),sn.M=!0,ye(11))}}else Fi(this.i,this.l,ct,null),vr(this,ct);$e==4&&nn(this),this.o&&!this.J&&($e==4?Do(this.j,this):(this.o=!1,di(this)))}else ml(this.g),v==400&&0<ct.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),nn(this),Dn(this)}}}catch{}finally{}};function yr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yi(u,p){var v=u.C,R=p.indexOf(`
`,v);return R==-1?en:(v=Number(p.substring(v,R)),isNaN(v)?fn:(R+=1,R+v>p.length?en:(p=p.slice(R,R+v),u.C=R+v,p)))}Fe.prototype.cancel=function(){this.J=!0,nn(this)};function di(u){u.S=Date.now()+u.I,bo(u,u.I)}function bo(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=He(O(u.ba,u),p)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Fe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_r(this.i,this.A),this.L!=2&&(qr(),ye(17)),nn(this),this.s=2,Dn(this)):bo(this,this.S-u)};function Dn(u){u.j.G==0||u.J||Do(u.j,u)}function nn(u){$i(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,pr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function vr(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||ma(v.h,u))){if(!u.K&&ma(v.h,u)&&v.G==3){try{var R=v.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ks(v),Ns(v);else break t;Oo(v),ye(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=He(O(v.Za,v),6e3));if(1>=As(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else xi(v,11)}else if((u.K||v.g==u)&&ks(v),!dt(p))for(q=v.Da.g.parse(p),p=0;p<q.length;p++){let re=q[p];if(v.T=re[0],re=re[1],v.G==2)if(re[0]=="c"){v.K=re[1],v.ia=re[2];const sn=re[3];sn!=null&&(v.la=sn,v.j.info("VER="+v.la));const $e=re[4];$e!=null&&(v.Aa=$e,v.j.info("SVER="+v.Aa));const Xe=re[5];Xe!=null&&typeof Xe=="number"&&0<Xe&&(R=1.5*Xe,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const an=u.g;if(an){const Vi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var $=R.h;$.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ws($,$.h),$.h=null))}if(R.D){const ba=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(R.ya=ba,ne(R.I,R.D,ba))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var ct=u;if(R.qa=No(R,R.J?R.ia:null,R.W),ct.K){bn(R.h,ct);var ie=ct,Ye=R.L;Ye&&(ie.I=Ye),ie.B&&($i(ie),di(ie)),R.g=ct}else xs(R);0<v.i.length&&Ms(v)}else re[0]!="stop"&&re[0]!="close"||xi(v,7);else v.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?xi(v,7):ya(v):re[0]!="noop"&&v.l&&v.l.ta(re),v.v=0)}}qr(4)}catch{}}var da=class{constructor(u,p){this.g=u,this.map=p}};function Xi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function As(u){return u.h?1:u.g?u.g.size:0}function ma(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ws(u,p){u.g?u.g.add(p):u.h=p}function bn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Xi.prototype.cancel=function(){if(this.i=pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function pa(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return tt(u.i)}function hl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var p=[],v=u.length,R=0;R<v;R++)p.push(u[R]);return p}p=[],v=0;for(R in u)p[v++]=u[R];return p}function Ss(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const R in u)p[v++]=R;return p}}}function ga(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=Ss(u),R=hl(u),q=R.length,$=0;$<q;$++)p.call(void 0,R[$],v&&v[$],u)}var An=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nn(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var R=u[v].indexOf("="),q=null;if(0<=R){var $=u[v].substring(0,R);q=u[v].substring(R+1)}else $=u[v];p($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ae(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ae){this.h=u.h,Er(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var p=u.i,v=new wn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),rn(this,v),this.m=u.m}else u&&(p=String(u).match(An))?(this.h=!1,Er(this,p[1]||"",!0),this.o=dn(p[2]||""),this.g=dn(p[3]||"",!0),Zi(this,p[4]),this.l=dn(p[5]||"",!0),rn(this,p[6]||"",!0),this.m=dn(p[7]||"")):(this.h=!1,this.i=new wn(null,this.h))}Ae.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Tr(p,Ji,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Tr(p,Ji,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?fl:Rs,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,_a)),u.join("")};function Ce(u){return new Ae(u)}function Er(u,p,v){u.j=v?dn(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function rn(u,p,v){p instanceof wn?(u.i=p,wo(u.i,u.h)):(v||(p=Tr(p,Oi)),u.i=new wn(p,u.h))}function ne(u,p,v){u.i.set(p,v)}function Wi(u){return ne(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dn(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,Ao),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ao(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ji=/[#\/\?@]/g,Rs=/[#\?:]/g,fl=/[#\?]/g,Oi=/[#\?@]/g,_a=/#/g;function wn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Nn(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=wn.prototype,r.add=function(u,p){Mn(this),this.i=null,u=Fn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function tr(u,p){Mn(u),p=Fn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ni(u,p){return Mn(u),p=Fn(u,p),u.g.has(p)}r.forEach=function(u,p){Mn(this),this.g.forEach(function(v,R){v.forEach(function(q){u.call(p,q,R,this)},this)},this)},r.na=function(){Mn(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let R=0;R<p.length;R++){const q=u[R];for(let $=0;$<q.length;$++)v.push(p[R])}return v},r.V=function(u){Mn(this);let p=[];if(typeof u=="string")ni(this,u)&&(p=p.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},r.set=function(u,p){return Mn(this),this.i=null,u=Fn(this,u),ni(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Is(u,p,v){tr(u,p),0<v.length&&(u.i=null,u.g.set(Fn(u,p),tt(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var R=p[v];const $=encodeURIComponent(String(R)),ct=this.V(R);for(R=0;R<ct.length;R++){var q=$;ct[R]!==""&&(q+="="+encodeURIComponent(String(ct[R]))),u.push(q)}}return this.i=u.join("&")};function Fn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function wo(u,p){p&&!u.j&&(Mn(u),u.i=null,u.g.forEach(function(v,R){var q=R.toLowerCase();R!=q&&(tr(this,R),Is(this,q,v))},u)),u.j=p}function Fr(u,p){const v=new hi;if(g.Image){const R=new Image;R.onload=K(mn,v,"TestLoadImage: loaded",!0,p,R),R.onerror=K(mn,v,"TestLoadImage: error",!1,p,R),R.onabort=K(mn,v,"TestLoadImage: abort",!1,p,R),R.ontimeout=K(mn,v,"TestLoadImage: timeout",!1,p,R),g.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else p(!1)}function mi(u,p){const v=new hi,R=new AbortController,q=setTimeout(()=>{R.abort(),mn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:R.signal}).then($=>{clearTimeout(q),$.ok?mn(v,"TestPingServer: ok",!0,p):mn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(q),mn(v,"TestPingServer: error",!1,p)})}function mn(u,p,v,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(v)}catch{}}function Cs(){this.g=new Ts}function Di(u,p,v){const R=v||"";try{ga(u,function(q,$){let ct=q;E(q)&&(ct=Ri(q)),p.push(R+$+"="+encodeURIComponent(ct))})}catch(q){throw p.push(R+"type="+encodeURIComponent("_badmap")),q}}function er(u){this.l=u.Ub||null,this.j=u.eb||!1}G(er,_o),er.prototype.g=function(){return new pi(this.l,this.j)},er.prototype.i=function(u){return function(){return u}}({});function pi(u,p){Me.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(pi,Me),r=pi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||g).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Os(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Os(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?nr(this):ii(this),this.readyState==3&&Os(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,nr(this))},r.Qa=function(u){this.g&&(this.response=u,nr(this))},r.ga=function(){this.g&&nr(this)};function nr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ii(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function So(u){let p="";return Yt(u,function(v,R){p+=R,p+=":",p+=v,p+=`\r
`}),p}function Ke(u,p,v){t:{for(R in v){var R=!1;break t}R=!0}R||(v=So(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ne(u,p,v))}function ce(u){Me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(ce,Me);var Gr=/^https?$/i,br=["POST","PUT"];r=ce.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?yo(this.o):yo(Qi),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){Ro(this,$);return}if(u=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)v.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())v.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),q=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(br,p,void 0))||R||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ct]of v)this.g.setRequestHeader($,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ro(this,$)}};function Ro(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,ir(u),Ni(u)}function ir(u){u.A||(u.A=!0,ge(u,"complete"),ge(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ge(this,"complete"),ge(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),ce.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qr(this):this.bb())},r.bb=function(){Qr(this)};function Qr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||pn(u)!=4||u.Z()!=2)){if(u.u&&pn(u)==4)qe(u.Ea,0,u);else if(ge(u,"readystatechange"),pn(u)==4){u.h=!1;try{const ct=u.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var R;if(R=ct===0){var q=String(u.D).match(An)[1]||null;!q&&g.self&&g.self.location&&(q=g.self.location.protocol.slice(0,-1)),R=!Gr.test(q?q.toLowerCase():"")}v=R}if(v)ge(u,"complete"),ge(u,"success");else{u.m=6;try{var $=2<pn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",ir(u)}}finally{Ni(u)}}}}function Ni(u,p){if(u.g){Kr(u);const v=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||ge(u,"ready");try{v.onreadystatechange=R}catch{}}}function Kr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ca(p)}};function dl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ml(u){const p={};u=(u.g&&2<=pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(dt(u[R]))continue;var v=z(u[R]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[q]||[];p[q]=$,$.push(v)}k(p,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Ds(u){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,u),this.cb=Yr("retryDelaySeedMs",1e4,u),this.Wa=Yr("forwardChannelMaxRetries",2,u),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(u&&u.concurrentRequestLimit),this.Da=new Cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ds.prototype,r.la=8,r.G=1,r.connect=function(u,p,v,R){ye(0),this.W=u,this.H=p||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=No(this,null,this.W),Ms(this)};function ya(u){if(va(u),u.G==3){var p=u.U++,v=Ce(u.I);if(ne(v,"SID",u.K),ne(v,"RID",p),ne(v,"TYPE","terminate"),$r(u,v),p=new Fe(u,u.j,p),p.L=2,p.v=Wi(Ce(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=p.v,v=!0),v||(p.g=gl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),di(p)}pl(u)}function Ns(u){u.g&&(Vs(u),u.g.cancel(),u.g=null)}function va(u){Ns(u),u.u&&(g.clearTimeout(u.u),u.u=null),ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ms(u){if(!bs(u.h)&&!u.s){u.s=!0;var p=u.Ga;ht||I(),Rt||(ht(),Rt=!0),ue.add(p,u),u.B=0}}function Au(u,p){return As(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=He(O(u.Ga,u,p),Mi(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new Fe(this,this.j,u);let $=this.o;if(this.S&&($?($=C($),P($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Co(this,q,p),v=Ce(this.I),ne(v,"RID",u),ne(v,"CVER",22),this.D&&ne(v,"X-HTTP-Session-Id",this.D),$r(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(So($)))+"&"+p:this.m&&Ke(v,this.m,$)),ws(this.h,q),this.Ua&&ne(v,"TYPE","init"),this.P?(ne(v,"$req",p),ne(v,"SID","null"),q.T=!0,Re(q,v,null)):Re(q,v,p),this.G=2}}else this.G==3&&(u?Io(this,u):this.i.length==0||bs(this.h)||Io(this))};function Io(u,p){var v;p?v=p.l:v=u.U++;const R=Ce(u.I);ne(R,"SID",u.K),ne(R,"RID",v),ne(R,"AID",u.T),$r(u,R),u.m&&u.o&&Ke(R,u.m,u.o),v=new Fe(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Co(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ws(u.h,v),Re(v,R,p)}function $r(u,p){u.H&&Yt(u.H,function(v,R){ne(p,R,v)}),u.l&&ga({},function(v,R){ne(p,R,v)})}function Co(u,p,v){v=Math.min(u.i.length,v);var R=u.l?O(u.l.Na,u.l,u):null;t:{var q=u.i;let $=-1;for(;;){const ct=["count="+v];$==-1?0<v?($=q[0].g,ct.push("ofs="+$)):$=0:ct.push("ofs="+$);let ie=!0;for(let Ye=0;Ye<v;Ye++){let re=q[Ye].g;const sn=q[Ye].map;if(re-=$,0>re)$=Math.max(0,q[Ye].g-100),ie=!1;else try{Di(sn,ct,"req"+re+"_")}catch{R&&R(sn)}}if(ie){R=ct.join("&");break t}}}return u=u.i.splice(0,v),p.D=u,R}function xs(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ht||I(),Rt||(ht(),Rt=!0),ue.add(p,u),u.v=0}}function Oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=He(O(u.Fa,u),Mi(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ea(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=He(O(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Ns(this),Ea(this))};function Vs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ea(u){u.g=new Fe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ce(u.qa);ne(p,"RID","rpc"),ne(p,"SID",u.K),ne(p,"AID",u.T),ne(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ne(p,"TO",u.ja),ne(p,"TYPE","xmlhttp"),$r(u,p),u.m&&u.o&&Ke(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Wi(Ce(p)),v.m=null,v.P=!0,fi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Ns(this),Oo(this),ye(19))};function ks(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Do(u,p){var v=null;if(u.g==p){ks(u),Vs(u),u.g=null;var R=2}else if(ma(u.h,p))v=p.D,bn(u.h,p),R=1;else return;if(u.G!=0){if(p.o)if(R==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var q=u.B;R=jr(),ge(R,new Qe(R,v)),Ms(u)}else xs(u);else if(q=p.s,q==3||q==0&&0<p.X||!(R==1&&Au(u,p)||R==2&&Oo(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),q){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Mi(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function xi(u,p){if(u.j.info("Error code "+p),p==2){var v=O(u.fb,u),R=u.Xa;const q=!R;R=new Ae(R||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Er(R,"https"),Wi(R),q?Fr(R.toString(),v):mi(R.toString(),v)}else ye(2);u.G=0,u.l&&u.l.sa(p),pl(u),va(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function pl(u){if(u.G=0,u.ka=[],u.l){const p=pa(u.h);(p.length!=0||u.i.length!=0)&&(Z(u.ka,p),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function No(u,p,v){var R=v instanceof Ae?Ce(v):new Ae(v);if(R.g!="")p&&(R.g=p+"."+R.g),Zi(R,R.s);else{var q=g.location;R=q.protocol,p=p?p+"."+q.hostname:q.hostname,q=+q.port;var $=new Ae(null);R&&Er($,R),p&&($.g=p),q&&Zi($,q),v&&($.l=v),R=$}return v=u.D,p=u.ya,v&&p&&ne(R,v,p),ne(R,"VER",u.la),$r(u,R),R}function gl(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ce(new er({eb:v})):new ce(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _l(){}r=_l.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ta(){}Ta.prototype.g=function(u,p){return new xn(u,p)};function xn(u,p){Me.call(this),this.g=new Ds(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!dt(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!dt(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new rr(this)}G(xn,Me),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){ya(this.g)},xn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ri(u),u=v);p.i.push(new da(p.Ya++,u)),p.G==3&&Ms(p)},xn.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,xn.aa.N.call(this)};function Mo(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const v in p){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}G(Mo,ci);function xo(){ha.call(this),this.status=1}G(xo,ha);function rr(u){this.g=u}G(rr,_l),rr.prototype.ua=function(){ge(this.g,"a")},rr.prototype.ta=function(u){ge(this.g,new Mo(u))},rr.prototype.sa=function(u){ge(this.g,new xo)},rr.prototype.ra=function(){ge(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,d0=function(){return new Ta},f0=function(){return jr()},h0=Ii,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,Rf=Hr,Ci.COMPLETE="complete",c0=Ci,vo.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Cc=vo,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,u0=ce}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",gv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Tp("@firebase/firestore");function Xl(){return al.logLevel}function Et(r,...t){if(al.logLevel<=se.DEBUG){const n=t.map(kp);al.debug(`Firestore (${pu}): ${r}`,...n)}}function sa(r,...t){if(al.logLevel<=se.ERROR){const n=t.map(kp);al.error(`Firestore (${pu}): ${r}`,...n)}}function au(r,...t){if(al.logLevel<=se.WARN){const n=t.map(kp);al.warn(`Firestore (${pu}): ${r}`,...n)}}function kp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,m0(r,s,n)}function m0(r,t,n){let s=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sa(s),new Error(s)}function Ee(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||m0(t,l,s)}function Kt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends oa{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class G1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class Q1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K1{constructor(t){this.t=t,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ee(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new el;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new el,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new el)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ee(typeof s.accessToken=="string",31837,{l:s}),new p0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ee(t===null||typeof t=="string",2055,{h:t}),new Xn(t)}}class Y1{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $1{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Y1(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X1{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ee(this.o===void 0,3512);const s=c=>{c.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Z1(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function Zt(r,t){return r<t?-1:r>t?1:0}function ip(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return Zt(s,l);{const c=g0(),d=W1(c.encode(yv(r,n)),c.encode(yv(t,n)));return d!==0?d:Zt(s,l)}}n+=s>65535?2:1}return Zt(r.length,t.length)}function yv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function W1(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Zt(r[n],t[n]);return Zt(r.length,t.length)}function ou(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-62135596800,Ev=1e6;class En{static now(){return En.fromMillis(Date.now())}static fromDate(t){return En.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Ev);return new En(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new bt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<vv)throw new bt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new En(0,0))}static max(){return new Ht(new En(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__name__";class hs{constructor(t,n,s){n===void 0?n=0:n>t.length&&Lt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Lt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return hs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hs?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=hs.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return Zt(t.length,n.length)}static compareSegments(t,n){const s=hs.isNumericId(t),l=hs.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?hs.extractNumericId(t).compare(hs.extractNumericId(n)):ip(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return so.fromString(t.substring(4,t.length-2))}}class xe extends hs{construct(t,n,s){return new xe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new bt(st.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends hs{construct(t,n,s){return new qn(t,n,s)}static isValidIdentifier(t){return J1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new qn([Tv])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new bt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new bt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new bt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new bt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qn(n)}static emptyPath(){return new qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(xe.fromString(t))}static fromName(t){return new Dt(xe.fromString(t).popFirst(5))}static empty(){return new Dt(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return xe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new xe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function tR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ht.fromTimestamp(s===1e9?new En(n+1,0):new En(n,s));return new oo(l,Dt.empty(),t)}function eR(r){return new oo(r.readTime,r.key,Bc)}class oo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new oo(Ht.min(),Dt.empty(),Bc)}static max(){return new oo(Ht.max(),Dt.empty(),Bc)}}function nR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Dt.comparator(r.documentKey,t.documentKey),n!==0?n:Zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(r){if(r.code!==st.FAILED_PRECONDITION||r.message!==iR)throw r;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new rt((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof rt?n:rt.resolve(n)}catch(n){return rt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):rt.reject(n)}static resolve(t){return new rt((n,s)=>{n(t)})}static reject(t){return new rt((n,s)=>{s(t)})}static waitFor(t){return new rt((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},y=>s(y))}),d=!0,c===l&&n()})}static or(t){let n=rt.resolve(!1);for(const s of t)n=n.next(l=>l?rt.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new rt((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const E=y;n(t[E]).next(w=>{d[E]=w,++g,g===c&&s(d)},w=>l(w))}})}static doWhile(t,n){return new rt((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function sR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _u(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ed.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function nd(r){return r==null}function jf(r){return r===0&&1/r==-1/0}function aR(r){return typeof r=="number"&&Number.isInteger(r)&&!jf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="";function oR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=bv(t)),t=lR(r.get(n),t);return bv(t)}function lR(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case y0:n+="";break;default:n+=c}}return n}function bv(r){return r+y0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function mo(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function v0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,n){this.comparator=t,this.root=n||jn.EMPTY}insert(t,n){return new Be(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new Be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _f(this.root,t,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _f(this.root,t,this.comparator,!0)}}class _f{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jn{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??jn.RED,this.left=l??jn.EMPTY,this.right=c??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new jn(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return jn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Lt(27949);return t+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new jn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.comparator=t,this.data=new Be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Tn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Tn(this.comparator);return n.data=t,n}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(t){this.fields=t,t.sort(qn.comparator)}static empty(){return new ji([])}unionWith(t){let n=new Tn(qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ji(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ou(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new E0("Invalid base64 string: "+c):c}}(t);return new Hn(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Hn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const uR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(r){if(Ee(!!r,39018),typeof r=="string"){let t=0;const n=uR.exec(r);if(Ee(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Je(r.seconds),nanos:Je(r.nanos)}}function Je(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function uo(r){return typeof r=="string"?Hn.fromBase64String(r):Hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="server_timestamp",b0="__type__",A0="__previous_value__",w0="__local_write_time__";function Lp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[b0])===null||n===void 0?void 0:n.stringValue)===T0}function id(r){const t=r.mapValue.fields[A0];return Lp(t)?id(t):t}function jc(r){const t=lo(r.mapValue.fields[w0].timestampValue);return new En(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,n,s,l,c,d,g,y,E,w){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=E,this.isUsingEmulator=w}}const qf="(default)";class qc{constructor(t,n){this.projectId=t,this.database=n||qf}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===qf}isEqual(t){return t instanceof qc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__type__",hR="__max__",yf={mapValue:{}},R0="__vector__",Hf="value";function co(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lp(r)?4:dR(r)?9007199254740991:fR(r)?10:11:Lt(28295,{value:r})}function _s(r,t){if(r===t)return!0;const n=co(r);if(n!==co(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jc(r).isEqual(jc(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=lo(l.timestampValue),g=lo(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return uo(l.bytesValue).isEqual(uo(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return Je(l.geoPointValue.latitude)===Je(c.geoPointValue.latitude)&&Je(l.geoPointValue.longitude)===Je(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Je(l.integerValue)===Je(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Je(l.doubleValue),g=Je(c.doubleValue);return d===g?jf(d)===jf(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return ou(r.arrayValue.values||[],t.arrayValue.values||[],_s);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Av(d)!==Av(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!_s(d[y],g[y])))return!1;return!0}(r,t);default:return Lt(52216,{left:r})}}function Hc(r,t){return(r.values||[]).find(n=>_s(n,t))!==void 0}function lu(r,t){if(r===t)return 0;const n=co(r),s=co(t);if(n!==s)return Zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=Je(c.integerValue||c.doubleValue),y=Je(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(jc(r),jc(t));case 5:return ip(r.stringValue,t.stringValue);case 6:return function(c,d){const g=uo(c),y=uo(d);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let E=0;E<g.length&&E<y.length;E++){const w=Zt(g[E],y[E]);if(w!==0)return w}return Zt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Zt(Je(c.latitude),Je(d.latitude));return g!==0?g:Zt(Je(c.longitude),Je(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Rv(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,y,E,w;const N=c.fields||{},O=d.fields||{},K=(g=N[Hf])===null||g===void 0?void 0:g.arrayValue,G=(y=O[Hf])===null||y===void 0?void 0:y.arrayValue,tt=Zt(((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0,((w=G==null?void 0:G.values)===null||w===void 0?void 0:w.length)||0);return tt!==0?tt:Rv(K,G)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===yf.mapValue&&d===yf.mapValue)return 0;if(c===yf.mapValue)return 1;if(d===yf.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),E=d.fields||{},w=Object.keys(E);y.sort(),w.sort();for(let N=0;N<y.length&&N<w.length;++N){const O=ip(y[N],w[N]);if(O!==0)return O;const K=lu(g[y[N]],E[w[N]]);if(K!==0)return K}return Zt(y.length,w.length)}(r.mapValue,t.mapValue);default:throw Lt(23264,{Pe:n})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Zt(r,t);const n=lo(r),s=lo(t),l=Zt(n.seconds,s.seconds);return l!==0?l:Zt(n.nanos,s.nanos)}function Rv(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=lu(n[l],s[l]);if(c)return c}return Zt(n.length,s.length)}function uu(r){return rp(r)}function rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=lo(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return uo(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=rp(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${rp(n.fields[d])}`;return l+"}"}(r.mapValue):Lt(61005,{value:r})}function If(r){switch(co(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=id(r);return t?16+If(t):16;case 5:return 2*r.stringValue.length;case 6:return uo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+If(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return mo(s.fields,(c,d)=>{l+=c.length+If(d)}),l}(r.mapValue);default:throw Lt(13486,{value:r})}}function Iv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function sp(r){return!!r&&"integerValue"in r}function Up(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cf(r){return!!r&&"mapValue"in r}function fR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[S0])===null||n===void 0?void 0:n.stringValue)===R0}function Vc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return mo(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Vc(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vc(r.arrayValue.values[n]);return t}return Object.assign({},r)}function dR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.value=t}static empty(){return new bi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Cf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vc(n)}setAll(t){let n=qn.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Vc(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _s(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Cf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){mo(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new bi(Vc(this.value))}}function I0(r){const t=[];return mo(r.fields,(n,s)=>{const l=new qn([n]);if(Cf(s)){const c=I0(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new ji(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Zn(t,0,Ht.min(),Ht.min(),Ht.min(),bi.empty(),0)}static newFoundDocument(t,n,s,l){return new Zn(t,1,n,Ht.min(),s,l,0)}static newNoDocument(t,n){return new Zn(t,2,n,Ht.min(),Ht.min(),bi.empty(),0)}static newUnknownDocument(t,n){return new Zn(t,3,n,Ht.min(),Ht.min(),bi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n){this.position=t,this.inclusive=n}}function Dv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=Dt.comparator(Dt.fromName(d.referenceValue),n.key):s=lu(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_s(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,n="asc"){this.field=t,this.dir=n}}function mR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class hn extends C0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new gR(t,n,s):n==="array-contains"?new vR(t,s):n==="in"?new ER(t,s):n==="not-in"?new TR(t,s):n==="array-contains-any"?new bR(t,s):new hn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _R(t,s):new yR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lu(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends C0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Lr(t,n)}matches(t){return O0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O0(r){return r.op==="and"}function D0(r){return pR(r)&&O0(r)}function pR(r){for(const t of r.filters)if(t instanceof Lr)return!1;return!0}function ap(r){if(r instanceof hn)return r.field.canonicalString()+r.op.toString()+uu(r.value);if(D0(r))return r.filters.map(t=>ap(t)).join(",");{const t=r.filters.map(n=>ap(n)).join(",");return`${r.op}(${t})`}}function N0(r,t){return r instanceof hn?function(s,l){return l instanceof hn&&s.op===l.op&&s.field.isEqual(l.field)&&_s(s.value,l.value)}(r,t):r instanceof Lr?function(s,l){return l instanceof Lr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&N0(d,l.filters[g]),!0):!1}(r,t):void Lt(19439)}function M0(r){return r instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${uu(n.value)}`}(r):r instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(M0).join(" ,")+"}"}(r):"Filter"}class gR extends hn{constructor(t,n,s){super(t,n,s),this.key=Dt.fromName(s.referenceValue)}matches(t){const n=Dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class _R extends hn{constructor(t,n){super(t,"in",n),this.keys=x0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yR extends hn{constructor(t,n){super(t,"not-in",n),this.keys=x0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function x0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Dt.fromName(s.referenceValue))}class vR extends hn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Up(n)&&Hc(n.arrayValue,this.value)}}class ER extends hn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class TR extends hn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class bR extends hn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Hc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function Mv(r,t=null,n=[],s=[],l=null,c=null,d=null){return new AR(r,t,n,s,l,c,d)}function zp(r){const t=Kt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>ap(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),nd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>uu(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>uu(s)).join(",")),t.Ie=n}return t.Ie}function Bp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!N0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function op(r){return Dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wR(r,t,n,s,l,c,d,g){return new yu(r,t,n,s,l,c,d,g)}function jp(r){return new yu(r)}function xv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V0(r){return r.collectionGroup!==null}function kc(r){const t=Kt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Tn(qn.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Fc(c,s))}),n.has(qn.keyField().canonicalString())||t.Ee.push(new Fc(qn.keyField(),s))}return t.Ee}function ds(r){const t=Kt(r);return t.de||(t.de=SR(t,kc(r))),t.de}function SR(r,t){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Fc(l.field,c)});const n=r.endAt?new Ff(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ff(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function lp(r,t){const n=r.filters.concat([t]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function up(r,t,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function rd(r,t){return Bp(ds(r),ds(t))&&r.limitType===t.limitType}function k0(r){return`${zp(ds(r))}|lt:${r.limitType}`}function Zl(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>M0(l)).join(", ")}]`),nd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>uu(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>uu(l)).join(",")),`Target(${s})`}(ds(r))}; limitType=${r.limitType})`}function sd(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of kc(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,y){const E=Dv(d,g,y);return d.inclusive?E<=0:E<0}(s.startAt,kc(s),l)||s.endAt&&!function(d,g,y){const E=Dv(d,g,y);return d.inclusive?E>=0:E>0}(s.endAt,kc(s),l))}(r,t)}function RR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function P0(r){return(t,n)=>{let s=!1;for(const l of kc(r)){const c=IR(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function IR(r,t,n){const s=r.field.isKeyField()?Dt.comparator(t.key,n.key):function(c,d,g){const y=d.data.field(c),E=g.data.field(c);return y!==null&&E!==null?lu(y,E):Lt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Lt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mo(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Be(Dt.comparator);function aa(){return CR}const L0=new Be(Dt.comparator);function Oc(...r){let t=L0;for(const n of r)t=t.insert(n.key,n);return t}function U0(r){let t=L0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Jo(){return Pc()}function z0(){return Pc()}function Pc(){return new ll(r=>r.toString(),(r,t)=>r.isEqual(t))}const OR=new Be(Dt.comparator),DR=new Tn(Dt.comparator);function ae(...r){let t=DR;for(const n of r)t=t.add(n);return t}const NR=new Tn(Zt);function MR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function B0(r){return{integerValue:""+r}}function xR(r,t){return aR(t)?B0(t):qp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function VR(r,t,n){return r instanceof Gc?function(l,c){const d={fields:{[b0]:{stringValue:T0},[w0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lp(c)&&(c=id(c)),c&&(d.fields[A0]=c),{mapValue:d}}(n,t):r instanceof Qc?q0(r,t):r instanceof Kc?H0(r,t):function(l,c){const d=j0(l,c),g=Vv(d)+Vv(l.Re);return sp(d)&&sp(l.Re)?B0(g):qp(l.serializer,g)}(r,t)}function kR(r,t,n){return r instanceof Qc?q0(r,t):r instanceof Kc?H0(r,t):n}function j0(r,t){return r instanceof Gf?function(s){return sp(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Gc extends ad{}class Qc extends ad{constructor(t){super(),this.elements=t}}function q0(r,t){const n=F0(t);for(const s of r.elements)n.some(l=>_s(l,s))||n.push(s);return{arrayValue:{values:n}}}class Kc extends ad{constructor(t){super(),this.elements=t}}function H0(r,t){let n=F0(t);for(const s of r.elements)n=n.filter(l=>!_s(l,s));return{arrayValue:{values:n}}}class Gf extends ad{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Vv(r){return Je(r.integerValue||r.doubleValue)}function F0(r){return Up(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n){this.field=t,this.transform=n}}function LR(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Qc&&l instanceof Qc||s instanceof Kc&&l instanceof Kc?ou(s.elements,l.elements,_s):s instanceof Gf&&l instanceof Gf?_s(s.Re,l.Re):s instanceof Gc&&l instanceof Gc}(r.transform,t.transform)}class UR{constructor(t,n){this.version=t,this.transformResults=n}}class ms{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ms}static exists(t){return new ms(void 0,t)}static updateTime(t){return new ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Of(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class od{}function G0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new K0(r.key,ms.none()):new eh(r.key,r.data,ms.none());{const n=r.data,s=bi.empty();let l=new Tn(qn.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new po(r.key,s,new ji(l.toArray()),ms.none())}}function zR(r,t,n){r instanceof eh?function(l,c,d){const g=l.value.clone(),y=Pv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof po?function(l,c,d){if(!Of(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Pv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Q0(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Lc(r,t,n,s){return r instanceof eh?function(c,d,g,y){if(!Of(c.precondition,d))return g;const E=c.value.clone(),w=Lv(c.fieldTransforms,y,d);return E.setAll(w),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null}(r,t,n,s):r instanceof po?function(c,d,g,y){if(!Of(c.precondition,d))return g;const E=Lv(c.fieldTransforms,y,d),w=d.data;return w.setAll(Q0(c)),w.setAll(E),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(N=>N.field))}(r,t,n,s):function(c,d,g){return Of(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function BR(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=j0(s.transform,l||null);c!=null&&(n===null&&(n=bi.empty()),n.set(s.field,c))}return n||null}function kv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ou(s,l,(c,d)=>LR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class eh extends od{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class po extends od{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Q0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Pv(r,t,n){const s=new Map;Ee(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,kR(d,g,n[l]))}return s}function Lv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,VR(c,d,t))}return s}class K0 extends od{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends od{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&zR(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Lc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Lc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=z0();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const y=G0(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ht.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ae())}isEqual(t){return this.batchId===t.batchId&&ou(this.mutations,t.mutations,(n,s)=>kv(n,s))&&ou(this.baseMutations,t.baseMutations,(n,s)=>kv(n,s))}}class Hp{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ee(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return OR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Hp(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,de;function GR(r){switch(r){case st.OK:return Lt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Lt(15467,{code:r})}}function Y0(r){if(r===void 0)return sa("GRPC error has no .code"),st.UNKNOWN;switch(r){case cn.OK:return st.OK;case cn.CANCELLED:return st.CANCELLED;case cn.UNKNOWN:return st.UNKNOWN;case cn.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case cn.INTERNAL:return st.INTERNAL;case cn.UNAVAILABLE:return st.UNAVAILABLE;case cn.UNAUTHENTICATED:return st.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case cn.NOT_FOUND:return st.NOT_FOUND;case cn.ALREADY_EXISTS:return st.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return st.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case cn.ABORTED:return st.ABORTED;case cn.OUT_OF_RANGE:return st.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return st.UNIMPLEMENTED;case cn.DATA_LOSS:return st.DATA_LOSS;default:return Lt(39323,{code:r})}}(de=cn||(cn={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new so([4294967295,4294967295],0);function Uv(r){const t=g0().encode(r),n=new l0;return n.update(t),new Uint8Array(n.digest())}function zv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new so([n,s],0),new so([l,c],0)]}class Fp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(s<0)throw new Dc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=so.fromNumber(this.pe)}we(t,n,s){let l=t.add(n.multiply(so.fromNumber(s)));return l.compare(QR)===1&&(l=new so([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Uv(t),[s,l]=zv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);if(!this.be(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fp(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const n=Uv(t),[s,l]=zv(n);for(let c=0;c<this.hashCount;c++){const d=this.we(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,nh.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ld(Ht.min(),l,new Be(Zt),aa(),ae())}}class nh{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new nh(s,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,n,s,l){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=l}}class $0{constructor(t,n){this.targetId=t,this.Ce=n}}class X0{constructor(t,n,s=Hn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class Bv{constructor(){this.Fe=0,this.Me=jv(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ae(),n=ae(),s=ae();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Lt(38017,{changeType:c})}}),new nh(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=jv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ee(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class KR{constructor(t){this.ze=t,this.je=new Map,this.He=aa(),this.Je=vf(),this.Ye=vf(),this.Ze=new Be(Zt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Lt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,l)=>{this.it(l)&&n(l)})}ot(t){const n=t.targetId,s=t.Ce.count,l=this._t(n);if(l){const c=l.target;if(op(c))if(s===0){const d=new Dt(c.path);this.tt(n,d,Zn.newNoDocument(d,Ht.min()))}else Ee(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const g=this.ct(t),y=g?this.lt(g,t,d):1;if(y!==0){this.st(n);const E=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=uo(s).toUint8Array()}catch(y){if(y instanceof E0)return au("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fp(d,l,c)}catch(y){return au(y instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,c,null),l++)}),l}It(t){const n=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&op(g.target)){const y=new Dt(g.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,Zn.newNoDocument(y,t))}c.Le&&(n.set(d,c.qe()),c.Qe())}});let s=ae();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const E=this._t(y);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new ld(t,n,this.Ze,this.He,s);return this.He=aa(),this.Je=vf(),this.Ye=vf(),this.Ze=new Be(Zt),l}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,n)?l.$e(n,1):l.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Bv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Tn(Zt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Tn(Zt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||Et("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Bv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function vf(){return new Be(Dt.comparator)}function jv(){return new Be(Dt.comparator)}const YR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class ZR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cp(r,t){return r.useProto3Json||nd(t)?t:{value:t}}function Qf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function WR(r,t){return Qf(r,t.toTimestamp())}function ps(r){return Ee(!!r,49232),Ht.fromTimestamp(function(n){const s=lo(n);return new En(s.seconds,s.nanos)}(r))}function Gp(r,t){return hp(r,t).canonicalString()}function hp(r,t){const n=function(l){return new xe(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function W0(r){const t=xe.fromString(r);return Ee(iT(t),10190,{key:t.toString()}),t}function fp(r,t){return Gp(r.databaseId,t.path)}function Hm(r,t){const n=W0(t);if(n.get(1)!==r.databaseId.projectId)throw new bt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new bt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Dt(tT(n))}function J0(r,t){return Gp(r.databaseId,t)}function JR(r){const t=W0(r);return t.length===4?xe.emptyPath():tT(t)}function dp(r){return new xe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tT(r){return Ee(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qv(r,t,n){return{name:fp(r,t),fields:n.value.mapValue.fields}}function tI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:Lt(39313,{state:E})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(E,w){return E.useProto3Json?(Ee(w===void 0||typeof w=="string",58123),Hn.fromBase64String(w||"")):(Ee(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Hn.fromUint8Array(w||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(E){const w=E.code===void 0?st.UNKNOWN:Y0(E.code);return new bt(w,E.message||"")}(d);n=new X0(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Hm(r,s.document.name),c=ps(s.document.updateTime),d=s.document.createTime?ps(s.document.createTime):Ht.min(),g=new bi({mapValue:{fields:s.document.fields}}),y=Zn.newFoundDocument(l,c,d,g),E=s.targetIds||[],w=s.removedTargetIds||[];n=new Df(E,w,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Hm(r,s.document),c=s.readTime?ps(s.readTime):Ht.min(),d=Zn.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Df([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Hm(r,s.document),c=s.removedTargetIds||[];n=new Df([],c,l,null)}else{if(!("filter"in t))return Lt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new FR(l,c),g=s.targetId;n=new $0(g,d)}}return n}function eI(r,t){let n;if(t instanceof eh)n={update:qv(r,t.key,t.value)};else if(t instanceof K0)n={delete:fp(r,t.key)};else if(t instanceof po)n={update:qv(r,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof jR))return Lt(16599,{ft:t.type});n={verify:fp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gf)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Lt(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:WR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Lt(27497)}(r,t.precondition)),n}function nI(r,t){return r&&r.length>0?(Ee(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?ps(l.updateTime):ps(c);return d.isEqual(Ht.min())&&(d=ps(c)),new UR(d,l.transformResults||[])}(n,t))):[]}function iI(r,t){return{documents:[J0(r,t.path)]}}function rI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=J0(r,l);const c=function(E){if(E.length!==0)return nT(Lr.create(E,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(E){if(E.length!==0)return E.map(w=>function(O){return{field:Wl(O.field),direction:oI(O.dir)}}(w))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=cp(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{gt:n,parent:l}}function sI(r){let t=JR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ee(s===1,65062);const w=n.from[0];w.allDescendants?l=w.collectionId:t=t.child(w.collectionId)}let c=[];n.where&&(c=function(N){const O=eT(N);return O instanceof Lr&&D0(O)?O.getFilters():[O]}(n.where));let d=[];n.orderBy&&(d=function(N){return N.map(O=>function(G){return new Fc(Jl(G.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(O))}(n.orderBy));let g=null;n.limit&&(g=function(N){let O;return O=typeof N=="object"?N.value:N,nd(O)?null:O}(n.limit));let y=null;n.startAt&&(y=function(N){const O=!!N.before,K=N.values||[];return new Ff(K,O)}(n.startAt));let E=null;return n.endAt&&(E=function(N){const O=!N.before,K=N.values||[];return new Ff(K,O)}(n.endAt)),wR(t,l,d,c,g,"F",y,E)}function aI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function eT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Jl(n.unaryFilter.field);return hn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Jl(n.unaryFilter.field);return hn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Jl(n.unaryFilter.field);return hn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Jl(n.unaryFilter.field);return hn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}}(r):r.fieldFilter!==void 0?function(n){return hn.create(Jl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(s=>eT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}}(n.compositeFilter.op))}(r):Lt(30097,{filter:r})}function oI(r){return YR[r]}function lI(r){return $R[r]}function uI(r){return XR[r]}function Wl(r){return{fieldPath:r.canonicalString()}}function Jl(r){return qn.fromServerFormat(r.fieldPath)}function nT(r){return r instanceof hn?function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NAN"}};if(Cv(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NAN"}};if(Cv(n.value))return{unaryFilter:{field:Wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wl(n.field),op:lI(n.op),value:n.value}}}(r):r instanceof Lr?function(n){const s=n.getFilters().map(l=>nT(l));return s.length===1?s[0]:{compositeFilter:{op:uI(n.op),filters:s}}}(r):Lt(54877,{filter:r})}function cI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function iT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,s,l,c=Ht.min(),d=Ht.min(),g=Hn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new eo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.wt=t}}function fI(r){const t=sI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?up(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Cn=new mI}addToCollectionParentIndex(t,n){return this.Cn.add(n),rt.resolve()}getCollectionParents(t,n){return rt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return rt.resolve()}deleteFieldIndex(t,n){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,n){return rt.resolve()}getDocumentsMatchingTarget(t,n){return rt.resolve(null)}getIndexType(t,n){return rt.resolve(0)}getFieldIndexes(t,n){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,n){return rt.resolve(oo.min())}getMinOffsetFromCollectionGroup(t,n){return rt.resolve(oo.min())}updateCollectionGroup(t,n,s){return rt.resolve()}updateIndexEntries(t,n){return rt.resolve()}}class mI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Tn(xe.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Tn(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class Ti{static withCacheSize(t){return new Ti(t,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti.DEFAULT_COLLECTION_PERCENTILE=10,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ti.DEFAULT=new Ti(rT,Ti.DEFAULT_COLLECTION_PERCENTILE,Ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ti.DISABLED=new Ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new cu(0)}static lr(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",pI=1048576;function Gv([r,t],[n,s]){const l=Zt(r,n);return l===0?Zt(t,s):l}class gI{constructor(t){this.Er=t,this.buffer=new Tn(Gv),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){Et(Fv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_u(n)?Et(Fv,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.mr(3e5)})}}class yI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return rt.resolve(ed.le);const s=new gI(n);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Hv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,l,c,d,g,y,E;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,d=Date.now(),this.nthSequenceNumber(t,l))).next(N=>(s=N,g=Date.now(),this.removeTargets(t,s,n))).next(N=>(c=N,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(N=>(E=Date.now(),Xl()<=se.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${N} documents in `+(E-y)+`ms
Total Duration: ${E-w}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:N})))}}function vI(r,t){return new yI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.changes=new ll(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?rt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Lc(s.mutation,l,ji.empty(),En.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,ae()).next(()=>s))}getLocalViewOfDocuments(t,n,s=ae()){const l=Jo();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=Oc();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Jo();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,ae()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=aa();const d=Pc(),g=function(){return Pc()}();return n.forEach((y,E)=>{const w=s.get(E.key);l.has(E.key)&&(w===void 0||w.mutation instanceof po)?c=c.insert(E.key,E):w!==void 0?(d.set(E.key,w.mutation.getFieldMask()),Lc(w.mutation,E,w.mutation.getFieldMask(),En.now())):d.set(E.key,ji.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((E,w)=>d.set(E,w)),n.forEach((E,w)=>{var N;return g.set(E,new TI(w,(N=d.get(E))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Pc();let l=new Be((d,g)=>d-g),c=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(y=>{const E=n.get(y);if(E===null)return;let w=s.get(y)||ji.empty();w=g.applyToLocalView(E,w),s.set(y,w);const N=(l.get(g.batchId)||ae()).add(y);l=l.insert(g.batchId,N)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),E=y.key,w=y.value,N=z0();w.forEach(O=>{if(!c.has(O)){const K=G0(n.get(O),s.get(O));K!==null&&N.set(O,K),c=c.add(O)}}),d.push(this.documentOverlayCache.saveOverlays(t,E,N))}return rt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):V0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):rt.resolve(Jo());let g=Bc,y=c;return d.next(E=>rt.forEach(E,(w,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),c.get(w)?rt.resolve():this.remoteDocumentCache.getEntry(t,w).next(O=>{y=y.insert(w,O)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,y,E,ae())).next(w=>({batchId:g,changes:U0(w)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Dt(n)).next(s=>{let l=Oc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Oc();return this.indexManager.getCollectionParents(t,c).next(g=>rt.forEach(g,y=>{const E=function(N,O){return new yu(O,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,s,l).next(w=>{w.forEach((N,O)=>{d=d.insert(N,O)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((y,E)=>{const w=E.getKey();d.get(w)===null&&(d=d.insert(w,Zn.newInvalidDocument(w)))});let g=Oc();return d.forEach((y,E)=>{const w=c.get(y);w!==void 0&&Lc(w.mutation,E,ji.empty(),En.now()),sd(n,E)&&(g=g.insert(y,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return rt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:ps(l.createTime)}}(n)),rt.resolve()}getNamedQuery(t,n){return rt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(l){return{name:l.name,query:fI(l.bundledQuery),readTime:ps(l.readTime)}}(n)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.overlays=new Be(Dt.comparator),this.Qr=new Map}getOverlay(t,n){return rt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Jo();return rt.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),rt.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),rt.resolve()}getOverlaysForCollection(t,n,s){const l=Jo(),c=n.length+1,d=new Dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,E=y.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return rt.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new Be((E,w)=>E-w);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>s){let w=c.get(E.largestBatchId);w===null&&(w=Jo(),c=c.insert(E.largestBatchId,w)),w.set(E.getKey(),E)}}const g=Jo(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,w)=>g.set(E,w)),!(g.size()>=l)););return rt.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HR(n,s));let c=this.Qr.get(n);c===void 0&&(c=ae(),this.Qr.set(n,c)),this.Qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.$r=new Tn(On.Ur),this.Kr=new Tn(On.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new On(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new On(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new Dt(new xe([])),s=new On(n,t),l=new On(n,t+1),c=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new Dt(new xe([])),s=new On(n,t),l=new On(n,t+1);let c=ae();return this.Kr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new On(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class On{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return Dt.comparator(t.key,n.key)||Zt(t.Zr,n.Zr)}static Wr(t,n){return Zt(t.Zr,n.Zr)||Dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Tn(On.Ur)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qR(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Xr=this.Xr.add(new On(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return rt.resolve(d)}lookupMutationBatch(t,n){return rt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ti(s),c=l<0?0:l;return rt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?Pp:this.nr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new On(n,0),l=new On(n,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,l],d=>{const g=this.ei(d.Zr);c.push(g)}),rt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Tn(Zt);return n.forEach(l=>{const c=new On(l,0),d=new On(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),rt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;Dt.isDocumentKey(c)||(c=c.child(""));const d=new On(new Dt(c),0);let g=new Tn(Zt);return this.Xr.forEachWhile(y=>{const E=y.key.path;return!!s.isPrefixOf(E)&&(E.length===l&&(g=g.add(y.Zr)),!0)},d),rt.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Ee(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return rt.forEach(n.mutations,l=>{const c=new On(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new On(n,0),l=this.Xr.firstAfterOrEqual(s);return rt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.ii=t,this.docs=function(){return new Be(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return rt.resolve(s?s.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(t,n){let s=aa();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Zn.newInvalidDocument(l))}),rt.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=aa();const d=n.path,g=new Dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:E,value:{document:w}}=y.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||nR(eR(w),s)<=0||(l.has(w.key)||sd(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return rt.resolve(c)}getAllFromCollectionGroup(t,n,s,l){Lt(9500)}si(t,n){return rt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new CI(this)}getSize(t){return rt.resolve(this.size)}}class CI extends EI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),rt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.persistence=t,this.oi=new ll(n=>zp(n),Bp),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this._i=0,this.ai=new Qp,this.targetCount=0,this.ui=cu.cr()}forEachTarget(t,n){return this.oi.forEach((s,l)=>n(l)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),rt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new cu(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,rt.resolve()}updateTargetData(t,n){return this.Tr(n),rt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),rt.waitFor(c).next(()=>l)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return rt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),rt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),rt.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),rt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return rt.resolve(s)}containsKey(t,n){return rt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.ci={},this.overlays={},this.li=new ed(0),this.hi=!1,this.hi=!0,this.Pi=new SI,this.referenceDelegate=t(this),this.Ti=new OI(this),this.indexManager=new dI,this.remoteDocumentCache=function(l){return new II(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new hI(n),this.Ei=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new RI(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){Et("MemoryPersistence","Starting transaction:",t);const l=new DI(this.li.next());return this.referenceDelegate.di(),s(l).next(c=>this.referenceDelegate.Ai(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ri(t,n){return rt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class DI extends rR{constructor(t){super(),this.currentSequenceNumber=t}}class Kp{constructor(t){this.persistence=t,this.Vi=new Qp,this.mi=null}static fi(t){return new Kp(t)}get gi(){if(this.mi)return this.mi;throw Lt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),rt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),rt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.gi,s=>{const l=Dt.fromPath(s);return this.pi(t,l).next(c=>{c||n.removeEntry(l,Ht.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return rt.or([()=>rt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Kf{constructor(t,n){this.persistence=t,this.yi=new ll(s=>oR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=vI(this,n)}static fi(t,n){return new Kf(t,n)}di(){}Ai(t){return rt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return rt.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(c=>c?rt.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,n).next(g=>{g||(s++,c.removeEntry(d,Ht.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),rt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),rt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),rt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=If(t.data.value)),n}Dr(t,n,s){return rt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.yi.get(n);return rt.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.ds=s,this.As=l}static Rs(t,n){let s=ae(),l=ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Yp(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return RA()?8:sR(Wn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ws(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.bs(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new NI;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.fs)return this.Ds(t,n,d,g.size)})}).next(()=>c.result)}Ds(t,n,s,l){return s.documentReadCount<this.gs?(Xl()<=se.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rt.resolve()):(Xl()<=se.DEBUG&&Et("QueryEngine","Query:",Zl(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(Xl()<=se.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ds(n))):rt.resolve())}ws(t,n){if(xv(n))return rt.resolve(null);let s=ds(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=up(n,null,"F"),s=ds(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=ae(...c);return this.ys.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const E=this.vs(n,g);return this.Cs(n,E,d,y.readTime)?this.ws(t,up(n,null,"F")):this.Fs(t,E,n,y)}))})))}bs(t,n,s,l){return xv(n)||l.isEqual(Ht.min())?rt.resolve(null):this.ys.getDocuments(t,s).next(c=>{const d=this.vs(n,c);return this.Cs(n,d,s,l)?rt.resolve(null):(Xl()<=se.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zl(n)),this.Fs(t,d,n,tR(l,Bc)).next(g=>g))})}vs(t,n){let s=new Tn(P0(t));return n.forEach((l,c)=>{sd(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Xl()<=se.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.ys.getDocumentsMatchingQuery(t,n,oo.min(),s)}Fs(t,n,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",xI=3e8;class VI{constructor(t,n,s,l){this.persistence=t,this.Ms=n,this.serializer=l,this.xs=new Be(Zt),this.Os=new ll(c=>zp(c),Bp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bI(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function kI(r,t,n,s){return new VI(r,t,n,s)}async function aT(r,t){const n=Kt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=ae();for(const E of l){d.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}for(const E of c){g.push(E.batchId);for(const w of E.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(E=>({ks:E,removedBatchIds:d,addedBatchIds:g}))})})}function PI(r,t){const n=Kt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,y,E,w){const N=E.batch,O=N.keys();let K=rt.resolve();return O.forEach(G=>{K=K.next(()=>w.getEntry(y,G)).next(tt=>{const Z=E.docVersions.get(G);Ee(Z!==null,48541),tt.version.compareTo(Z)<0&&(N.applyToRemoteDocument(tt,E),tt.isValidDocument()&&(tt.setReadTime(E.commitVersion),w.addEntry(tt)))})}),K.next(()=>g.mutationQueue.removeMutationBatch(y,N))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=ae();for(let E=0;E<g.mutationResults.length;++E)g.mutationResults[E].transformResults.length>0&&(y=y.add(g.batch.mutations[E].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function oT(r){const t=Kt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function LI(r,t){const n=Kt(r),s=t.snapshotVersion;let l=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});l=n.xs;const g=[];t.targetChanges.forEach((w,N)=>{const O=l.get(N);if(!O)return;g.push(n.Ti.removeMatchingKeys(c,w.removedDocuments,N).next(()=>n.Ti.addMatchingKeys(c,w.addedDocuments,N)));let K=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(N)!==null?K=K.withResumeToken(Hn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):w.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(w.resumeToken,s)),l=l.insert(N,K),function(tt,Z,ut){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=xI?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0}(O,K,w)&&g.push(n.Ti.updateTargetData(c,K))});let y=aa(),E=ae();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),g.push(UI(c,d,t.documentUpdates).next(w=>{y=w.qs,E=w.Qs})),!s.isEqual(Ht.min())){const w=n.Ti.getLastRemoteSnapshotVersion(c).next(N=>n.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(w)}return rt.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,E)).next(()=>y)}).then(c=>(n.xs=l,c))}function UI(r,t,n){let s=ae(),l=ae();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=aa();return n.forEach((g,y)=>{const E=c.get(g);y.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ht.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||y.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):Et($p,"Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",y.version)}),{qs:d,Qs:l}})}function zI(r,t){const n=Kt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BI(r,t){const n=Kt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Ti.getTargetData(s,t).next(c=>c?(l=c,rt.resolve(l)):n.Ti.allocateTargetId(s).next(d=>(l=new eo(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function mp(r,t,n){const s=Kt(r),l=s.xs.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!_u(d))throw d;Et($p,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function Qv(r,t,n){const s=Kt(r);let l=Ht.min(),c=ae();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,E,w){const N=Kt(y),O=N.Os.get(w);return O!==void 0?rt.resolve(N.xs.get(O)):N.Ti.getTargetData(E,w)}(s,d,ds(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,n?l:Ht.min(),n?c:ae())).next(g=>(jI(s,RR(t),g),{documents:g,$s:c})))}function jI(r,t,n){let s=r.Ns.get(t)||Ht.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class Kv{constructor(){this.activeTargetIds=MR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.xo=new Kv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Kv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class $v{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Et(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){Et(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=null;function pp(){return Ef===null?Ef=function(){return 268435456+Math.round(2147483648*Math.random())}():Ef++,"0x"+Ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GI{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===qf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,n,s,l,c){const d=pp(),g=this.jo(t,n.toUriEncodedString());Et(Fm,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,c);const{host:E}=new URL(g),w=$c(E);return this.Jo(t,g,y,s,w).then(N=>(Et(Fm,`Received RPC '${t}' ${d}: `,N),N),N=>{throw au(Fm,`RPC '${t}' ${d} failed with error: `,N,"url: ",g,"request:",s),N})}Yo(t,n,s,l,c,d){return this.zo(t,n,s,l,c)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}jo(t,n){const s=FI[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class KI extends GI{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=pp();return new Promise((g,y)=>{const E=new u0;E.setWithCredentials(!0),E.listenOnce(c0.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Rf.NO_ERROR:const N=E.getResponseJson();Et($n,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(N)),g(N);break;case Rf.TIMEOUT:Et($n,`RPC '${t}' ${d} timed out`),y(new bt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const O=E.getStatus();if(Et($n,`RPC '${t}' ${d} failed with status:`,O,"response text:",E.getResponseText()),O>0){let K=E.getResponseJson();Array.isArray(K)&&(K=K[0]);const G=K==null?void 0:K.error;if(G&&G.status&&G.message){const tt=function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(dt)>=0?dt:st.UNKNOWN}(G.status);y(new bt(tt,G.message))}else y(new bt(st.UNKNOWN,"Server responded with status "+E.getStatus()))}else y(new bt(st.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{h_:t,streamId:d,P_:E.getLastErrorCode(),T_:E.getLastError()})}}finally{Et($n,`RPC '${t}' ${d} completed.`)}});const w=JSON.stringify(l);Et($n,`RPC '${t}' ${d} sending request:`,l),E.send(n,"POST",w,s,15)})}I_(t,n,s){const l=pp(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=d0(),g=f0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(y.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");Et($n,`Creating RPC '${t}' stream ${l}: ${w}`,y);const N=d.createWebChannel(w,y);this.E_(N);let O=!1,K=!1;const G=new QI({Zo:Z=>{K?Et($n,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(O||(Et($n,`Opening RPC '${t}' stream ${l} transport.`),N.open(),O=!0),Et($n,`RPC '${t}' stream ${l} sending:`,Z),N.send(Z))},Xo:()=>N.close()}),tt=(Z,ut,dt)=>{Z.listen(ut,Tt=>{try{dt(Tt)}catch(zt){setTimeout(()=>{throw zt},0)}})};return tt(N,Cc.EventType.OPEN,()=>{K||(Et($n,`RPC '${t}' stream ${l} transport opened.`),G.__())}),tt(N,Cc.EventType.CLOSE,()=>{K||(K=!0,Et($n,`RPC '${t}' stream ${l} transport closed`),G.u_(),this.d_(N))}),tt(N,Cc.EventType.ERROR,Z=>{K||(K=!0,au($n,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.u_(new bt(st.UNAVAILABLE,"The operation could not be completed")))}),tt(N,Cc.EventType.MESSAGE,Z=>{var ut;if(!K){const dt=Z.data[0];Ee(!!dt,16349);const Tt=dt,zt=(Tt==null?void 0:Tt.error)||((ut=Tt[0])===null||ut===void 0?void 0:ut.error);if(zt){Et($n,`RPC '${t}' stream ${l} received error:`,zt);const Nt=zt.status;let Yt=function(M){const P=cn[M];if(P!==void 0)return Y0(P)}(Nt),k=zt.message;Yt===void 0&&(Yt=st.INTERNAL,k="Unknown error status: "+Nt+" with message "+zt.message),K=!0,G.u_(new bt(Yt,k)),N.close()}else Et($n,`RPC '${t}' stream ${l} received:`,dt),G.c_(dt)}}),tt(g,h0.STAT_EVENT,Z=>{Z.stat===np.PROXY?Et($n,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===np.NOPROXY&&Et($n,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{G.a_()},0),G}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(r){return new ZR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t,n,s=1e3,l=1.5,c=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=l,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,n-s);l>0&&Et("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="PersistentStream";class uT{constructor(t,n,s,l,c,d,g,y){this.xi=t,this.S_=s,this.D_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new lT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(sa(n.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===n&&this.z_(s,l)},s=>{t(()=>{const l=new bt(st.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return Et(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(Et(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YI extends uT{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=tI(this.serializer,t),s=function(c){if(!("targetChange"in c))return Ht.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ht.min():d.readTime?ps(d.readTime):Ht.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=dp(this.serializer),n.addTarget=function(c,d){let g;const y=d.target;if(g=op(y)?{documents:iI(c,y)}:{query:rI(c,y).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Z0(c,d.resumeToken);const E=cp(c,d.expectedCount);E!==null&&(g.expectedCount=E)}else if(d.snapshotVersion.compareTo(Ht.min())>0){g.readTime=Qf(c,d.snapshotVersion.toTimestamp());const E=cp(c,d.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const s=aI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=dp(this.serializer),n.removeTarget=t,this.Q_(n)}}class $I extends uT{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ee(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ee(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ee(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=nI(t.writeResults,t.commitTime),s=ps(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=dp(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>eI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{}class ZI extends XI{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new bt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(t,hp(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new bt(st.UNKNOWN,c.toString())})}Yo(t,n,s,l,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(t,hp(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new bt(st.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class WI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(sa(n),this.ua=!1):Et("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="RemoteStore";class JI{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(d=>{s.enqueueAndForget(async()=>{ul(this)&&(Et(ol,"Restarting streams for network reachability change."),await async function(y){const E=Kt(y);E.da.add(4),await ih(E),E.Va.set("Unknown"),E.da.delete(4),await cd(E)}(this))})}),this.Va=new WI(s,l)}}async function cd(r){if(ul(r))for(const t of r.Aa)await t(!0)}async function ih(r){for(const t of r.Aa)await t(!1)}function cT(r,t){const n=Kt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Jp(n)?Wp(n):vu(n).N_()&&Zp(n,t))}function Xp(r,t){const n=Kt(r),s=vu(n);n.Ea.delete(t),s.N_()&&hT(n,t),n.Ea.size===0&&(s.N_()?s.k_():ul(n)&&n.Va.set("Unknown"))}function Zp(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vu(r).Z_(t)}function hT(r,t){r.ma.Ke(t),vu(r).X_(t)}function Wp(r){r.ma=new KR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),vu(r).start(),r.Va.ca()}function Jp(r){return ul(r)&&!vu(r).O_()&&r.Ea.size>0}function ul(r){return Kt(r).da.size===0}function fT(r){r.ma=void 0}async function tC(r){r.Va.set("Online")}async function eC(r){r.Ea.forEach((t,n)=>{Zp(r,t)})}async function nC(r,t){fT(r),Jp(r)?(r.Va.Pa(t),Wp(r)):r.Va.set("Unknown")}async function iC(r,t,n){if(r.Va.set("Online"),t instanceof X0&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ea.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ea.delete(g),l.ma.removeTarget(g))}(r,t)}catch(s){Et(ol,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Yf(r,s)}else if(t instanceof Df?r.ma.Xe(t):t instanceof $0?r.ma.ot(t):r.ma.nt(t),!n.isEqual(Ht.min()))try{const s=await oT(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.ma.It(d);return g.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.Ea.get(E);w&&c.Ea.set(E,w.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,E)=>{const w=c.Ea.get(y);if(!w)return;c.Ea.set(y,w.withResumeToken(Hn.EMPTY_BYTE_STRING,w.snapshotVersion)),hT(c,y);const N=new eo(w.target,y,E,w.sequenceNumber);Zp(c,N)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){Et(ol,"Failed to raise snapshot:",s),await Yf(r,s)}}async function Yf(r,t,n){if(!_u(t))throw t;r.da.add(1),await ih(r),r.Va.set("Offline"),n||(n=()=>oT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Et(ol,"Retrying IndexedDB access"),await n(),r.da.delete(1),await cd(r)})}function dT(r,t){return t().catch(n=>Yf(r,n,t))}async function hd(r){const t=Kt(r),n=ho(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:Pp;for(;rC(t);)try{const l=await zI(t.localStore,s);if(l===null){t.Ia.length===0&&n.k_();break}s=l.batchId,sC(t,l)}catch(l){await Yf(t,l)}mT(t)&&pT(t)}function rC(r){return ul(r)&&r.Ia.length<10}function sC(r,t){r.Ia.push(t);const n=ho(r);n.N_()&&n.ea&&n.ta(t.mutations)}function mT(r){return ul(r)&&!ho(r).O_()&&r.Ia.length>0}function pT(r){ho(r).start()}async function aC(r){ho(r).ia()}async function oC(r){const t=ho(r);for(const n of r.Ia)t.ta(n.mutations)}async function lC(r,t,n){const s=r.Ia.shift(),l=Hp.from(s,t,n);await dT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await hd(r)}async function uC(r,t){t&&ho(r).ea&&await async function(s,l){if(function(d){return GR(d)&&d!==st.ABORTED}(l.code)){const c=s.Ia.shift();ho(s).L_(),await dT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await hd(s)}}(r,t),mT(r)&&pT(r)}async function Zv(r,t){const n=Kt(r);n.asyncQueue.verifyOperationInProgress(),Et(ol,"RemoteStore received new credentials");const s=ul(n);n.da.add(3),await ih(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await cd(n)}async function cC(r,t){const n=Kt(r);t?(n.da.delete(2),await cd(n)):t||(n.da.add(2),await ih(n),n.Va.set("Unknown"))}function vu(r){return r.fa||(r.fa=function(n,s,l){const c=Kt(n);return c.oa(),new YI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:tC.bind(null,r),n_:eC.bind(null,r),i_:nC.bind(null,r),Y_:iC.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Jp(r)?Wp(r):r.Va.set("Unknown")):(await r.fa.stop(),fT(r))})),r.fa}function ho(r){return r.ga||(r.ga=function(n,s,l){const c=Kt(n);return c.oa(),new $I(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:aC.bind(null,r),i_:uC.bind(null,r),na:oC.bind(null,r),ra:lC.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await hd(r)):(await r.ga.stop(),r.Ia.length>0&&(Et(ol,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new tg(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,t){if(sa("AsyncQueue",`${t}: ${r}`),_u(r))return new bt(st.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{static emptySet(t){return new iu(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Dt.comparator(n.key,s.key):(n,s)=>Dt.comparator(n.key,s.key),this.keyedMap=Oc(),this.sortedSet=new Be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof iu)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new iu;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.pa=new Be(Dt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Lt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class hu{constructor(t,n,s,l,c,d,g,y,E){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=E}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new hu(t,n,iu.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class fC{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Kt(n),c=l.queries;l.queries=Jv(),c.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new bt(st.ABORTED,"Firestore shutting down"))}}function Jv(){return new ll(r=>k0(r),rd)}async function dC(r,t){const n=Kt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.Da()&&t.va()&&(s=2):(c=new hC,s=t.va()?0:1);try{switch(s){case 0:c.ba=await n.onListen(l,!0);break;case 1:c.ba=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=eg(d,`Initialization of query '${Zl(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.Fa(n.onlineState),c.ba&&t.Ma(c.ba)&&ng(n)}async function mC(r,t){const n=Kt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.va()?0:1:!c.Da()&&t.va()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,t){const n=Kt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Ma(l)&&(s=!0);d.ba=l}}s&&ng(n)}function gC(r,t,n){const s=Kt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function ng(r){r.Ca.forEach(t=>{t.next()})}var gp,tE;(tE=gp||(gp={})).xa="default",tE.Cache="cache";class _C{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new hu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=hu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.key=t}}class _T{constructor(t){this.key=t}}class yC{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.Za=P0(t),this.Xa=new iu(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Wv,l=n?n.Xa:this.Xa;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((w,N)=>{const O=l.get(w),K=sd(this.query,N)?N:null,G=!!O&&this.mutatedKeys.has(O.key),tt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Z=!1;O&&K?O.data.isEqual(K.data)?G!==tt&&(s.track({type:3,doc:K}),Z=!0):this.ru(O,K)||(s.track({type:2,doc:K}),Z=!0,(y&&this.Za(K,y)>0||E&&this.Za(K,E)<0)&&(g=!0)):!O&&K?(s.track({type:0,doc:K}),Z=!0):O&&!K&&(s.track({type:1,doc:O}),Z=!0,(y||E)&&(g=!0)),Z&&(K?(d=d.add(K),c=tt?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{Xa:d,nu:s,Cs:g,mutatedKeys:c}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((w,N)=>function(K,G){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Vt:Z})}};return tt(K)-tt(G)}(w.type,N.type)||this.Za(w.doc,N.doc)),this.iu(s),l=l!=null&&l;const g=n&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,E=y!==this.Ja;return this.Ja=y,d.length!==0||E?{snapshot:new hu(this.query,t.Xa,c,d,t.mutatedKeys,y===0,E,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ae(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new _T(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new gT(s))}),n}au(t){this.Ha=t.$s,this.Ya=ae();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return hu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ig="SyncEngine";class vC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class EC{constructor(t){this.key=t,this.cu=!1}}class TC{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new ll(g=>k0(g),rd),this.Pu=new Map,this.Tu=new Set,this.Iu=new Be(Dt.comparator),this.Eu=new Map,this.du=new Qp,this.Au={},this.Ru=new Map,this.Vu=cu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function bC(r,t,n=!0){const s=AT(r);let l;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.uu()):l=await yT(s,t,n,!0),l}async function AC(r,t){const n=AT(r);await yT(n,t,!0,!1)}async function yT(r,t,n,s){const l=await BI(r.localStore,ds(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await wC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&cT(r.remoteStore,l),g}async function wC(r,t,n,s,l){r.fu=(N,O,K)=>async function(tt,Z,ut,dt){let Tt=Z.view.tu(ut);Tt.Cs&&(Tt=await Qv(tt.localStore,Z.query,!1).then(({documents:k})=>Z.view.tu(k,Tt)));const zt=dt&&dt.targetChanges.get(Z.targetId),Nt=dt&&dt.targetMismatches.get(Z.targetId)!=null,Yt=Z.view.applyChanges(Tt,tt.isPrimaryClient,zt,Nt);return nE(tt,Z.targetId,Yt.ou),Yt.snapshot}(r,N,O,K);const c=await Qv(r.localStore,t,!0),d=new yC(t,c.$s),g=d.tu(c.documents),y=nh.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),E=d.applyChanges(g,r.isPrimaryClient,y);nE(r,n,E.ou);const w=new vC(t,n,d);return r.hu.set(t,w),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),E.snapshot}async function SC(r,t,n){const s=Kt(r),l=s.hu.get(t),c=s.Pu.get(l.targetId);if(c.length>1)return s.Pu.set(l.targetId,c.filter(d=>!rd(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await mp(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Xp(s.remoteStore,l.targetId),_p(s,l.targetId)}).catch(gu)):(_p(s,l.targetId),await mp(s.localStore,l.targetId,!0))}async function RC(r,t){const n=Kt(r),s=n.hu.get(t),l=n.Pu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xp(n.remoteStore,s.targetId))}async function IC(r,t,n){const s=VC(r);try{const l=await function(d,g){const y=Kt(d),E=En.now(),w=g.reduce((K,G)=>K.add(G.key),ae());let N,O;return y.persistence.runTransaction("Locally write mutations","readwrite",K=>{let G=aa(),tt=ae();return y.Bs.getEntries(K,w).next(Z=>{G=Z,G.forEach((ut,dt)=>{dt.isValidDocument()||(tt=tt.add(ut))})}).next(()=>y.localDocuments.getOverlayedDocuments(K,G)).next(Z=>{N=Z;const ut=[];for(const dt of g){const Tt=BR(dt,N.get(dt.key).overlayedDocument);Tt!=null&&ut.push(new po(dt.key,Tt,I0(Tt.value.mapValue),ms.exists(!0)))}return y.mutationQueue.addMutationBatch(K,E,ut,g)}).next(Z=>{O=Z;const ut=Z.applyToLocalDocumentSet(N,tt);return y.documentOverlayCache.saveOverlays(K,Z.batchId,ut)})}).then(()=>({batchId:O.batchId,changes:U0(N)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let E=d.Au[d.currentUser.toKey()];E||(E=new Be(Zt)),E=E.insert(g,y),d.Au[d.currentUser.toKey()]=E}(s,l.batchId,n),await rh(s,l.changes),await hd(s.remoteStore)}catch(l){const c=eg(l,"Failed to persist write");n.reject(c)}}async function vT(r,t){const n=Kt(r);try{const s=await LI(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Eu.get(c);d&&(Ee(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?Ee(d.cu,14607):l.removedDocuments.size>0&&(Ee(d.cu,42227),d.cu=!1))}),await rh(n,s,t)}catch(s){await gu(s)}}function eE(r,t,n){const s=Kt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.hu.forEach((c,d)=>{const g=d.view.Fa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=Kt(d);y.onlineState=g;let E=!1;y.queries.forEach((w,N)=>{for(const O of N.Sa)O.Fa(g)&&(E=!0)}),E&&ng(y)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function CC(r,t,n){const s=Kt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Eu.get(t),c=l&&l.key;if(c){let d=new Be(Dt.comparator);d=d.insert(c,Zn.newNoDocument(c,Ht.min()));const g=ae().add(c),y=new ld(Ht.min(),new Map,new Be(Zt),d,g);await vT(s,y),s.Iu=s.Iu.remove(c),s.Eu.delete(t),rg(s)}else await mp(s.localStore,t,!1).then(()=>_p(s,t,n)).catch(gu)}async function OC(r,t){const n=Kt(r),s=t.batch.batchId;try{const l=await PI(n.localStore,t);TT(n,s,null),ET(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await rh(n,l)}catch(l){await gu(l)}}async function DC(r,t,n){const s=Kt(r);try{const l=await function(d,g){const y=Kt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let w;return y.mutationQueue.lookupMutationBatch(E,g).next(N=>(Ee(N!==null,37113),w=N.keys(),y.mutationQueue.removeMutationBatch(E,N))).next(()=>y.mutationQueue.performConsistencyCheck(E)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(E,w,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,w)).next(()=>y.localDocuments.getDocuments(E,w))})}(s.localStore,t);TT(s,t,n),ET(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await rh(s,l)}catch(l){await gu(l)}}function ET(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function TT(r,t,n){const s=Kt(r);let l=s.Au[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function _p(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||bT(r,s)})}function bT(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(Xp(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),rg(r))}function nE(r,t,n){for(const s of n)s instanceof gT?(r.du.addReference(s.key,t),NC(r,s)):s instanceof _T?(Et(ig,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||bT(r,s.key)):Lt(19791,{pu:s})}function NC(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(Et(ig,"New document in limbo: "+n),r.Tu.add(s),rg(r))}function rg(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new Dt(xe.fromString(t)),s=r.Vu.next();r.Eu.set(s,new EC(n)),r.Iu=r.Iu.insert(n,s),cT(r.remoteStore,new eo(ds(jp(n.path)),s,"TargetPurposeLimboResolution",ed.le))}}async function rh(r,t,n){const s=Kt(r),l=[],c=[],d=[];s.hu.isEmpty()||(s.hu.forEach((g,y)=>{d.push(s.fu(y,t,n).then(E=>{var w;if((E||n)&&s.isPrimaryClient){const N=E?!E.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,N?"current":"not-current")}if(E){l.push(E);const N=Yp.Rs(y.targetId,E);c.push(N)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(y,E){const w=Kt(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>rt.forEach(E,O=>rt.forEach(O.ds,K=>w.persistence.referenceDelegate.addReference(N,O.targetId,K)).next(()=>rt.forEach(O.As,K=>w.persistence.referenceDelegate.removeReference(N,O.targetId,K)))))}catch(N){if(!_u(N))throw N;Et($p,"Failed to update sequence numbers: "+N)}for(const N of E){const O=N.targetId;if(!N.fromCache){const K=w.xs.get(O),G=K.snapshotVersion,tt=K.withLastLimboFreeSnapshotVersion(G);w.xs=w.xs.insert(O,tt)}}}(s.localStore,c))}async function MC(r,t){const n=Kt(r);if(!n.currentUser.isEqual(t)){Et(ig,"User change. New user:",t.toKey());const s=await aT(n.localStore,t);n.currentUser=t,function(c,d){c.Ru.forEach(g=>{g.forEach(y=>{y.reject(new bt(st.CANCELLED,d))})}),c.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await rh(n,s.ks)}}function xC(r,t){const n=Kt(r),s=n.Eu.get(t);if(s&&s.cu)return ae().add(s.key);{let l=ae();const c=n.Pu.get(t);if(!c)return l;for(const d of c){const g=n.hu.get(d);l=l.unionWith(g.view.eu)}return l}}function AT(r){const t=Kt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CC.bind(null,t),t.lu.Y_=pC.bind(null,t.eventManager),t.lu.gu=gC.bind(null,t.eventManager),t}function VC(r){const t=Kt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DC.bind(null,t),t}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ud(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return kI(this.persistence,new MI,t.initialUser,this.serializer)}Su(t){return new sT(Kp.fi,this.serializer)}bu(t){return new qI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class kC extends $f{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ee(this.persistence.referenceDelegate instanceof Kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _I(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?Ti.withCacheSize(this.cacheSizeBytes):Ti.DEFAULT;return new sT(s=>Kf.fi(s,n),this.serializer)}}class yp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fC}()}createDatastore(t){const n=ud(t.databaseInfo.databaseId),s=function(c){return new KI(c)}(t.databaseInfo);return function(c,d,g,y){return new ZI(c,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new JI(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>eE(this.syncEngine,n,0),function(){return $v.C()?new $v:new HI}())}createSyncEngine(t,n){return function(l,c,d,g,y,E,w){const N=new TC(l,c,d,g,y,E);return w&&(N.mu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=Kt(l);Et(ol,"RemoteStore shutting down."),c.da.add(5),await ih(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):sa("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class LC{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Xn.UNAUTHENTICATED,this.clientId=_0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{Et(fo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(Et(fo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=eg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Qm(r,t){r.asyncQueue.verifyOperationInProgress(),Et(fo,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await aT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function iE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await UC(r);Et(fo,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Zv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Zv(t.remoteStore,l)),r._onlineComponents=t}async function UC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Et(fo,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===st.FAILED_PRECONDITION||l.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;au("Error using user provided cache. Falling back to memory cache: "+n),await Qm(r,new $f)}}else Et(fo,"Using default OfflineComponentProvider"),await Qm(r,new kC(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Et(fo,"Using user provided OnlineComponentProvider"),await iE(r,r._uninitializedComponentsProvider._online)):(Et(fo,"Using default OnlineComponentProvider"),await iE(r,new yp))),r._onlineComponents}function zC(r){return wT(r).then(t=>t.syncEngine)}async function rE(r){const t=await wT(r),n=t.eventManager;return n.onListen=bC.bind(null,t.syncEngine),n.onUnlisten=SC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(r,t,n){if(!n)throw new bt(st.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function BC(r,t,n,s){if(t===!0&&s===!0)throw new bt(st.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!Dt.isDocumentKey(r))throw new bt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oE(r){if(Dt.isDocumentKey(r))throw new bt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Lt(12329,{type:typeof r})}function nl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new bt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(r);throw new bt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firestore.googleapis.com",lE=!0;class uE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new bt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IT,this.ssl=lE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:lE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pI)throw new bt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new bt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new bt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new bt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dd{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new bt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new G1;switch(s.type){case"firstParty":return new $1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new bt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(Et("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function jC(r,t,n,s={}){var l;r=nl(r,dd);const c=$c(t),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${t}:${n}`;c&&(wE(`https://${y}`),SE("Firestore",!0)),d.host!==IT&&d.host!==y&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const E=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!il(E,g)&&(r._setSettings(E),s.mockUserToken)){let w,N;if(typeof s.mockUserToken=="string")w=s.mockUserToken,N=Xn.MOCK_USER;else{w=_A(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new bt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Xn(O)}r._authCredentials=new Q1(new p0(w,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new cl(this.firestore,t,this._query)}}class Ai{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}}class ao extends cl{constructor(t,n,s){super(t,n,jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new Dt(t))}withConverter(t){return new ao(this.firestore,t,this._path)}}function qC(r,t,...n){if(r=Jn(r),RT("collection","path",t),r instanceof dd){const s=xe.fromString(t,...n);return oE(s),new ao(r,null,s)}{if(!(r instanceof Ai||r instanceof ao))throw new bt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xe.fromString(t,...n));return oE(s),new ao(r.firestore,null,s)}}function CT(r,t,...n){if(r=Jn(r),arguments.length===1&&(t=_0.newId()),RT("doc","path",t),r instanceof dd){const s=xe.fromString(t,...n);return aE(s),new Ai(r,null,new Dt(s))}{if(!(r instanceof Ai||r instanceof ao))throw new bt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(xe.fromString(t,...n));return aE(s),new Ai(r.firestore,r instanceof ao?r.converter:null,new Dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new lT(this,"async_queue_retry"),this.rc=()=>{const s=Gm();s&&Et(cE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new el;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!_u(t))throw t;Et(cE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,sa("INTERNAL UNHANDLED ERROR: ",fE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const l=tg.createAndSchedule(this,t,n,s,c=>this.uc(c));return this.Zu.push(l),l}oc(){this.Xu&&Lt(47125,{cc:fE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function fE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Yc extends dd{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new hE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hE(t),this._firestoreClient=void 0,await t}}}function HC(r,t){const n=typeof r=="object"?r:OE(),s=typeof r=="string"?r:qf,l=Ap(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=pA("firestore");c&&jC(l,...c)}return l}function OT(r){if(r._terminated)throw new bt(st.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FC(r),r._firestoreClient}function FC(r){var t,n,s;const l=r._freezeSettings(),c=function(g,y,E,w){return new cR(g,y,E,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,ST(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new LC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fu(Hn.fromBase64String(t))}catch(n){throw new bt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fu(Hn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new bt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new bt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^__.*__$/;class QC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new po(t,this.data,this.fieldMask,n,this.fieldTransforms):new eh(t,this.data,n,this.fieldTransforms)}}class DT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new po(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function NT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ic:r})}}class og{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new og(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Xf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(NT(this.Ic)&&GC.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class KC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ud(t)}bc(t,n,s,l=!1){return new og({Ic:t,methodName:n,wc:s,path:qn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(r){const t=r._freezeSettings(),n=ud(r._databaseId);return new KC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function YC(r,t,n,s,l,c={}){const d=r.bc(c.merge||c.mergeFields?2:0,t,n,l);cg("Data must be an object, but it was:",d,s);const g=MT(s,d);let y,E;if(c.merge)y=new ji(d.fieldMask),E=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const N of c.mergeFields){const O=vp(t,N,n);if(!d.contains(O))throw new bt(st.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);VT(w,O)||w.push(O)}y=new ji(w),E=d.fieldTransforms.filter(N=>y.covers(N.field))}else y=null,E=d.fieldTransforms;return new QC(new bi(g),y,E)}class gd extends pd{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gd}}class ug extends pd{_toFieldTransform(t){return new PR(t.path,new Gc)}isEqual(t){return t instanceof ug}}function $C(r,t,n,s){const l=r.bc(1,t,n);cg("Data must be an object, but it was:",l,s);const c=[],d=bi.empty();mo(s,(y,E)=>{const w=hg(t,y,n);E=Jn(E);const N=l.mc(w);if(E instanceof gd)c.push(w);else{const O=sh(E,N);O!=null&&(c.push(w),d.set(w,O))}});const g=new ji(c);return new DT(d,g,l.fieldTransforms)}function XC(r,t,n,s,l,c){const d=r.bc(1,t,n),g=[vp(t,s,n)],y=[l];if(c.length%2!=0)throw new bt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(vp(t,c[O])),y.push(c[O+1]);const E=[],w=bi.empty();for(let O=g.length-1;O>=0;--O)if(!VT(E,g[O])){const K=g[O];let G=y[O];G=Jn(G);const tt=d.mc(K);if(G instanceof gd)E.push(K);else{const Z=sh(G,tt);Z!=null&&(E.push(K),w.set(K,Z))}}const N=new ji(E);return new DT(w,N,d.fieldTransforms)}function ZC(r,t,n,s=!1){return sh(n,r.bc(s?4:3,t))}function sh(r,t){if(xT(r=Jn(r)))return cg("Unsupported field value:",t,r),MT(r,t);if(r instanceof pd)return function(s,l){if(!NT(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let y=sh(g,l.fc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=En.fromDate(s);return{timestampValue:Qf(l.serializer,c)}}if(s instanceof En){const c=new En(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qf(l.serializer,c)}}if(s instanceof sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fu)return{bytesValue:Z0(l.serializer,s._byteString)};if(s instanceof Ai){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ag)return function(d,g){return{mapValue:{fields:{[S0]:{stringValue:R0},[Hf]:{arrayValue:{values:d.toArray().map(E=>{if(typeof E!="number")throw g.gc("VectorValues must only contain numeric values.");return qp(g.serializer,E)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${fd(s)}`)}(r,t)}function MT(r,t){const n={};return v0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mo(r,(s,l)=>{const c=sh(l,t.Ac(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof En||r instanceof sg||r instanceof fu||r instanceof Ai||r instanceof pd||r instanceof ag)}function cg(r,t,n){if(!xT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=fd(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function vp(r,t,n){if((t=Jn(t))instanceof md)return t._internalPath;if(typeof t=="string")return hg(r,t);throw Xf("Field path arguments must be of type string or ",r,!1,void 0,n)}const WC=new RegExp("[~\\*/\\[\\]]");function hg(r,t,n){if(t.search(WC)>=0)throw Xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new md(...t.split("."))._internalPath}catch{throw Xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Xf(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new bt(st.INVALID_ARGUMENT,g+r+y)}function VT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JC extends kT{data(){return super.data()}}function _d(r,t){return typeof t=="string"?hg(r,t):t instanceof md?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new bt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class PT extends fg{}function e2(r,t,...n){let s=[];t instanceof fg&&s.push(t),s=s.concat(n),function(c){const d=c.filter(y=>y instanceof dg).length,g=c.filter(y=>y instanceof yd).length;if(d>1||d>0&&g>0)throw new bt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class yd extends PT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new yd(t,n,s)}_apply(t){const n=this._parse(t);return LT(t._query,n),new cl(t.firestore,t.converter,lp(t._query,n))}_parse(t){const n=lg(t.firestore);return function(c,d,g,y,E,w,N){let O;if(E.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new bt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){pE(N,w);const G=[];for(const tt of N)G.push(mE(y,c,tt));O={arrayValue:{values:G}}}else O=mE(y,c,N)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||pE(N,w),O=ZC(g,d,N,w==="in"||w==="not-in");return hn.create(E,w,O)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function n2(r,t,n){const s=t,l=_d("where",r);return yd._create(l,s,n)}class dg extends fg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new dg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)LT(d,y),d=lp(d,y)}(t._query,n),new cl(t.firestore,t.converter,lp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends PT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new mg(t,n)}_apply(t){const n=function(l,c,d){if(l.startAt!==null)throw new bt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new bt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fc(c,d)}(t._query,this._field,this._direction);return new cl(t.firestore,t.converter,function(l,c){const d=l.explicitOrderBy.concat([c]);return new yu(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function i2(r,t="asc"){const n=t,s=_d("orderBy",r);return mg._create(s,n)}function mE(r,t,n){if(typeof(n=Jn(n))=="string"){if(n==="")throw new bt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V0(t)&&n.indexOf("/")!==-1)throw new bt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(xe.fromString(n));if(!Dt.isDocumentKey(s))throw new bt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Iv(r,new Dt(s))}if(n instanceof Ai)return Iv(r,n._key);throw new bt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function pE(r,t){if(!Array.isArray(r)||r.length===0)throw new bt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LT(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new bt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new bt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class r2{convertValue(t,n="none"){switch(co(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Lt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return mo(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[Hf].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Je(d.doubleValue));return new ag(c)}convertGeoPoint(t){return new sg(Je(t.latitude),Je(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=id(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jc(t));default:return null}}convertTimestamp(t){const n=lo(t);return new En(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=xe.fromString(t);Ee(iT(s),9688,{name:t});const l=new qc(s.get(1),s.get(3)),c=new Dt(s.popFirst(5));return l.isEqual(n)||sa(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UT extends kT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(_d("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Nf extends UT{data(t={}){return super.data(t)}}class a2{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Nc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Nf(this._firestore,this._userDataWriter,s.key,s,new Nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new bt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new Nf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Nf(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,w=-1;return g.type!==0&&(E=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),w=d.indexOf(g.doc.key)),{type:o2(g.type),doc:y,oldIndex:E,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:r})}}class zT extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new fu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,n)}}function l2(r,t,n,...s){r=nl(r,Ai);const l=nl(r.firestore,Yc),c=lg(l);let d;return d=typeof(t=Jn(t))=="string"||t instanceof md?XC(c,"updateDoc",r._key,t,n,s):$C(c,"updateDoc",r._key,t),BT(l,[d.toMutation(r._key,ms.exists(!0))])}function u2(r,t){const n=nl(r.firestore,Yc),s=CT(r),l=s2(r.converter,t);return BT(n,[YC(lg(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ms.exists(!1))]).then(()=>s)}function c2(r,...t){var n,s,l;r=Jn(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||dE(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(dE(t[d])){const N=t[d];t[d]=(n=N.next)===null||n===void 0?void 0:n.bind(N),t[d+1]=(s=N.error)===null||s===void 0?void 0:s.bind(N),t[d+2]=(l=N.complete)===null||l===void 0?void 0:l.bind(N)}let y,E,w;if(r instanceof Ai)E=nl(r.firestore,Yc),w=jp(r._key.path),y={next:N=>{t[d]&&t[d](h2(E,r,N))},error:t[d+1],complete:t[d+2]};else{const N=nl(r,cl);E=nl(N.firestore,Yc),w=N._query;const O=new zT(E);y={next:K=>{t[d]&&t[d](new a2(E,O,N,K))},error:t[d+1],complete:t[d+2]},t2(r._query)}return function(O,K,G,tt){const Z=new PC(tt),ut=new _C(K,Z,G);return O.asyncQueue.enqueueAndForget(async()=>dC(await rE(O),ut)),()=>{Z.xu(),O.asyncQueue.enqueueAndForget(async()=>mC(await rE(O),ut))}}(OT(E),w,g,y)}function BT(r,t){return function(s,l){const c=new el;return s.asyncQueue.enqueueAndForget(async()=>IC(await zC(s),l,c)),c.promise}(OT(r),t)}function h2(r,t,n){const s=n.docs.get(t._key),l=new zT(r);return new UT(r,l,t._key,s,new Nc(n.hasPendingWrites,n.fromCache),t.converter)}function f2(){return new ug("serverTimestamp")}(function(t,n=!0){(function(l){pu=l})(du),ru(new rl("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Yc(new K1(s.getProvider("auth-internal")),new X1(d,s.getProvider("app-check-internal")),function(E,w){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new bt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(E.options.projectId,w)}(d,l),d);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ro(pv,gv,t),ro(pv,gv,"esm2017")})();const d2={apiKey:"AIzaSyDaUtX4YS_Kf2eLeEOVbsnLznwboFJPuSM",authDomain:"groupchat-bee44.firebaseapp.com",projectId:"groupchat-bee44",storageBucket:"groupchat-bee44.firebasestorage.app",messagingSenderId:"744096974749",appId:"1:744096974749:web:9113a92770759713f1d174",measurementId:"G-V8Y8EESXD8"},jT=CE(d2),Zo=j1(jT),m2=new ta,gE=HC(jT);var Ic={},_E;function p2(){if(_E)return Ic;_E=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.parse=d,Ic.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,c=(()=>{const O=function(){};return O.prototype=Object.create(null),O})();function d(O,K){const G=new c,tt=O.length;if(tt<2)return G;const Z=(K==null?void 0:K.decode)||w;let ut=0;do{const dt=O.indexOf("=",ut);if(dt===-1)break;const Tt=O.indexOf(";",ut),zt=Tt===-1?tt:Tt;if(dt>zt){ut=O.lastIndexOf(";",dt-1)+1;continue}const Nt=g(O,ut,dt),Yt=y(O,dt,Nt),k=O.slice(Nt,Yt);if(G[k]===void 0){let C=g(O,dt+1,zt),M=y(O,zt,C);const P=Z(O.slice(C,M));G[k]=P}ut=zt+1}while(ut<tt);return G}function g(O,K,G){do{const tt=O.charCodeAt(K);if(tt!==32&&tt!==9)return K}while(++K<G);return G}function y(O,K,G){for(;K>G;){const tt=O.charCodeAt(--K);if(tt!==32&&tt!==9)return K+1}return G}function E(O,K,G){const tt=(G==null?void 0:G.encode)||encodeURIComponent;if(!r.test(O))throw new TypeError(`argument name is invalid: ${O}`);const Z=tt(K);if(!t.test(Z))throw new TypeError(`argument val is invalid: ${K}`);let ut=O+"="+Z;if(!G)return ut;if(G.maxAge!==void 0){if(!Number.isInteger(G.maxAge))throw new TypeError(`option maxAge is invalid: ${G.maxAge}`);ut+="; Max-Age="+G.maxAge}if(G.domain){if(!n.test(G.domain))throw new TypeError(`option domain is invalid: ${G.domain}`);ut+="; Domain="+G.domain}if(G.path){if(!s.test(G.path))throw new TypeError(`option path is invalid: ${G.path}`);ut+="; Path="+G.path}if(G.expires){if(!N(G.expires)||!Number.isFinite(G.expires.valueOf()))throw new TypeError(`option expires is invalid: ${G.expires}`);ut+="; Expires="+G.expires.toUTCString()}if(G.httpOnly&&(ut+="; HttpOnly"),G.secure&&(ut+="; Secure"),G.partitioned&&(ut+="; Partitioned"),G.priority)switch(typeof G.priority=="string"?G.priority.toLowerCase():void 0){case"low":ut+="; Priority=Low";break;case"medium":ut+="; Priority=Medium";break;case"high":ut+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${G.priority}`)}if(G.sameSite)switch(typeof G.sameSite=="string"?G.sameSite.toLowerCase():G.sameSite){case!0:case"strict":ut+="; SameSite=Strict";break;case"lax":ut+="; SameSite=Lax";break;case"none":ut+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${G.sameSite}`)}return ut}function w(O){if(O.indexOf("%")===-1)return O;try{return decodeURIComponent(O)}catch{return O}}function N(O){return l.call(O)==="[object Date]"}return Ic}var Mf=p2();function g2(){const r=typeof global>"u"?void 0:global.TEST_HAS_DOCUMENT_COOKIE;return typeof r=="boolean"?r:typeof document=="object"&&typeof document.cookie=="string"}function _2(r){return typeof r=="string"?Mf.parse(r):typeof r=="object"&&r!==null?r:{}}function Km(r,t={}){const n=y2(r);if(!t.doNotParse)try{return JSON.parse(n)}catch{}return r}function y2(r){return r&&r[0]==="j"&&r[1]===":"?r.substr(2):r}class qT{constructor(t,n={}){this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.update=()=>{if(!this.HAS_DOCUMENT_COOKIE)return;const l=this.cookies;this.cookies=Mf.parse(document.cookie),this._checkChanges(l)};const s=typeof document>"u"?"":document.cookie;this.cookies=_2(t||s),this.defaultSetOptions=n,this.HAS_DOCUMENT_COOKIE=g2()}_emitChange(t){for(let n=0;n<this.changeListeners.length;++n)this.changeListeners[n](t)}_checkChanges(t){new Set(Object.keys(t).concat(Object.keys(this.cookies))).forEach(s=>{t[s]!==this.cookies[s]&&this._emitChange({name:s,value:Km(this.cookies[s])})})}_startPolling(){this.pollingInterval=setInterval(this.update,300)}_stopPolling(){this.pollingInterval&&clearInterval(this.pollingInterval)}get(t,n={}){return n.doNotUpdate||this.update(),Km(this.cookies[t],n)}getAll(t={}){t.doNotUpdate||this.update();const n={};for(let s in this.cookies)n[s]=Km(this.cookies[s],t);return n}set(t,n,s){s?s=Object.assign(Object.assign({},this.defaultSetOptions),s):s=this.defaultSetOptions;const l=typeof n=="string"?n:JSON.stringify(n);this.cookies=Object.assign(Object.assign({},this.cookies),{[t]:l}),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Mf.serialize(t,l,s)),this._emitChange({name:t,value:n,options:s})}remove(t,n){const s=n=Object.assign(Object.assign(Object.assign({},this.defaultSetOptions),n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Object.assign({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Mf.serialize(t,"",s)),this._emitChange({name:t,value:void 0,options:n})}addChangeListener(t){this.changeListeners.push(t),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===1&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.addEventListener("change",this.update):this._startPolling())}removeChangeListener(t){const n=this.changeListeners.indexOf(t);n>=0&&this.changeListeners.splice(n,1),this.HAS_DOCUMENT_COOKIE&&this.changeListeners.length===0&&(typeof window=="object"&&"cookieStore"in window?window.cookieStore.removeEventListener("change",this.update):this._stopPolling())}removeAllChangeListeners(){for(;this.changeListeners.length>0;)this.removeChangeListener(this.changeListeners[0])}}const v2=r=>{const{setIsAuth:t}=r,n=new qT,s=async()=>{try{const l=await XS(Zo,m2),{user:c}=l;n.set("auth-token",c.refreshToken),t(!0)}catch(l){console.error(l)}};return vt.jsx("div",{className:"d-flex align-items-center justify-content-center vh-100 bg-light",style:{background:"linear-gradient(135deg, #e0f7fa, #f1f8ff)"},children:vt.jsxs("div",{className:"card shadow-lg border-0 rounded-4 p-4",style:{width:"100%",maxWidth:"400px"},children:[vt.jsxs("div",{className:"text-center mb-4",children:[vt.jsx("h1",{className:"fw-bold text-primary",children:"TechChat 聊天室"}),vt.jsx("p",{className:"text-muted mb-0",children:"請使用 Google 快速登入"})]}),vt.jsx("div",{className:"d-grid gap-3",children:vt.jsxs("button",{className:"btn btn-outline-primary d-flex align-items-center justify-content-center gap-2 py-2",onClick:s,children:[vt.jsx("div",{className:"bg-white rounded-circle p-1 d-flex align-items-center justify-content-center",style:{width:32,height:32},children:vt.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[vt.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),vt.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),vt.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),vt.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),vt.jsx("span",{className:"fw-semibold",children:"使用 Google 登入"})]})}),vt.jsxs("div",{className:"text-center text-muted mt-4 small",children:["點擊登入即表示您同意我們的"," ",vt.jsx("a",{href:"#",className:"text-decoration-none",children:"服務條款"})]})]})})};function E2(r=[]){const t=xr.useRef(null);return xr.useEffect(()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth"})},r),t}function T2(r){const{room:t}=r,[n,s]=xr.useState(""),l=qC(gE,"messages"),[c,d]=xr.useState([]),[g,y]=xr.useState(!1),E=E2([c]);xr.useEffect(()=>{const tt=e2(l,n2("room","==",t),i2("createAt")),Z=c2(tt,ut=>{const dt=ut.docs.map(Tt=>({...Tt.data(),id:Tt.id}));d(dt)});return()=>Z()},[t]);const w=async tt=>{try{tt.preventDefault();const Z={email:Zo.currentUser.email,displayName:Zo.currentUser.displayName,photoURL:Zo.currentUser.photoURL,text:n,createAt:f2(),user:Zo.currentUser.displayName,room:t};g&&(Z.replyData=O,y(!1)),await u2(l,Z),s("")}catch(Z){console.log(Z)}},N=async(tt,Z,ut)=>{tt.preventDefault(),Zo.currentUser.email===Z&&await l2(CT(gE,"messages",ut),{text:"[已刪除]",isDeleted:!0})},[O,K]=xr.useState(""),G=(tt,Z)=>{tt.preventDefault(),y(!0),K(Z)};return vt.jsx("div",{className:"container py-4",children:vt.jsxs("div",{className:"card shadow-sm border-0",children:[vt.jsx("div",{className:"card-header bg-primary text-white fw-bold text-center",children:"TechChat 聊天室"}),vt.jsxs("div",{className:"card-body pb-0",style:{height:"70vh",overflowY:"auto"},children:[c.map(tt=>{var dt,Tt,zt,Nt,Yt;let Z="取得日期中...",ut="取得日期中...";return(dt=tt.createAt)!=null&&dt.seconds&&(Z=new Date(tt.createAt.seconds*1e3).toLocaleString()),(zt=(Tt=tt.replyData)==null?void 0:Tt.createAt)!=null&&zt.seconds&&(ut=new Date(((Yt=(Nt=tt.replyData)==null?void 0:Nt.createAt)==null?void 0:Yt.seconds)*1e3).toLocaleString()),vt.jsxs("div",{children:[tt.replyData&&vt.jsxs("div",{className:"d-flex align-items-start",children:[vt.jsx("i",{className:"bi bi-arrow-90deg-right"}),vt.jsx("img",{src:tt.replyData.photoURL,alt:"userPhotoUrl",width:30,className:"rounded-circle"}),vt.jsxs("div",{className:"d-flex align-items-center",children:[vt.jsx("span",{className:"ms-2  fs-5 ",children:tt.replyData.user}),vt.jsx("span",{className:"ms-2 small fw-light",children:ut})]})]}),vt.jsxs("div",{className:"d-flex align-items-start",children:[vt.jsx("img",{src:tt.photoURL,alt:"userPhotoUrl",width:50,className:"rounded-circle"}),vt.jsxs("div",{className:"d-flex align-items-center",children:[vt.jsx("span",{className:"ms-2  fs-5 ",children:tt.user}),vt.jsx("span",{className:"ms-2 small fw-light",children:Z})]})]}),tt.isDeleted?vt.jsx("div",{className:"message fst-italic text-decoration-line-through",children:vt.jsx("span",{className:"chat-hover",children:"訊息已收回"})}):vt.jsx(vt.Fragment,{children:vt.jsx("div",{className:" message",children:vt.jsxs("span",{className:"chat-hover",children:[tt.text,vt.jsxs("div",{className:"btn-group",children:[vt.jsx("button",{type:"button",className:"btn ","data-bs-toggle":"dropdown","aria-expanded":"false",children:vt.jsx("i",{className:"bi bi-three-dots-vertical"})}),vt.jsxs("ul",{className:"dropdown-menu",children:[Zo.currentUser.email===tt.email&&vt.jsx("li",{children:vt.jsx("a",{className:"dropdown-item",onClick:k=>N(k,tt.email,tt.id),children:"收回訊息"})}),vt.jsx("li",{children:vt.jsx("a",{className:"dropdown-item",href:"#",onClick:k=>{G(k,tt)},children:"回覆此訊息"})})]})]})]})})})]},tt.id)}),vt.jsx("div",{ref:E})]}),vt.jsxs("div",{className:"card-footer",children:[g&&vt.jsxs("div",{className:"form-control",children:["回覆 ",vt.jsx("span",{className:"fw-bold me-1",children:O.user}),vt.jsx("a",{onClick:()=>y(!1),children:vt.jsx("i",{className:"bi bi-x-lg"})})]}),vt.jsxs("form",{className:"d-flex gap-2",onSubmit:w,children:[vt.jsx("input",{value:n,onChange:tt=>s(tt.target.value),type:"text",className:"form-control",placeholder:"輸入訊息"}),vt.jsx("button",{className:"btn btn-primary",type:"submit",children:"發送"})]})]})]})})}const b2=new qT;function A2(){const[r,t]=xr.useState(b2.get("auth-token")),[n,s]=xr.useState(null),[l,c]=xr.useState(null);return r?vt.jsx(vt.Fragment,{children:n?vt.jsx(T2,{room:n}):vt.jsx("div",{className:"container d-flex vh-100 justify-content-center align-items-center",children:vt.jsxs("div",{className:"card p-4 shadow-sm",style:{width:"100%",maxWidth:"400px"},children:[vt.jsx("h4",{className:"text-center mb-3",children:"輸入聊天室號碼"}),vt.jsx("div",{className:"mb-3",children:vt.jsx("input",{id:"roomInput",type:"text",className:"form-control",placeholder:"請輸入聊天室代碼",onChange:d=>c(d.target.value)})}),vt.jsx("button",{className:"btn btn-primary w-100",onClick:()=>s(l),children:"進入聊天室"})]})})}):vt.jsx(vt.Fragment,{children:vt.jsx(v2,{setIsAuth:t})})}rA.createRoot(document.getElementById("root")).render(vt.jsx(xr.StrictMode,{children:vt.jsx(A2,{})}));
